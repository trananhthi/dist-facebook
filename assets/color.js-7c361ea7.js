var v=r=>typeof r=="string"?r:r.src,h=({amount:r=3,format:t="array",group:e=20,sample:g=10}={})=>({amount:r,format:t,group:e,sample:g}),m=(r,t)=>{var e=r.map(g=>{var n=Array.isArray(g)?g:g.split(",").map(Number);return t.format==="hex"?s(n):n});return t.amount===1||e.length===1?e[0]:e},s=r=>"#"+r.map(t=>{var e=t.toString(16);return e.length===1?"0"+e:e}).join(""),i=r=>new Promise((t,e)=>{var g=document.createElement("canvas"),n=g.getContext("2d"),a=new Image;a.onload=()=>{g.height=a.height,g.width=a.width,n.drawImage(a,0,0);var o=n.getImageData(0,0,a.width,a.height).data;t(o)},a.onerror=()=>e(Error("Image loading failed.")),a.crossOrigin="",a.src=r}),c=(r,t)=>{for(var e=4*t.sample,g=r.length/e,n={r:0,g:0,b:0},a=0;a<r.length;a+=e)n.r+=r[a],n.g+=r[a+1],n.b+=r[a+2];return m([[Math.round(n.r/g),Math.round(n.g/g),Math.round(n.b/g)]],t)},u=(r,t,e)=>new Promise((g,n)=>i(v(t)).then(a=>g(r(a,h(e)))).catch(a=>n(a))),d=(r,t)=>u(c,r,t);export{d as a};
