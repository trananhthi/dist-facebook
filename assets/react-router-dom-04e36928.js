import{r as i,a as Z}from"./react-d19e1eaf.js";import{R as $}from"./react-dom-85d2935a.js";import{N as V,u as ee,a as te,b as F,c as K,D as Y,d as A,R as ne,e as ie,f as ae,g as re,m as oe}from"./react-router-a5dabaf9.js";import{s as O,b as B,d as se,e as le,E as ue,i as j,f as W}from"./@remix-run-3e60c484.js";/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _(){return _=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},_.apply(this,arguments)}function G(n,t){if(n==null)return{};var e={},r=Object.keys(n),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(e[a]=n[a]);return e}function ce(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fe(n,t){return n.button===0&&(!t||t==="_self")&&!ce(n)}const de=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],he=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],me="6";try{window.__reactRouterVersion=me}catch{}function De(n,t){return se({basename:t==null?void 0:t.basename,future:_({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:le({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||pe(),routes:n,mapRouteProperties:oe,window:t==null?void 0:t.window}).initialize()}function pe(){var n;let t=(n=window)==null?void 0:n.__staticRouterHydrationData;return t&&t.errors&&(t=_({},t,{errors:ve(t.errors)})),t}function ve(n){if(!n)return null;let t=Object.entries(n),e={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")e[r]=new ue(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let l=new s(a.message);l.stack="",e[r]=l}catch{}}if(e[r]==null){let s=new Error(a.message);s.stack="",e[r]=s}}else e[r]=a;return e}const J=i.createContext({isTransitioning:!1}),we=i.createContext(new Map),ye="startTransition",H=Z[ye],ge="flushSync",M=$[ge];function Se(n){H?H(n):n()}function N(n){M?M(n):n()}class Re{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",e(r))}})}}function Ve(n){let{fallbackElement:t,router:e,future:r}=n,[a,s]=i.useState(e.state),[l,c]=i.useState(),[h,u]=i.useState({isTransitioning:!1}),[o,w]=i.useState(),[m,R]=i.useState(),[y,E]=i.useState(),T=i.useRef(new Map),{v7_startTransition:x}=r||{},p=i.useCallback(d=>{x?Se(d):d()},[x]),v=i.useCallback((d,S)=>{let{deletedFetchers:g,unstable_flushSync:P,unstable_viewTransitionOpts:L}=S;g.forEach(C=>T.current.delete(C)),d.fetchers.forEach((C,Q)=>{C.data!==void 0&&T.current.set(Q,C.data)});let q=e.window==null||typeof e.window.document.startViewTransition!="function";if(!L||q){P?N(()=>s(d)):p(()=>s(d));return}if(P){N(()=>{m&&(o&&o.resolve(),m.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let C=e.window.document.startViewTransition(()=>{N(()=>s(d))});C.finished.finally(()=>{N(()=>{w(void 0),R(void 0),c(void 0),u({isTransitioning:!1})})}),N(()=>R(C));return}m?(o&&o.resolve(),m.skipTransition(),E({state:d,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(c(d),u({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[e.window,m,o,T,p]);i.useLayoutEffect(()=>e.subscribe(v),[e,v]),i.useEffect(()=>{h.isTransitioning&&!h.flushSync&&w(new Re)},[h]),i.useEffect(()=>{if(o&&l&&e.window){let d=l,S=o.promise,g=e.window.document.startViewTransition(async()=>{p(()=>s(d)),await S});g.finished.finally(()=>{w(void 0),R(void 0),c(void 0),u({isTransitioning:!1})}),R(g)}},[p,l,o,e.window]),i.useEffect(()=>{o&&l&&a.location.key===l.location.key&&o.resolve()},[o,m,a.location,l]),i.useEffect(()=>{!h.isTransitioning&&y&&(c(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),E(void 0))},[h.isTransitioning,y]),i.useEffect(()=>{},[]);let f=i.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:d=>e.navigate(d),push:(d,S,g)=>e.navigate(d,{state:S,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(d,S,g)=>e.navigate(d,{replace:!0,state:S,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[e]),b=e.basename||"/",k=i.useMemo(()=>({router:e,navigator:f,static:!1,basename:b}),[e,f,b]);return i.createElement(i.Fragment,null,i.createElement(Y.Provider,{value:k},i.createElement(A.Provider,{value:a},i.createElement(we.Provider,{value:T.current},i.createElement(J.Provider,{value:h},i.createElement(ne,{basename:b,location:a.location,navigationType:a.historyAction,navigator:f,future:{v7_relativeSplatPath:e.future.v7_relativeSplatPath}},a.initialized||e.future.v7_partialHydration?i.createElement(Te,{routes:e.routes,future:e.future,state:a}):t))))),null)}function Te(n){let{routes:t,future:e,state:r}=n;return ie(t,void 0,r,e)}const Le=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=i.forwardRef(function(t,e){let{onClick:r,relative:a,reloadDocument:s,replace:l,state:c,target:h,to:u,preventScrollReset:o,unstable_viewTransition:w}=t,m=G(t,de),{basename:R}=i.useContext(V),y,E=!1;if(typeof u=="string"&&Ee.test(u)&&(y=u,Le))try{let v=new URL(window.location.href),f=u.startsWith("//")?new URL(v.protocol+u):new URL(u),b=O(f.pathname,R);f.origin===v.origin&&b!=null?u=b+f.search+f.hash:E=!0}catch{}let T=ee(u,{relative:a}),x=Ce(u,{replace:l,state:c,target:h,preventScrollReset:o,relative:a,unstable_viewTransition:w});function p(v){r&&r(v),v.defaultPrevented||x(v)}return i.createElement("a",_({},m,{href:y||T,onClick:E||s?r:p,ref:e,target:h}))}),Fe=i.forwardRef(function(t,e){let{"aria-current":r="page",caseSensitive:a=!1,className:s="",end:l=!1,style:c,to:h,unstable_viewTransition:u,children:o}=t,w=G(t,he),m=K(h,{relative:w.relative}),R=F(),y=i.useContext(A),{navigator:E,basename:T}=i.useContext(V),x=y!=null&&ke(m)&&u===!0,p=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,v=R.pathname,f=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(v=v.toLowerCase(),f=f?f.toLowerCase():null,p=p.toLowerCase()),f&&T&&(f=O(f,T)||f);const b=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let k=v===p||!l&&v.startsWith(p)&&v.charAt(b)==="/",d=f!=null&&(f===p||!l&&f.startsWith(p)&&f.charAt(p.length)==="/"),S={isActive:k,isPending:d,isTransitioning:x},g=k?r:void 0,P;typeof s=="function"?P=s(S):P=[s,k?"active":null,d?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(S):c;return i.createElement(be,_({},w,{"aria-current":g,className:P,ref:e,style:L,to:h,unstable_viewTransition:u}),typeof o=="function"?o(S):o)});function Ke(n){let{getKey:t,storageKey:e}=n;return _e({getKey:t,storageKey:e}),null}var I;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(I||(I={}));var D;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(D||(D={}));function X(n){let t=i.useContext(Y);return t||j(!1),t}function xe(n){let t=i.useContext(A);return t||j(!1),t}function Ce(n,t){let{target:e,replace:r,state:a,preventScrollReset:s,relative:l,unstable_viewTransition:c}=t===void 0?{}:t,h=te(),u=F(),o=K(n,{relative:l});return i.useCallback(w=>{if(fe(w,e)){w.preventDefault();let m=r!==void 0?r:B(u)===B(o);h(n,{replace:m,state:a,preventScrollReset:s,relative:l,unstable_viewTransition:c})}},[u,h,o,r,a,e,n,s,l,c])}const z="react-router-scroll-positions";let U={};function _e(n){let{getKey:t,storageKey:e}=n===void 0?{}:n,{router:r}=X(I.UseScrollRestoration),{restoreScrollPosition:a,preventScrollReset:s}=xe(D.UseScrollRestoration),{basename:l}=i.useContext(V),c=F(),h=ae(),u=re();i.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),Pe(i.useCallback(()=>{if(u.state==="idle"){let o=(t?t(c,h):null)||c.key;U[o]=window.scrollY}try{sessionStorage.setItem(e||z,JSON.stringify(U))}catch{}window.history.scrollRestoration="auto"},[e,t,u.state,c,h])),typeof document<"u"&&(i.useLayoutEffect(()=>{try{let o=sessionStorage.getItem(e||z);o&&(U=JSON.parse(o))}catch{}},[e]),i.useLayoutEffect(()=>{let o=t&&l!=="/"?(m,R)=>t(_({},m,{pathname:O(m.pathname,l)||m.pathname}),R):t,w=r==null?void 0:r.enableScrollRestoration(U,()=>window.scrollY,o);return()=>w&&w()},[r,l,t]),i.useLayoutEffect(()=>{if(a!==!1){if(typeof a=="number"){window.scrollTo(0,a);return}if(c.hash){let o=document.getElementById(decodeURIComponent(c.hash.slice(1)));if(o){o.scrollIntoView();return}}s!==!0&&window.scrollTo(0,0)}},[c,a,s]))}function Pe(n,t){let{capture:e}=t||{};i.useEffect(()=>{let r=e!=null?{capture:e}:void 0;return window.addEventListener("pagehide",n,r),()=>{window.removeEventListener("pagehide",n,r)}},[n,e])}function ke(n,t){t===void 0&&(t={});let e=i.useContext(J);e==null&&j(!1);let{basename:r}=X(I.useViewTransitionState),a=K(n,{relative:t.relative});if(!e.isTransitioning)return!1;let s=O(e.currentLocation.pathname,r)||e.currentLocation.pathname,l=O(e.nextLocation.pathname,r)||e.nextLocation.pathname;return W(a.pathname,l)!=null||W(a.pathname,s)!=null}export{be as L,Fe as N,Ve as R,Ke as S,De as c};
