import{g as Cn}from"./@emotion-1f636ee4.js";import{r as m,a as qt}from"./react-d19e1eaf.js";import{h as Pn}from"./aria-hidden-606e0ff2.js";import{t as qe}from"./tabbable-6ab97b54.js";import{r as be}from"./react-dom-85d2935a.js";const Gt=["top","right","bottom","left"],Pt=["start","end"],At=Gt.reduce((e,t)=>e.concat(t,t+"-"+Pt[0],t+"-"+Pt[1]),[]),ue=Math.min,U=Math.max,Ge=Math.round,_e=Math.floor,we=e=>({x:e,y:e}),An={left:"right",right:"left",bottom:"top",top:"bottom"},In={start:"end",end:"start"};function ft(e,t,n){return U(e,ue(t,n))}function ae(e,t){return typeof e=="function"?e(t):e}function te(e){return e.split("-")[0]}function le(e){return e.split("-")[1]}function gt(e){return e==="x"?"y":"x"}function pt(e){return e==="y"?"height":"width"}function Oe(e){return["top","bottom"].includes(te(e))?"y":"x"}function ht(e){return gt(Oe(e))}function Ut(e,t,n){n===void 0&&(n=!1);const r=le(e),o=ht(e),i=pt(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ze(s)),[s,Ze(s)]}function Sn(e){const t=Ze(e);return[Ue(e),t,Ue(t)]}function Ue(e){return e.replace(/start|end/g,t=>In[t])}function Mn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Ln(e,t,n,r){const o=le(e);let i=Mn(te(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Ue)))),i}function Ze(e){return e.replace(/left|right|bottom|top/g,t=>An[t])}function Fn(e){return{top:0,right:0,bottom:0,left:0,...e}}function vt(e){return typeof e!="number"?Fn(e):{top:e,right:e,bottom:e,left:e}}function Ie(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function It(e,t,n){let{reference:r,floating:o}=e;const i=Oe(t),s=ht(t),l=pt(s),u=te(t),a=i==="y",p=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,d=r[l]/2-o[l]/2;let f;switch(u){case"top":f={x:p,y:r.y-o.height};break;case"bottom":f={x:p,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-o.width,y:h};break;default:f={x:r.x,y:r.y}}switch(le(t)){case"start":f[s]-=d*(n&&a?-1:1);break;case"end":f[s]+=d*(n&&a?-1:1);break}return f}const Dn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:h}=It(a,r,u),d=r,f={},v=0;for(let g=0;g<l.length;g++){const{name:y,fn:w}=l[g],{x:R,y:x,data:E,reset:b}=await w({x:p,y:h,initialPlacement:r,placement:d,strategy:o,middlewareData:f,rects:a,platform:s,elements:{reference:e,floating:t}});if(p=R??p,h=x??h,f={...f,[y]:{...f[y],...E}},b&&v<=50){v++,typeof b=="object"&&(b.placement&&(d=b.placement),b.rects&&(a=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):b.rects),{x:p,y:h}=It(a,d,u)),g=-1;continue}}return{x:p,y:h,placement:d,strategy:o,middlewareData:f}};async function fe(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:l,strategy:u}=e,{boundary:a="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=ae(t,e),v=vt(f),y=l[d?h==="floating"?"reference":"floating":h],w=Ie(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:a,rootBoundary:p,strategy:u})),R=h==="floating"?{...s.floating,x:r,y:o}:s.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},b=Ie(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:R,offsetParent:x,strategy:u}):R);return{top:(w.top-b.top+v.top)/E.y,bottom:(b.bottom-w.bottom+v.bottom)/E.y,left:(w.left-b.left+v.left)/E.x,right:(b.right-w.right+v.right)/E.x}}const St=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:l}=t,{element:u,padding:a=0}=ae(e,t)||{};if(u==null)return{};const p=vt(a),h={x:n,y:r},d=ht(o),f=pt(d),v=await s.getDimensions(u),g=d==="y",y=g?"top":"left",w=g?"bottom":"right",R=g?"clientHeight":"clientWidth",x=i.reference[f]+i.reference[d]-h[d]-i.floating[f],E=h[d]-i.reference[d],b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let P=b?b[R]:0;(!P||!await(s.isElement==null?void 0:s.isElement(b)))&&(P=l.floating[R]||i.floating[f]);const k=x/2-E/2,V=P/2-v[f]/2-1,S=ue(p[y],V),T=ue(p[w],V),c=S,L=P-v[f]-T,C=P/2-v[f]/2+k,O=ft(c,C,L),N=le(o)!=null&&C!=O&&i.reference[f]/2-(C<c?S:T)-v[f]/2<0?C<c?c-C:L-C:0;return{[d]:h[d]-N,data:{[d]:O,centerOffset:C-O+N}}}});function kn(e,t,n){return(e?[...n.filter(o=>le(o)===e),...n.filter(o=>le(o)!==e)]:n.filter(o=>te(o)===o)).filter(o=>e?le(o)===e||(t?Ue(o)!==o:!1):!0)}const Nn=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:s,placement:l,platform:u,elements:a}=t,{crossAxis:p=!1,alignment:h,allowedPlacements:d=At,autoAlignment:f=!0,...v}=ae(e,t),g=h!==void 0||d===At?kn(h||null,f,d):d,y=await fe(t,v),w=((n=s.autoPlacement)==null?void 0:n.index)||0,R=g[w];if(R==null)return{};const x=Ut(R,i,await(u.isRTL==null?void 0:u.isRTL(a.floating)));if(l!==R)return{reset:{placement:g[0]}};const E=[y[te(R)],y[x[0]],y[x[1]]],b=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:R,overflows:E}],P=g[w+1];if(P)return{data:{index:w+1,overflows:b},reset:{placement:P}};const k=b.map(T=>{const c=le(T.placement);return[T.placement,c&&p?T.overflows.slice(0,2).reduce((L,C)=>L+C,0):T.overflows[0],T.overflows]}).sort((T,c)=>T[1]-c[1]),S=((o=k.filter(T=>T[2].slice(0,le(T[0])?2:3).every(c=>c<=0))[0])==null?void 0:o[0])||k[0][0];return S!==l?{data:{index:w+1,overflows:b},reset:{placement:S}}:{}}}},Bn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:a=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:v=!0,...g}=ae(e,t),y=te(r),w=te(s)===s,R=await(l.isRTL==null?void 0:l.isRTL(u.floating)),x=h||(w||!v?[Ze(s)]:Sn(s));!h&&f!=="none"&&x.push(...Ln(s,v,f,R));const E=[s,...x],b=await fe(t,g),P=[];let k=((n=o.flip)==null?void 0:n.overflows)||[];if(a&&P.push(b[y]),p){const c=Ut(r,i,R);P.push(b[c[0]],b[c[1]])}if(k=[...k,{placement:r,overflows:P}],!P.every(c=>c<=0)){var V,S;const c=(((V=o.flip)==null?void 0:V.index)||0)+1,L=E[c];if(L)return{data:{index:c,overflows:k},reset:{placement:L}};let C=(S=k.filter(O=>O.overflows[0]<=0).sort((O,M)=>O.overflows[1]-M.overflows[1])[0])==null?void 0:S.placement;if(!C)switch(d){case"bestFit":{var T;const O=(T=k.map(M=>[M.placement,M.overflows.filter(N=>N>0).reduce((N,j)=>N+j,0)]).sort((M,N)=>M[1]-N[1])[0])==null?void 0:T[0];O&&(C=O);break}case"initialPlacement":C=s;break}if(r!==C)return{reset:{placement:C}}}return{}}}};function Mt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lt(e){return Gt.some(t=>e[t]>=0)}const Hn=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=ae(e,t);switch(r){case"referenceHidden":{const i=await fe(t,{...o,elementContext:"reference"}),s=Mt(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Lt(s)}}}case"escaped":{const i=await fe(t,{...o,altBoundary:!0}),s=Mt(i,n.floating);return{data:{escapedOffsets:s,escaped:Lt(s)}}}default:return{}}}}};function Zt(e){const t=ue(...e.map(i=>i.left)),n=ue(...e.map(i=>i.top)),r=U(...e.map(i=>i.right)),o=U(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:o-n}}function Vn(e){const t=e.slice().sort((o,i)=>o.y-i.y),n=[];let r=null;for(let o=0;o<t.length;o++){const i=t[o];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(o=>Ie(Zt(o)))}const Wn=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:s}=t,{padding:l=2,x:u,y:a}=ae(e,t),p=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),h=Vn(p),d=Ie(Zt(p)),f=vt(l);function v(){if(h.length===2&&h[0].left>h[1].right&&u!=null&&a!=null)return h.find(y=>u>y.left-f.left&&u<y.right+f.right&&a>y.top-f.top&&a<y.bottom+f.bottom)||d;if(h.length>=2){if(Oe(n)==="y"){const T=h[0],c=h[h.length-1],L=te(n)==="top",C=T.top,O=c.bottom,M=L?T.left:c.left,N=L?T.right:c.right,j=N-M,A=O-C;return{top:C,bottom:O,left:M,right:N,width:j,height:A,x:M,y:C}}const y=te(n)==="left",w=U(...h.map(T=>T.right)),R=ue(...h.map(T=>T.left)),x=h.filter(T=>y?T.left===R:T.right===w),E=x[0].top,b=x[x.length-1].bottom,P=R,k=w,V=k-P,S=b-E;return{top:E,bottom:b,left:P,right:k,width:V,height:S,x:P,y:E}}return d}const g=await i.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:s});return o.reference.x!==g.reference.x||o.reference.y!==g.reference.y||o.reference.width!==g.reference.width||o.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function Kn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=te(n),l=le(n),u=Oe(n)==="y",a=["left","top"].includes(s)?-1:1,p=i&&u?-1:1,h=ae(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return l&&typeof v=="number"&&(f=l==="end"?v*-1:v),u?{x:f*p,y:d*a}:{x:d*a,y:f*p}}const Jt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await Kn(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},_n=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:y=>{let{x:w,y:R}=y;return{x:w,y:R}}},...u}=ae(e,t),a={x:n,y:r},p=await fe(t,u),h=Oe(te(o)),d=gt(h);let f=a[d],v=a[h];if(i){const y=d==="y"?"top":"left",w=d==="y"?"bottom":"right",R=f+p[y],x=f-p[w];f=ft(R,f,x)}if(s){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",R=v+p[y],x=v-p[w];v=ft(R,v,x)}const g=l.fn({...t,[d]:f,[h]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}},jn=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:l=0,mainAxis:u=!0,crossAxis:a=!0}=ae(e,t),p={x:n,y:r},h=Oe(o),d=gt(h);let f=p[d],v=p[h];const g=ae(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const x=d==="y"?"height":"width",E=i.reference[d]-i.floating[x]+y.mainAxis,b=i.reference[d]+i.reference[x]-y.mainAxis;f<E?f=E:f>b&&(f=b)}if(a){var w,R;const x=d==="y"?"width":"height",E=["top","left"].includes(te(o)),b=i.reference[h]-i.floating[x]+(E&&((w=s.offset)==null?void 0:w[h])||0)+(E?0:y.crossAxis),P=i.reference[h]+i.reference[x]+(E?0:((R=s.offset)==null?void 0:R[h])||0)-(E?y.crossAxis:0);v<b?v=b:v>P&&(v=P)}return{[d]:f,[h]:v}}}},$n=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...l}=ae(e,t),u=await fe(t,l),a=te(n),p=le(n),h=Oe(n)==="y",{width:d,height:f}=r.floating;let v,g;a==="top"||a==="bottom"?(v=a,g=p===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(g=a,v=p==="end"?"top":"bottom");const y=f-u[v],w=d-u[g],R=!t.middlewareData.shift;let x=y,E=w;if(h){const P=d-u.left-u.right;E=p||R?ue(w,P):P}else{const P=f-u.top-u.bottom;x=p||R?ue(y,P):P}if(R&&!p){const P=U(u.left,0),k=U(u.right,0),V=U(u.top,0),S=U(u.bottom,0);h?E=d-2*(P!==0||k!==0?P+k:U(u.left,u.right)):x=f-2*(V!==0||S!==0?V+S:U(u.top,u.bottom))}await s({...t,availableWidth:E,availableHeight:x});const b=await o.getDimensions(i.floating);return d!==b.width||f!==b.height?{reset:{rects:!0}}:{}}}};function xe(e){return Qt(e)?(e.nodeName||"").toLowerCase():"#document"}function ee(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pe(e){var t;return(t=(Qt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Qt(e){return e instanceof Node||e instanceof ee(e).Node}function ge(e){return e instanceof Element||e instanceof ee(e).Element}function de(e){return e instanceof HTMLElement||e instanceof ee(e).HTMLElement}function Ft(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ee(e).ShadowRoot}function We(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=se(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function zn(e){return["table","td","th"].includes(xe(e))}function yt(e){const t=bt(),n=se(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Yn(e){let t=Se(e);for(;de(t)&&!nt(t);){if(yt(t))return t;t=Se(t)}return null}function bt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nt(e){return["html","body","#document"].includes(xe(e))}function se(e){return ee(e).getComputedStyle(e)}function rt(e){return ge(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Se(e){if(xe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ft(e)&&e.host||pe(e);return Ft(t)?t.host:t}function en(e){const t=Se(e);return nt(t)?e.ownerDocument?e.ownerDocument.body:e.body:de(t)&&We(t)?t:en(t)}function ye(e,t){var n;t===void 0&&(t=[]);const r=en(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=ee(r);return o?t.concat(i,i.visualViewport||[],We(r)?r:[]):t.concat(r,ye(r))}function tn(e){const t=se(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=de(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,l=Ge(n)!==i||Ge(r)!==s;return l&&(n=i,r=s),{width:n,height:r,$:l}}function wt(e){return ge(e)?e:e.contextElement}function Ae(e){const t=wt(e);if(!de(t))return we(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=tn(t);let s=(i?Ge(n.width):n.width)/r,l=(i?Ge(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Xn=we(0);function nn(e){const t=ee(e);return!bt()||!t.visualViewport?Xn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ee(e)?!1:t}function Re(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=wt(e);let s=we(1);t&&(r?ge(r)&&(s=Ae(r)):s=Ae(e));const l=qn(i,n,r)?nn(i):we(0);let u=(o.left+l.x)/s.x,a=(o.top+l.y)/s.y,p=o.width/s.x,h=o.height/s.y;if(i){const d=ee(i),f=r&&ge(r)?ee(r):r;let v=d.frameElement;for(;v&&r&&f!==d;){const g=Ae(v),y=v.getBoundingClientRect(),w=se(v),R=y.left+(v.clientLeft+parseFloat(w.paddingLeft))*g.x,x=y.top+(v.clientTop+parseFloat(w.paddingTop))*g.y;u*=g.x,a*=g.y,p*=g.x,h*=g.y,u+=R,a+=x,v=ee(v).frameElement}}return Ie({width:p,height:h,x:u,y:a})}function Gn(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=de(n),i=pe(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},l=we(1);const u=we(0);if((o||!o&&r!=="fixed")&&((xe(n)!=="body"||We(i))&&(s=rt(n)),de(n))){const a=Re(n);l=Ae(n),u.x=a.x+n.clientLeft,u.y=a.y+n.clientTop}return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-s.scrollLeft*l.x+u.x,y:t.y*l.y-s.scrollTop*l.y+u.y}}function Un(e){return Array.from(e.getClientRects())}function rn(e){return Re(pe(e)).left+rt(e).scrollLeft}function Zn(e){const t=pe(e),n=rt(e),r=e.ownerDocument.body,o=U(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=U(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+rn(e);const l=-n.scrollTop;return se(r).direction==="rtl"&&(s+=U(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:l}}function Jn(e,t){const n=ee(e),r=pe(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,l=0,u=0;if(o){i=o.width,s=o.height;const a=bt();(!a||a&&t==="fixed")&&(l=o.offsetLeft,u=o.offsetTop)}return{width:i,height:s,x:l,y:u}}function Qn(e,t){const n=Re(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=de(e)?Ae(e):we(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,u=o*i.x,a=r*i.y;return{width:s,height:l,x:u,y:a}}function Dt(e,t,n){let r;if(t==="viewport")r=Jn(e,n);else if(t==="document")r=Zn(pe(e));else if(ge(t))r=Qn(t,n);else{const o=nn(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Ie(r)}function on(e,t){const n=Se(e);return n===t||!ge(n)||nt(n)?!1:se(n).position==="fixed"||on(n,t)}function er(e,t){const n=t.get(e);if(n)return n;let r=ye(e).filter(l=>ge(l)&&xe(l)!=="body"),o=null;const i=se(e).position==="fixed";let s=i?Se(e):e;for(;ge(s)&&!nt(s);){const l=se(s),u=yt(s);!u&&l.position==="fixed"&&(o=null),(i?!u&&!o:!u&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||We(s)&&!u&&on(e,s))?r=r.filter(p=>p!==s):o=l,s=Se(s)}return t.set(e,r),r}function tr(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?er(t,this._c):[].concat(n),r],l=s[0],u=s.reduce((a,p)=>{const h=Dt(t,p,o);return a.top=U(h.top,a.top),a.right=ue(h.right,a.right),a.bottom=ue(h.bottom,a.bottom),a.left=U(h.left,a.left),a},Dt(t,l,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function nr(e){return tn(e)}function rr(e,t,n){const r=de(t),o=pe(t),i=n==="fixed",s=Re(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const u=we(0);if(r||!r&&!i)if((xe(t)!=="body"||We(o))&&(l=rt(t)),r){const a=Re(t,!0,i,t);u.x=a.x+t.clientLeft,u.y=a.y+t.clientTop}else o&&(u.x=rn(o));return{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function kt(e,t){return!de(e)||se(e).position==="fixed"?null:t?t(e):e.offsetParent}function sn(e,t){const n=ee(e);if(!de(e))return n;let r=kt(e,t);for(;r&&zn(r)&&se(r).position==="static";)r=kt(r,t);return r&&(xe(r)==="html"||xe(r)==="body"&&se(r).position==="static"&&!yt(r))?n:r||Yn(e)||n}const or=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||sn,i=this.getDimensions;return{reference:rr(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function ir(e){return se(e).direction==="rtl"}const cn={convertOffsetParentRelativeRectToViewportRelativeRect:Gn,getDocumentElement:pe,getClippingRect:tr,getOffsetParent:sn,getElementRects:or,getClientRects:Un,getDimensions:nr,getScale:Ae,isElement:ge,isRTL:ir};function sr(e,t){let n=null,r;const o=pe(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const{left:a,top:p,width:h,height:d}=e.getBoundingClientRect();if(l||t(),!h||!d)return;const f=_e(p),v=_e(o.clientWidth-(a+h)),g=_e(o.clientHeight-(p+d)),y=_e(a),R={rootMargin:-f+"px "+-v+"px "+-g+"px "+-y+"px",threshold:U(0,ue(1,u))||1};let x=!0;function E(b){const P=b[0].intersectionRatio;if(P!==u){if(!x)return s();P?s(!1,P):r=setTimeout(()=>{s(!1,1e-7)},100)}x=!1}try{n=new IntersectionObserver(E,{...R,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,R)}n.observe(e)}return s(!0),i}function cr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,a=wt(e),p=o||i?[...a?ye(a):[],...ye(t)]:[];p.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=a&&l?sr(a,n):null;let d=-1,f=null;s&&(f=new ResizeObserver(w=>{let[R]=w;R&&R.target===a&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{f&&f.observe(t)})),n()}),a&&!u&&f.observe(a),f.observe(t));let v,g=u?Re(e):null;u&&y();function y(){const w=Re(e);g&&(w.x!==g.x||w.y!==g.y||w.width!==g.width||w.height!==g.height)&&n(),g=w,v=requestAnimationFrame(y)}return n(),()=>{p.forEach(w=>{o&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h&&h(),f&&f.disconnect(),f=null,u&&cancelAnimationFrame(v)}}const ln=(e,t,n)=>{const r=new Map,o={platform:cn,...n},i={...o.platform,_c:r};return Dn(e,t,{...o,platform:i})},lr=e=>{const{element:t,padding:n}=e;function r(o){return Object.prototype.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return r(t)?t.current!=null?St({element:t.current,padding:n}).fn(o):{}:t?St({element:t,padding:n}).fn(o):{}}}};var ze=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Je(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Je(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Je(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Nt(e){const t=m.useRef(e);return ze(()=>{t.current=e}),t}function ur(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,whileElementsMounted:i,open:s}=e,[l,u]=m.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[a,p]=m.useState(r);Je(a,r)||p(r);const h=m.useRef(null),d=m.useRef(null),f=m.useRef(l),v=Nt(i),g=Nt(o),[y,w]=m.useState(null),[R,x]=m.useState(null),E=m.useCallback(T=>{h.current!==T&&(h.current=T,w(T))},[]),b=m.useCallback(T=>{d.current!==T&&(d.current=T,x(T))},[]),P=m.useCallback(()=>{if(!h.current||!d.current)return;const T={placement:t,strategy:n,middleware:a};g.current&&(T.platform=g.current),ln(h.current,d.current,T).then(c=>{const L={...c,isPositioned:!0};k.current&&!Je(f.current,L)&&(f.current=L,be.flushSync(()=>{u(L)}))})},[a,t,n,g]);ze(()=>{s===!1&&f.current.isPositioned&&(f.current.isPositioned=!1,u(T=>({...T,isPositioned:!1})))},[s]);const k=m.useRef(!1);ze(()=>(k.current=!0,()=>{k.current=!1}),[]),ze(()=>{if(y&&R){if(v.current)return v.current(y,R,P);P()}},[y,R,P,v]);const V=m.useMemo(()=>({reference:h,floating:d,setReference:E,setFloating:b}),[E,b]),S=m.useMemo(()=>({reference:y,floating:R}),[y,R]);return m.useMemo(()=>({...l,update:P,refs:V,elements:S,reference:E,floating:b}),[l,P,V,S,E,b])}var z=typeof document<"u"?m.useLayoutEffect:m.useEffect;let ct=!1,ar=0;const Bt=()=>"floating-ui-"+ar++;function fr(){const[e,t]=m.useState(()=>ct?Bt():void 0);return z(()=>{e==null&&t(Bt())},[]),m.useEffect(()=>{ct||(ct=!0)},[]),e}const dr=qt["useId".toString()],He=dr||fr;function un(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const an=m.createContext(null),fn=m.createContext(null),Le=()=>{var e;return((e=m.useContext(an))==null?void 0:e.id)||null},Ce=()=>m.useContext(fn),mr=e=>{const t=He(),n=Ce(),r=Le(),o=e||r;return z(()=>{const i={id:t,parentId:o};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,o]),t},gr=e=>{let{children:t,id:n}=e;const r=Le();return m.createElement(an.Provider,{value:m.useMemo(()=>({id:n,parentId:r}),[n,r])},t)},pr=e=>{let{children:t}=e;const n=m.useRef([]),r=m.useCallback(s=>{n.current=[...n.current,s]},[]),o=m.useCallback(s=>{n.current=n.current.filter(l=>l!==s)},[]),i=m.useState(()=>un())[0];return m.createElement(fn.Provider,{value:m.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:i}),[n,r,o,i])},t)};function J(e){return(e==null?void 0:e.ownerDocument)||document}function xt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function dn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Rt(e){return J(e).defaultView||window}function oe(e){return e?e instanceof Rt(e).Element:!1}function Ee(e){return e?e instanceof Rt(e).HTMLElement:!1}function hr(e){if(typeof ShadowRoot>"u")return!1;const t=Rt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function mn(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(xt())||t.test(dn()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function gn(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function dt(){return/apple/i.test(navigator.vendor)}function pn(){return xt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Qe(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function ie(e){const t=m.useRef(e);return z(()=>{t.current=e}),t}const Ht="data-floating-ui-safe-polygon";function Ye(e,t,n){return n&&!Qe(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const vr=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:o=null,mouseOnly:i=!1,restMs:s=0,move:l=!0}=t===void 0?{}:t;const{open:u,onOpenChange:a,dataRef:p,events:h,elements:{domReference:d,floating:f},refs:v}=e,g=Ce(),y=Le(),w=ie(o),R=ie(r),x=m.useRef(),E=m.useRef(),b=m.useRef(),P=m.useRef(),k=m.useRef(!0),V=m.useRef(!1),S=m.useRef(()=>{}),T=m.useCallback(()=>{var O;const M=(O=p.current.openEvent)==null?void 0:O.type;return(M==null?void 0:M.includes("mouse"))&&M!=="mousedown"},[p]);m.useEffect(()=>{if(!n)return;function O(){clearTimeout(E.current),clearTimeout(P.current),k.current=!0}return h.on("dismiss",O),()=>{h.off("dismiss",O)}},[n,h]),m.useEffect(()=>{if(!n||!w.current||!u)return;function O(){T()&&a(!1)}const M=J(f).documentElement;return M.addEventListener("mouseleave",O),()=>{M.removeEventListener("mouseleave",O)}},[f,u,a,n,w,p,T]);const c=m.useCallback(function(O){O===void 0&&(O=!0);const M=Ye(R.current,"close",x.current);M&&!b.current?(clearTimeout(E.current),E.current=setTimeout(()=>a(!1),M)):O&&(clearTimeout(E.current),a(!1))},[R,a]),L=m.useCallback(()=>{S.current(),b.current=void 0},[]),C=m.useCallback(()=>{if(V.current){const O=J(v.floating.current).body;O.style.pointerEvents="",O.removeAttribute(Ht),V.current=!1}},[v]);return m.useEffect(()=>{if(!n)return;function O(){return p.current.openEvent?["click","mousedown"].includes(p.current.openEvent.type):!1}function M(A){if(clearTimeout(E.current),k.current=!1,i&&!Qe(x.current)||s>0&&Ye(R.current,"open")===0)return;p.current.openEvent=A;const D=Ye(R.current,"open",x.current);D?E.current=setTimeout(()=>{a(!0)},D):a(!0)}function N(A){if(O())return;S.current();const D=J(f);if(clearTimeout(P.current),w.current){clearTimeout(E.current),b.current=w.current({...e,tree:g,x:A.clientX,y:A.clientY,onClose(){C(),L(),c()}});const I=b.current;D.addEventListener("mousemove",I),S.current=()=>{D.removeEventListener("mousemove",I)};return}c()}function j(A){O()||w.current==null||w.current({...e,tree:g,x:A.clientX,y:A.clientY,onClose(){L(),c()}})(A)}if(oe(d)){const A=d;return u&&A.addEventListener("mouseleave",j),f==null||f.addEventListener("mouseleave",j),l&&A.addEventListener("mousemove",M,{once:!0}),A.addEventListener("mouseenter",M),A.addEventListener("mouseleave",N),()=>{u&&A.removeEventListener("mouseleave",j),f==null||f.removeEventListener("mouseleave",j),l&&A.removeEventListener("mousemove",M),A.removeEventListener("mouseenter",M),A.removeEventListener("mouseleave",N)}}},[d,f,n,e,i,s,l,c,L,C,a,u,g,R,w,p]),z(()=>{var O;if(n&&u&&(O=w.current)!=null&&O.__options.blockPointerEvents&&T()){const j=J(f).body;if(j.setAttribute(Ht,""),j.style.pointerEvents="none",V.current=!0,oe(d)&&f){var M,N;const A=d,D=g==null||(M=g.nodesRef.current.find(I=>I.id===y))==null||(N=M.context)==null?void 0:N.elements.floating;return D&&(D.style.pointerEvents=""),A.style.pointerEvents="auto",f.style.pointerEvents="auto",()=>{A.style.pointerEvents="",f.style.pointerEvents=""}}}},[n,u,y,f,d,g,w,p,T]),z(()=>{u||(x.current=void 0,L(),C())},[u,L,C]),m.useEffect(()=>()=>{L(),clearTimeout(E.current),clearTimeout(P.current),C()},[n,L,C]),m.useMemo(()=>{if(!n)return{};function O(M){x.current=M.pointerType}return{reference:{onPointerDown:O,onPointerEnter:O,onMouseMove(){u||s===0||(clearTimeout(P.current),P.current=setTimeout(()=>{k.current||a(!0)},s))}},floating:{onMouseEnter(){clearTimeout(E.current)},onMouseLeave(){h.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),c(!1)}}}},[h,n,s,u,a,c])},hn=m.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),vn=()=>m.useContext(hn),yr=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[o,i]=m.useReducer((u,a)=>({...u,...a}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=m.useRef(null),l=m.useCallback(u=>{i({currentId:u})},[]);return z(()=>{o.currentId?s.current===null?s.current=o.currentId:i({isInstantPhase:!0}):(i({isInstantPhase:!1}),s.current=null)},[o.currentId]),m.createElement(hn.Provider,{value:m.useMemo(()=>({...o,setState:i,setCurrentId:l}),[o,i,l])},t)},br=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:o}=t;const{currentId:i,setCurrentId:s,initialDelay:l,setState:u,timeoutMs:a}=vn();m.useEffect(()=>{i&&(u({delay:{open:1,close:Ye(l,"close")}}),i!==o&&r(!1))},[o,r,u,i,l]),m.useEffect(()=>{function p(){r(!1),u({delay:l,currentId:null})}if(!n&&i===o)if(a){const h=window.setTimeout(p,a);return()=>{clearTimeout(h)}}else p()},[n,u,i,o,r,l,a]),m.useEffect(()=>{n&&s(o)},[n,s,o])};function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Te(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function Z(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&hr(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}let Vt=0;function ve(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Vt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():Vt=requestAnimationFrame(i)}function wr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Ne(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)})||[],r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var l;return o.parentId===s.id&&((l=o.context)==null?void 0:l.open)})})||[],n=n.concat(r);return n}function ot(e){return"composedPath"in e?e.composedPath()[0]:e.target}const xr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function yn(e){return Ee(e)&&e.matches(xr)}function re(e){e.preventDefault(),e.stopPropagation()}const et=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function bn(e,t){const n=qe(e,et());t==="prev"&&n.reverse();const r=n.indexOf(Te(J(e)));return n.slice(r+1)[0]}function wn(){return bn(document.body,"next")}function xn(){return bn(document.body,"prev")}function Be(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Z(n,r)}function Rr(e){qe(e,et()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Er(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Tr=qt["useInsertionEffect".toString()],Or=Tr||(e=>e());function Fe(e){const t=m.useRef(()=>{});return Or(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const Et={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let mt,Tt;function Wt(e){e.key==="Tab"&&(mt=e.target,clearTimeout(Tt))}function Cr(e){const t=mt===e.relatedTarget;return mt=e.relatedTarget,clearTimeout(Tt),t}const tt=m.forwardRef(function(t,n){const r=Fe(t.onFocus),[o,i]=m.useState();return z(()=>(dt()&&i("button"),document.addEventListener("keydown",Wt),()=>{document.removeEventListener("keydown",Wt)}),[]),m.createElement("span",Ve({},t,{ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,"data-floating-ui-focus-guard":"",style:Et,onFocus:s=>{dt()&&pn()&&!Cr(s)?(s.persist(),Tt=window.setTimeout(()=>{r(s)},50)):r(s)}}))}),Rn=m.createContext(null),En=function(e){let{id:t,enabled:n=!0}=e===void 0?{}:e;const[r,o]=m.useState(null),i=He(),s=Tn();return z(()=>{if(!n)return;const l=t?document.getElementById(t):null;if(l)l.setAttribute("data-floating-ui-portal",""),o(l);else{const u=document.createElement("div");t!==""&&(u.id=t||i),u.setAttribute("data-floating-ui-portal",""),o(u);const a=(s==null?void 0:s.portalNode)||document.body;return a.appendChild(u),()=>{a.removeChild(u)}}},[t,s,i,n]),r},Pr=e=>{let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=En({id:n,enabled:!r}),[s,l]=m.useState(null),u=m.useRef(null),a=m.useRef(null),p=m.useRef(null),h=m.useRef(null),d=!!s&&!s.modal&&!!(r||i)&&o;return m.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function f(v){i&&Be(v)&&(v.type==="focusin"?Er:Rr)(i)}return i.addEventListener("focusin",f,!0),i.addEventListener("focusout",f,!0),()=>{i.removeEventListener("focusin",f,!0),i.removeEventListener("focusout",f,!0)}},[i,o,s==null?void 0:s.modal]),m.createElement(Rn.Provider,{value:m.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:u,afterOutsideRef:a,beforeInsideRef:p,afterInsideRef:h,portalNode:i,setFocusManagerState:l}),[o,i])},d&&i&&m.createElement(tt,{"data-type":"outside",ref:u,onFocus:f=>{if(Be(f,i)){var v;(v=p.current)==null||v.focus()}else{const g=xn()||(s==null?void 0:s.refs.domReference.current);g==null||g.focus()}}}),d&&i&&m.createElement("span",{"aria-owns":i.id,style:Et}),r?be.createPortal(t,r):i?be.createPortal(t,i):null,d&&i&&m.createElement(tt,{"data-type":"outside",ref:a,onFocus:f=>{if(Be(f,i)){var v;(v=h.current)==null||v.focus()}else{const g=wn()||(s==null?void 0:s.refs.domReference.current);g==null||g.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}}))},Tn=()=>m.useContext(Rn),Ar=m.forwardRef(function(t,n){return m.createElement("button",Ve({},t,{type:"button",ref:n,tabIndex:-1,style:Et}))});function Ir(e){let{context:t,children:n,order:r=["content"],guards:o=!0,initialFocus:i=0,returnFocus:s=!0,modal:l=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:a=!0}=e;const{refs:p,nodeId:h,onOpenChange:d,events:f,dataRef:v,elements:{domReference:g,floating:y}}=t,w=ie(r),R=Ce(),x=Tn(),[E,b]=m.useState(null),P=typeof i=="number"&&i<0,k=m.useRef(null),V=m.useRef(null),S=m.useRef(!1),T=m.useRef(null),c=m.useRef(!1),L=x!=null,C=g&&g.getAttribute("role")==="combobox"&&yn(g),O=m.useCallback(function(A){return A===void 0&&(A=y),A?qe(A,et()):[]},[y]),M=m.useCallback(A=>{const D=O(A);return w.current.map(I=>g&&I==="reference"?g:y&&I==="floating"?y:D).filter(Boolean).flat()},[g,y,w,O]);m.useEffect(()=>{if(!l)return;function A(I){if(I.key==="Tab"){O().length===0&&!C&&re(I);const F=M(),_=ot(I);w.current[0]==="reference"&&_===g&&(re(I),I.shiftKey?ve(F[F.length-1]):ve(F[1])),w.current[1]==="floating"&&_===y&&I.shiftKey&&(re(I),ve(F[0]))}}const D=J(y);return D.addEventListener("keydown",A),()=>{D.removeEventListener("keydown",A)}},[g,y,l,w,p,C,O,M]),m.useEffect(()=>{if(!a)return;function A(){c.current=!0,setTimeout(()=>{c.current=!1})}function D(I){const F=I.relatedTarget,_=!(Z(g,F)||Z(y,F)||Z(F,y)||Z(x==null?void 0:x.portalNode,F)||F!=null&&F.hasAttribute("data-floating-ui-focus-guard")||R&&(Ne(R.nodesRef.current,h).find(W=>{var $,Y;return Z(($=W.context)==null?void 0:$.elements.floating,F)||Z((Y=W.context)==null?void 0:Y.elements.domReference,F)})||wr(R.nodesRef.current,h).find(W=>{var $,Y;return(($=W.context)==null?void 0:$.elements.floating)===F||((Y=W.context)==null?void 0:Y.elements.domReference)===F})));F&&_&&!c.current&&F!==T.current&&(S.current=!0,setTimeout(()=>d(!1)))}if(y&&Ee(g))return g.addEventListener("focusout",D),g.addEventListener("pointerdown",A),!l&&y.addEventListener("focusout",D),()=>{g.removeEventListener("focusout",D),g.removeEventListener("pointerdown",A),!l&&y.removeEventListener("focusout",D)}},[g,y,l,h,R,x,d,a]),m.useEffect(()=>{var A;const D=Array.from((x==null||(A=x.portalNode)==null?void 0:A.querySelectorAll("[data-floating-ui-portal]"))||[]);function I(){return[k.current,V.current].filter(Boolean)}if(y&&l){const F=[y,...D,...I()],_=Pn(w.current.includes("reference")||C?F.concat(g||[]):F);return()=>{_()}}},[g,y,l,w,x,C]),m.useEffect(()=>{if(l&&!o&&y){const A=[],D=et(),I=qe(J(y).body,D),F=M(),_=I.filter(W=>!F.includes(W));return _.forEach((W,$)=>{A[$]=W.getAttribute("tabindex"),W.setAttribute("tabindex","-1")}),()=>{_.forEach((W,$)=>{const Y=A[$];Y==null?W.removeAttribute("tabindex"):W.setAttribute("tabindex",Y)})}}},[y,l,o,M]),z(()=>{if(!y)return;const A=J(y);let D=s,I=!1;const F=Te(A),_=v.current;T.current=F;const W=M(y),$=(typeof i=="number"?W[i]:i.current)||y;!P&&ve($,{preventScroll:$===y});function Y(B){if(B.type==="escapeKey"&&p.domReference.current&&(T.current=p.domReference.current),["referencePress","escapeKey"].includes(B.type))return;const Q=B.data.returnFocus;typeof Q=="object"?(D=!0,I=Q.preventScroll):D=Q}return f.on("dismiss",Y),()=>{if(f.off("dismiss",Y),Z(y,Te(A))&&p.domReference.current&&(T.current=p.domReference.current),D&&Ee(T.current)&&!S.current)if(!p.domReference.current||c.current)ve(T.current,{cancelPrevious:!1,preventScroll:I});else{var B;_.__syncReturnFocus=!0,(B=T.current)==null||B.focus({preventScroll:I}),setTimeout(()=>{delete _.__syncReturnFocus})}}},[y,M,i,s,v,p,f,P]),z(()=>{if(x)return x.setFocusManagerState({...t,modal:l,closeOnFocusOut:a}),()=>{x.setFocusManagerState(null)}},[x,l,a,t]),z(()=>{if(P||!y)return;function A(){b(O().length)}if(A(),typeof MutationObserver=="function"){const D=new MutationObserver(A);return D.observe(y,{childList:!0,subtree:!0}),()=>{D.disconnect()}}},[y,O,P,p]);const N=o&&(L||l)&&!C;function j(A){return u&&l?m.createElement(Ar,{ref:A==="start"?k:V,onClick:()=>d(!1)},typeof u=="string"?u:"Dismiss"):null}return m.createElement(m.Fragment,null,N&&m.createElement(tt,{"data-type":"inside",ref:x==null?void 0:x.beforeInsideRef,onFocus:A=>{if(l){const I=M();ve(r[0]==="reference"?I[0]:I[I.length-1])}else if(x!=null&&x.preserveTabOrder&&x.portalNode)if(S.current=!1,Be(A,x.portalNode)){const I=wn()||g;I==null||I.focus()}else{var D;(D=x.beforeOutsideRef.current)==null||D.focus()}}}),C?null:j("start"),m.cloneElement(n,E===0||r.includes("floating")?{tabIndex:0}:{}),j("end"),N&&m.createElement(tt,{"data-type":"inside",ref:x==null?void 0:x.afterInsideRef,onFocus:A=>{if(l)ve(M()[0]);else if(x!=null&&x.preserveTabOrder&&x.portalNode)if(S.current=!0,Be(A,x.portalNode)){const I=xn()||g;I==null||I.focus()}else{var D;(D=x.afterOutsideRef.current)==null||D.focus()}}}))}const je="data-floating-ui-scroll-lock",Sr=m.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;return z(()=>{var i,s;if(!r||document.body.hasAttribute(je))return;document.body.setAttribute(je,"");const a=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",p=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(xt()))return Object.assign(document.body.style,{overflow:"hidden",[a]:p+"px"}),()=>{document.body.removeAttribute(je),Object.assign(document.body.style,{overflow:"",[a]:""})};const h=((i=window.visualViewport)==null?void 0:i.offsetLeft)||0,d=((s=window.visualViewport)==null?void 0:s.offsetTop)||0,f=window.pageXOffset,v=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(v-Math.floor(d))+"px",left:-(f-Math.floor(h))+"px",right:"0",[a]:p+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[a]:""}),document.body.removeAttribute(je),window.scrollTo(f,v)}},[r]),m.createElement("div",Ve({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function Kt(e){return Ee(e.target)&&e.target.tagName==="BUTTON"}function _t(e){return yn(e)}const Mr=function(e,t){let{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:l="click",toggle:u=!0,ignoreMouse:a=!1,keyboardHandlers:p=!0}=t===void 0?{}:t;const h=m.useRef();return m.useMemo(()=>s?{reference:{onPointerDown(d){h.current=d.pointerType},onMouseDown(d){d.button===0&&(Qe(h.current,!0)&&a||l!=="click"&&(n?u&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")&&r(!1):(d.preventDefault(),r(!0)),o.current.openEvent=d.nativeEvent))},onClick(d){if(!o.current.__syncReturnFocus){if(l==="mousedown"&&h.current){h.current=void 0;return}Qe(h.current,!0)&&a||(n?u&&(!o.current.openEvent||o.current.openEvent.type==="click")&&r(!1):r(!0),o.current.openEvent=d.nativeEvent)}},onKeyDown(d){h.current=void 0,p&&(Kt(d)||(d.key===" "&&!_t(i)&&d.preventDefault(),d.key==="Enter"&&(n?u&&r(!1):r(!0))))},onKeyUp(d){p&&(Kt(d)||_t(i)||d.key===" "&&(n?u&&r(!1):r(!0)))}}}:{},[s,o,l,a,p,i,u,n,r])};function Xe(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Lr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Fr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Dr=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},kr=function(e,t){let{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:l,floating:u},dataRef:a}=e,{enabled:p=!0,escapeKey:h=!0,outsidePress:d=!0,outsidePressEvent:f="pointerdown",referencePress:v=!1,referencePressEvent:g="pointerdown",ancestorScroll:y=!1,bubbles:w=!0}=t===void 0?{}:t;const R=Ce(),x=Le()!=null,E=Fe(typeof d=="function"?d:()=>!1),b=typeof d=="function"?E:d,P=m.useRef(!1),{escapeKeyBubbles:k,outsidePressBubbles:V}=Dr(w);return m.useEffect(()=>{if(!n||!p)return;a.current.__escapeKeyBubbles=k,a.current.__outsidePressBubbles=V;function S(O){if(O.key==="Escape"){const M=R?Ne(R.nodesRef.current,i):[];if(M.length>0){let N=!0;if(M.forEach(j=>{var A;if((A=j.context)!=null&&A.open&&!j.context.dataRef.current.__escapeKeyBubbles){N=!1;return}}),!N)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function T(O){const M=P.current;if(P.current=!1,M||typeof b=="function"&&!b(O))return;const N=ot(O);if(Ee(N)&&u){const D=u.ownerDocument.defaultView||window,I=N.scrollWidth>N.clientWidth,F=N.scrollHeight>N.clientHeight;let _=F&&O.offsetX>N.clientWidth;if(F&&D.getComputedStyle(N).direction==="rtl"&&(_=O.offsetX<=N.offsetWidth-N.clientWidth),_||I&&O.offsetY>N.clientHeight)return}const j=R&&Ne(R.nodesRef.current,i).some(D=>{var I;return Xe(O,(I=D.context)==null?void 0:I.elements.floating)});if(Xe(O,u)||Xe(O,l)||j)return;const A=R?Ne(R.nodesRef.current,i):[];if(A.length>0){let D=!0;if(A.forEach(I=>{var F;if((F=I.context)!=null&&F.open&&!I.context.dataRef.current.__outsidePressBubbles){D=!1;return}}),!D)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:x?{preventScroll:!0}:mn(O)||gn(O)}}),r(!1)}function c(){r(!1)}const L=J(u);h&&L.addEventListener("keydown",S),b&&L.addEventListener(f,T);let C=[];return y&&(oe(l)&&(C=ye(l)),oe(u)&&(C=C.concat(ye(u))),!oe(s)&&s&&s.contextElement&&(C=C.concat(ye(s.contextElement)))),C=C.filter(O=>{var M;return O!==((M=L.defaultView)==null?void 0:M.visualViewport)}),C.forEach(O=>{O.addEventListener("scroll",c,{passive:!0})}),()=>{h&&L.removeEventListener("keydown",S),b&&L.removeEventListener(f,T),C.forEach(O=>{O.removeEventListener("scroll",c)})}},[a,u,l,s,h,b,f,o,R,i,n,r,y,p,k,V,x]),m.useEffect(()=>{P.current=!1},[b,f]),m.useMemo(()=>p?{reference:{[Lr[g]]:()=>{v&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[Fr[f]]:()=>{P.current=!0}}}:{},[p,o,v,f,g,r])},Nr=function(e,t){let{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:l,domReference:u}}=e,{enabled:a=!0,keyboardOnly:p=!0}=t===void 0?{}:t;const h=m.useRef(""),d=m.useRef(!1),f=m.useRef();return m.useEffect(()=>{if(!a)return;const g=J(l).defaultView||window;function y(){!n&&Ee(u)&&u===Te(J(u))&&(d.current=!0)}return g.addEventListener("blur",y),()=>{g.removeEventListener("blur",y)}},[l,u,n,a]),m.useEffect(()=>{if(!a)return;function v(g){(g.type==="referencePress"||g.type==="escapeKey")&&(d.current=!0)}return i.on("dismiss",v),()=>{i.off("dismiss",v)}},[i,a]),m.useEffect(()=>()=>{clearTimeout(f.current)},[]),m.useMemo(()=>a?{reference:{onPointerDown(v){let{pointerType:g}=v;h.current=g,d.current=!!(g&&p)},onMouseLeave(){d.current=!1},onFocus(v){var g;d.current||v.type==="focus"&&((g=o.current.openEvent)==null?void 0:g.type)==="mousedown"&&o.current.openEvent&&Xe(o.current.openEvent,u)||(o.current.openEvent=v.nativeEvent,r(!0))},onBlur(v){d.current=!1;const g=v.relatedTarget,y=oe(g)&&g.hasAttribute("data-floating-ui-focus-guard")&&g.getAttribute("data-type")==="outside";f.current=setTimeout(()=>{Z(s.floating.current,g)||Z(u,g)||y||r(!1)})}}}:{},[a,p,u,s,o,r])};let jt=!1;const Ot="ArrowUp",it="ArrowDown",Me="ArrowLeft",Ke="ArrowRight";function $e(e,t,n){return Math.floor(e/t)!==n}function ke(e,t){return t<0||t>=e.current.length}function G(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let l=n;do{var u,a;l=l+(r?-i:i)}while(l>=0&&l<=s.length-1&&(o?o.includes(l):s[l]==null||(u=s[l])!=null&&u.hasAttribute("disabled")||((a=s[l])==null?void 0:a.getAttribute("aria-disabled"))==="true"));return l}function st(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function $t(e,t){return st(t,e===Ot||e===it,e===Me||e===Ke)}function lt(e,t,n){return st(t,e===it,n?e===Me:e===Ke)||e==="Enter"||e==" "||e===""}function Br(e,t,n){return st(t,n?e===Me:e===Ke,e===it)}function Hr(e,t,n){return st(t,n?e===Ke:e===Me,e===Ot)}function ut(e,t){return G(e,{disabledIndices:t})}function zt(e,t){return G(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}const Vr=function(e,t){let{open:n,onOpenChange:r,refs:o,elements:{domReference:i}}=e,{listRef:s,activeIndex:l,onNavigate:u=()=>{},enabled:a=!0,selectedIndex:p=null,allowEscape:h=!1,loop:d=!1,nested:f=!1,rtl:v=!1,virtual:g=!1,focusItemOnOpen:y="auto",focusItemOnHover:w=!0,openOnArrowKeyDown:R=!0,disabledIndices:x=void 0,orientation:E="vertical",cols:b=1,scrollItemIntoView:P=!0}=t===void 0?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:t;const k=Le(),V=Ce(),S=Fe(u),T=m.useRef(y),c=m.useRef(p??-1),L=m.useRef(null),C=m.useRef(!0),O=m.useRef(S),M=m.useRef(n),N=m.useRef(!1),j=m.useRef(!1),A=ie(x),D=ie(n),I=ie(P),[F,_]=m.useState(),W=m.useCallback(function(B,Q,X){X===void 0&&(X=!1);const q=B.current[Q.current];g?_(q==null?void 0:q.id):ve(q,{preventScroll:!0,sync:pn()&&dt()?jt||N.current:!1}),requestAnimationFrame(()=>{const Pe=I.current;Pe&&q&&(X||!C.current)&&(q.scrollIntoView==null||q.scrollIntoView(typeof Pe=="boolean"?{block:"nearest",inline:"nearest"}:Pe))})},[g,I]);z(()=>{document.createElement("div").focus({get preventScroll(){return jt=!0,!1}})},[]),z(()=>{a&&(n?T.current&&p!=null&&(j.current=!0,S(p)):M.current&&(c.current=-1,O.current(null)))},[a,n,p,S]),z(()=>{if(a&&n)if(l==null){if(N.current=!1,p!=null)return;M.current&&(c.current=-1,W(s,c)),!M.current&&T.current&&(L.current!=null||T.current===!0&&L.current==null)&&(c.current=L.current==null||lt(L.current,E,v)||f?ut(s,A.current):zt(s,A.current),S(c.current))}else ke(s,l)||(c.current=l,W(s,c,j.current),j.current=!1)},[a,n,l,p,f,s,E,v,S,W,A]),z(()=>{if(a&&M.current&&!n){var B,Q;const X=V==null||(B=V.nodesRef.current.find(q=>q.id===k))==null||(Q=B.context)==null?void 0:Q.elements.floating;X&&!Z(X,Te(J(X)))&&X.focus({preventScroll:!0})}},[a,n,V,k]),z(()=>{L.current=null,O.current=S,M.current=n});const $=l!=null,Y=m.useMemo(()=>{function B(X){if(!n)return;const q=s.current.indexOf(X);q!==-1&&S(q)}return{onFocus(X){let{currentTarget:q}=X;B(q)},onClick:X=>{let{currentTarget:q}=X;return q.focus({preventScroll:!0})},...w&&{onMouseMove(X){let{currentTarget:q}=X;B(q)},onPointerLeave(){if(C.current&&(c.current=-1,W(s,c),be.flushSync(()=>S(null)),!g)){var X;(X=o.floating.current)==null||X.focus({preventScroll:!0})}}}}},[n,o,W,w,s,S,g]);return m.useMemo(()=>{if(!a)return{};const B=A.current;function Q(H){if(C.current=!1,N.current=!0,!D.current&&H.currentTarget===o.floating.current)return;if(f&&Hr(H.key,E,v)){re(H),r(!1),Ee(i)&&i.focus();return}const ce=c.current,he=ut(s,B),ne=zt(s,B);if(H.key==="Home"&&(c.current=he,S(c.current)),H.key==="End"&&(c.current=ne,S(c.current)),b>1){const K=c.current;if(H.key===Ot){if(re(H),K===-1)c.current=ne;else if(c.current=G(s,{startingIndex:K,amount:b,decrement:!0,disabledIndices:B}),d&&(K-b<he||c.current<0)){const me=K%b,De=ne%b,Ct=ne-(De-me);De===me?c.current=ne:c.current=De>me?Ct:Ct-b}ke(s,c.current)&&(c.current=K),S(c.current)}if(H.key===it&&(re(H),K===-1?c.current=he:(c.current=G(s,{startingIndex:K,amount:b,disabledIndices:B}),d&&K+b>ne&&(c.current=G(s,{startingIndex:K%b-b,amount:b,disabledIndices:B}))),ke(s,c.current)&&(c.current=K),S(c.current)),E==="both"){const me=Math.floor(K/b);H.key===Ke&&(re(H),K%b!==b-1?(c.current=G(s,{startingIndex:K,disabledIndices:B}),d&&$e(c.current,b,me)&&(c.current=G(s,{startingIndex:K-K%b-1,disabledIndices:B}))):d&&(c.current=G(s,{startingIndex:K-K%b-1,disabledIndices:B})),$e(c.current,b,me)&&(c.current=K)),H.key===Me&&(re(H),K%b!==0?(c.current=G(s,{startingIndex:K,disabledIndices:B,decrement:!0}),d&&$e(c.current,b,me)&&(c.current=G(s,{startingIndex:K+(b-K%b),decrement:!0,disabledIndices:B}))):d&&(c.current=G(s,{startingIndex:K+(b-K%b),decrement:!0,disabledIndices:B})),$e(c.current,b,me)&&(c.current=K));const De=Math.floor(ne/b)===me;ke(s,c.current)&&(d&&De?c.current=H.key===Me?ne:G(s,{startingIndex:K-K%b-1,disabledIndices:B}):c.current=K),S(c.current);return}}if($t(H.key,E)){if(re(H),n&&!g&&Te(H.currentTarget.ownerDocument)===H.currentTarget){c.current=lt(H.key,E,v)?he:ne,S(c.current);return}lt(H.key,E,v)?d?c.current=ce>=ne?h&&ce!==s.current.length?-1:he:G(s,{startingIndex:ce,disabledIndices:B}):c.current=Math.min(ne,G(s,{startingIndex:ce,disabledIndices:B})):d?c.current=ce<=he?h&&ce!==-1?s.current.length:ne:G(s,{startingIndex:ce,decrement:!0,disabledIndices:B}):c.current=Math.max(he,G(s,{startingIndex:ce,decrement:!0,disabledIndices:B})),ke(s,c.current)?S(null):S(c.current)}}function X(H){y==="auto"&&mn(H.nativeEvent)&&(T.current=!0)}function q(H){T.current=y,y==="auto"&&gn(H.nativeEvent)&&(T.current=!0)}const Pe=g&&n&&$&&{"aria-activedescendant":F};return{reference:{...Pe,onKeyDown(H){C.current=!1;const ce=H.key.indexOf("Arrow")===0;if(g&&n)return Q(H);if(!n&&!R&&ce)return;if((ce||H.key==="Enter"||H.key===" "||H.key==="")&&(L.current=H.key),f){Br(H.key,E,v)&&(re(H),n?(c.current=ut(s,B),S(c.current)):r(!0));return}$t(H.key,E)&&(p!=null&&(c.current=p),re(H),!n&&R?r(!0):Q(H),n&&S(c.current))},onFocus(){n&&S(null)},onPointerDown:q,onMouseDown:X,onClick:X},floating:{"aria-orientation":E==="both"?void 0:E,...Pe,onKeyDown:Q,onPointerMove(){C.current=!0}},item:Y}},[i,o,F,A,D,s,a,E,v,g,n,$,f,p,R,h,b,d,y,S,r,Y])};function Wr(e){return m.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const Kr=function(e,t){let{open:n}=e,{enabled:r=!0,role:o="dialog"}=t===void 0?{}:t;const i=He(),s=He();return m.useMemo(()=>{const l={id:i,role:o};return r?o==="tooltip"?{reference:{"aria-describedby":n?i:void 0},floating:l}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":n?i:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:s}},floating:{...l,...o==="menu"&&{"aria-labelledby":s}}}:{}},[r,o,n,i,s])},Yt=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function _r(e,t){const[n,r]=m.useState(e);return e&&!n&&r(!0),m.useEffect(()=>{if(!e){const o=setTimeout(()=>r(!1),t);return()=>clearTimeout(o)}},[e,t]),n}function On(e,t){let{open:n,elements:{floating:r}}=e,{duration:o=250}=t===void 0?{}:t;const s=(typeof o=="number"?o:o.close)||0,[l,u]=m.useState(!1),[a,p]=m.useState("unmounted"),h=_r(n,s);return z(()=>{l&&!h&&p("unmounted")},[l,h]),z(()=>{if(r)if(n){p("initial");const d=requestAnimationFrame(()=>{p("open")});return()=>{cancelAnimationFrame(d)}}else u(!0),p("close")},[n,r]),{isMounted:h,status:a}}function jr(e,t){let{initial:n={opacity:0},open:r,close:o,common:i,duration:s=250}=t===void 0?{}:t;const l=e.placement,u=l.split("-")[0],[a,p]=m.useState({}),{isMounted:h,status:d}=On(e,{duration:s}),f=ie(n),v=ie(r),g=ie(o),y=ie(i),w=typeof s=="number",R=(w?s:s.open)||0,x=(w?s:s.close)||0;return z(()=>{const E={side:u,placement:l},b=f.current,P=g.current,k=v.current,V=y.current,S=typeof b=="function"?b(E):b,T=typeof P=="function"?P(E):P,c=typeof V=="function"?V(E):V,L=(typeof k=="function"?k(E):k)||Object.keys(S).reduce((C,O)=>(C[O]="",C),{});if(d==="initial"&&p(C=>({transitionProperty:C.transitionProperty,...c,...S})),d==="open"&&p({transitionProperty:Object.keys(L).map(Yt).join(","),transitionDuration:R+"ms",...c,...L}),d==="close"){const C=T||S;p({transitionProperty:Object.keys(C).map(Yt).join(","),transitionDuration:x+"ms",...c,...C})}},[u,l,x,g,f,v,y,R,d]),{isMounted:h,styles:a}}const $r=function(e,t){var n;let{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:l=()=>{},enabled:u=!0,findMatch:a=null,resetMs:p=1e3,ignoreKeys:h=[],selectedIndex:d=null}=t===void 0?{listRef:{current:[]},activeIndex:null}:t;const f=m.useRef(),v=m.useRef(""),g=m.useRef((n=d??s)!=null?n:-1),y=m.useRef(null),w=Fe(l),R=ie(a),x=ie(h);return z(()=>{r&&(clearTimeout(f.current),y.current=null,v.current="")},[r]),z(()=>{if(r&&v.current===""){var E;g.current=(E=d??s)!=null?E:-1}},[r,d,s]),m.useMemo(()=>{if(!u)return{};function E(b){const P=ot(b.nativeEvent);if(oe(P)&&(Te(J(P))!==b.currentTarget&&P.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')!==b.currentTarget))return;v.current.length>0&&v.current[0]!==" "&&(o.current.typing=!0,b.key===" "&&re(b));const k=i.current;if(k==null||x.current.includes(b.key)||b.key.length!==1||b.ctrlKey||b.metaKey||b.altKey)return;k.every(C=>{var O,M;return C?((O=C[0])==null?void 0:O.toLocaleLowerCase())!==((M=C[1])==null?void 0:M.toLocaleLowerCase()):!0})&&v.current===b.key&&(v.current="",g.current=y.current),v.current+=b.key,clearTimeout(f.current),f.current=setTimeout(()=>{v.current="",g.current=y.current,o.current.typing=!1},p);const S=g.current,T=[...k.slice((S||0)+1),...k.slice(0,(S||0)+1)],c=R.current?R.current(T,v.current):T.find(C=>(C==null?void 0:C.toLocaleLowerCase().indexOf(v.current.toLocaleLowerCase()))===0),L=c?k.indexOf(c):-1;L!==-1&&(w(L),y.current=L)}return{reference:{onKeyDown:E},floating:{onKeyDown:E}}},[u,o,i,p,x,R,w])};function Xt(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const zr=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:u=0,scrollRef:a,...p}=e,{rects:h,elements:{floating:d}}=t,f=n.current[s];if(!f)return{};const v={...t,...await Jt(-f.offsetTop-h.reference.height/2-f.offsetHeight/2-i).fn(t)},g=(a==null?void 0:a.current)||d,y=await fe(Xt(v,g.scrollHeight),p),w=await fe(v,{...p,elementContext:"reference"}),R=Math.max(0,y.top),x=v.y+R,E=Math.max(0,g.scrollHeight-R-Math.max(0,y.bottom));return g.style.maxHeight=E+"px",g.scrollTop=R,o&&(g.offsetHeight<f.offsetHeight*Math.min(l,n.current.length-1)-1||w.top>=-u||w.bottom>=-u?be.flushSync(()=>o(!0)):be.flushSync(()=>o(!1))),r&&(r.current=await fe(Xt({...v,y:x},g.offsetHeight),p)),{y:x}}}),Yr=(e,t)=>{let{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:s,onChange:l}=t;const u=Fe(l),a=m.useRef(!1),p=m.useRef(null),h=m.useRef(null);return m.useEffect(()=>{if(!o)return;function d(v){if(v.ctrlKey||!f||i.current==null)return;const g=v.deltaY,y=i.current.top>=-.5,w=i.current.bottom>=-.5,R=f.scrollHeight-f.clientHeight,x=g<0?-1:1,E=g<0?"max":"min";f.scrollHeight<=f.clientHeight||(!y&&g>0||!w&&g<0?(v.preventDefault(),be.flushSync(()=>{u(b=>b+Math[E](g,R*x))})):/firefox/i.test(dn())&&(f.scrollTop+=g))}const f=(s==null?void 0:s.current)||r.floating;if(n&&f)return f.addEventListener("wheel",d),requestAnimationFrame(()=>{p.current=f.scrollTop,i.current!=null&&(h.current={...i.current})}),()=>{p.current=null,h.current=null,f.removeEventListener("wheel",d)}},[o,n,r.floating,i,s,u]),m.useMemo(()=>o?{floating:{onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const d=(s==null?void 0:s.current)||r.floating;if(!(!i.current||!d||!a.current)){if(p.current!==null){const f=d.scrollTop-p.current;(i.current.bottom<-.5&&f<-1||i.current.top<-.5&&f>1)&&be.flushSync(()=>u(v=>v+f))}requestAnimationFrame(()=>{p.current=d.scrollTop})}}}}:{},[o,i,r.floating,s,u])};function Xr(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,l=i-1;s<i;l=s++){const[u,a]=t[s]||[0,0],[p,h]=t[l]||[0,0];a>=r!=h>=r&&n<=(p-u)*(r-a)/(h-a)+u&&(o=!o)}return o}function qr(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Gr(e){let{restMs:t=0,buffer:n=.5,blockPointerEvents:r=!1}=e===void 0?{}:e,o,i=!1,s=!1;const l=u=>{let{x:a,y:p,placement:h,elements:d,onClose:f,nodeId:v,tree:g}=u;return function(w){function R(){clearTimeout(o),f()}if(clearTimeout(o),!d.domReference||!d.floating||h==null||a==null||p==null)return;const{clientX:x,clientY:E}=w,b=[x,E],P=ot(w),k=w.type==="mouseleave",V=Z(d.floating,P),S=Z(d.domReference,P),T=d.domReference.getBoundingClientRect(),c=d.floating.getBoundingClientRect(),L=h.split("-")[0],C=a>c.right-c.width/2,O=p>c.bottom-c.height/2,M=qr(b,T);if(V&&(s=!0),S&&(s=!1),S&&!k){s=!0;return}if(k&&oe(w.relatedTarget)&&Z(d.floating,w.relatedTarget)||g&&Ne(g.nodesRef.current,v).some(D=>{let{context:I}=D;return I==null?void 0:I.open}))return;if(L==="top"&&p>=T.bottom-1||L==="bottom"&&p<=T.top+1||L==="left"&&a>=T.right-1||L==="right"&&a<=T.left+1)return R();let N=[];switch(L){case"top":N=[[c.left,T.top+1],[c.left,c.bottom-1],[c.right,c.bottom-1],[c.right,T.top+1]],i=x>=c.left&&x<=c.right&&E>=c.top&&E<=T.top+1;break;case"bottom":N=[[c.left,c.top+1],[c.left,T.bottom-1],[c.right,T.bottom-1],[c.right,c.top+1]],i=x>=c.left&&x<=c.right&&E>=T.bottom-1&&E<=c.bottom;break;case"left":N=[[c.right-1,c.bottom],[c.right-1,c.top],[T.left+1,c.top],[T.left+1,c.bottom]],i=x>=c.left&&x<=T.left+1&&E>=c.top&&E<=c.bottom;break;case"right":N=[[T.right-1,c.bottom],[T.right-1,c.top],[c.left+1,c.top],[c.left+1,c.bottom]],i=x>=T.right-1&&x<=c.right&&E>=c.top&&E<=c.bottom;break}function j(D){let[I,F]=D;const _=c.width>T.width,W=c.height>T.height;switch(L){case"top":{const $=[_?I+n/2:C?I+n*4:I-n*4,F+n+1],Y=[_?I-n/2:C?I+n*4:I-n*4,F+n+1],B=[[c.left,C||_?c.bottom-n:c.top],[c.right,C?_?c.bottom-n:c.top:c.bottom-n]];return[$,Y,...B]}case"bottom":{const $=[_?I+n/2:C?I+n*4:I-n*4,F-n],Y=[_?I-n/2:C?I+n*4:I-n*4,F-n],B=[[c.left,C||_?c.top+n:c.bottom],[c.right,C?_?c.top+n:c.bottom:c.top+n]];return[$,Y,...B]}case"left":{const $=[I+n+1,W?F+n/2:O?F+n*4:F-n*4],Y=[I+n+1,W?F-n/2:O?F+n*4:F-n*4];return[...[[O||W?c.right-n:c.left,c.top],[O?W?c.right-n:c.left:c.right-n,c.bottom]],$,Y]}case"right":{const $=[I-n,W?F+n/2:O?F+n*4:F-n*4],Y=[I-n,W?F-n/2:O?F+n*4:F-n*4],B=[[O||W?c.left+n:c.right,c.top],[O?W?c.left+n:c.right:c.left+n,c.bottom]];return[$,Y,...B]}}}const A=i?N:j([a,p]);if(!i){if(s&&!M)return R();Xr([x,E],A)?t&&!s&&(o=setTimeout(R,t)):R()}}};return l.__options={blockPointerEvents:r},l}function Ur(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,o=ur(e),i=Ce(),s=m.useRef(null),l=m.useRef({}),u=m.useState(()=>un())[0],[a,p]=m.useState(null),h=m.useCallback(w=>{const R=oe(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;o.refs.setReference(R)},[o.refs]),d=m.useCallback(w=>{(oe(w)||w===null)&&(s.current=w,p(w)),(oe(o.refs.reference.current)||o.refs.reference.current===null||w!==null&&!oe(w))&&o.refs.setReference(w)},[o.refs]),f=m.useMemo(()=>({...o.refs,setReference:d,setPositionReference:h,domReference:s}),[o.refs,d,h]),v=m.useMemo(()=>({...o.elements,domReference:a}),[o.elements,a]),g=Fe(n),y=m.useMemo(()=>({...o,refs:f,elements:v,dataRef:l,nodeId:r,events:u,open:t,onOpenChange:g}),[o,r,u,t,g,f,v]);return z(()=>{const w=i==null?void 0:i.nodesRef.current.find(R=>R.id===r);w&&(w.context=y)}),m.useMemo(()=>({...o,context:y,refs:f,reference:d,positionReference:h}),[o,f,y,d,h])}function at(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[l,u]=s;if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof u=="function"){var a;(a=r.get(l))==null||a.push(u),o[l]=function(){for(var p,h=arguments.length,d=new Array(h),f=0;f<h;f++)d[f]=arguments[f];(p=r.get(l))==null||p.forEach(v=>v(...d))}}}else o[l]=u}),o),{})}}const Zr=function(e){e===void 0&&(e=[]);const t=e,n=m.useCallback(i=>at(i,e,"reference"),t),r=m.useCallback(i=>at(i,e,"floating"),t),o=m.useCallback(i=>at(i,e,"item"),e.map(i=>i==null?void 0:i.item));return m.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])},Jr=Object.freeze(Object.defineProperty({__proto__:null,FloatingDelayGroup:yr,FloatingFocusManager:Ir,FloatingNode:gr,FloatingOverlay:Sr,FloatingPortal:Pr,FloatingTree:pr,arrow:lr,autoPlacement:Nn,autoUpdate:cr,computePosition:ln,detectOverflow:fe,flip:Bn,getOverflowAncestors:ye,hide:Hn,inline:Wn,inner:zr,limitShift:jn,offset:Jt,platform:cn,safePolygon:Gr,shift:_n,size:$n,useClick:Mr,useDelayGroup:br,useDelayGroupContext:vn,useDismiss:kr,useFloating:Ur,useFloatingNodeId:mr,useFloatingParentNodeId:Le,useFloatingPortalNode:En,useFloatingTree:Ce,useFocus:Nr,useHover:vr,useId:He,useInnerOffset:Yr,useInteractions:Zr,useListNavigation:Vr,useMergeRefs:Wr,useRole:Kr,useTransitionStatus:On,useTransitionStyles:jr,useTypeahead:$r},Symbol.toStringTag,{value:"Module"})),oo=Cn(Jr);export{oo as r};
