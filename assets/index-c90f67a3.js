import{r as o,j as e,R as Wt}from"./react-d19e1eaf.js";import{r as Mt,c as Jt,a as Ut}from"./react-dom-85d2935a.js";import{Q as Lt,k as Dt}from"./react-toastify-a886fbe9.js";import{L as ie,N as pt,S as Ot,c as Vt,R as Ht}from"./react-router-dom-04e36928.js";import{i as Qe,H as Ce,a as Yt}from"./axios-ec8b8e68.js";import{c as Je}from"./crypto-js-b37b266f.js";import{C as qt}from"./@stomp-519e320b.js";import{u as M,a as te,P as Qt}from"./react-redux-f6d8ec95.js";import{r as i}from"./@material-tailwind-effc3ced.js";import{F as L,f as ft,a as Ue,b as xe,c as gt,d as Kt,e as Gt}from"./@fortawesome-2375a389.js";import"./hoist-non-react-statics-23d96a9a.js";import{B as Zt,C as Xt}from"./@heroicons-41fe9a72.js";import{a as jt}from"./classnames-3021cb06.js";import{b as _t,a as re,O as he,h as ke,i as ve}from"./react-router-a5dabaf9.js";import{W as Ke,q as $t}from"./react-helmet-async-f6589152.js";import{u as bt}from"./formik-b2d54e92.js";import{c as es,a as ts,b as _,d as at}from"./yup-ca020cfe.js";import{u as Q,a as vt,b as ne,c as Ee,Q as ss,d as as,R as ns}from"./@tanstack-972940f4.js";import{a as rs}from"./color.js-7c361ea7.js";import{$ as Ge}from"./@emoji-mart-8f22f45b.js";import{_ as nt}from"./lodash-5f278ed9.js";import{p as ls,a as os,d as cs,P as is}from"./redux-persist-015e689f.js";import{c as ds}from"./@reduxjs-a15200fc.js";import{c as xs}from"./redux-9e440239.js";import"./@emotion-1f636ee4.js";import"./scheduler-765c72db.js";import"./clsx-1229b3e0.js";import"./@remix-run-3e60c484.js";import"./use-sync-external-store-5ac6966f.js";import"./tailwind-merge-4e201461.js";import"./prop-types-b0945fbd.js";import"./deepmerge-1a216343.js";import"./framer-motion-e82204fa.js";import"./tslib-43d931d7.js";import"./hey-listen-6de657d8.js";import"./style-value-types-86c13b32.js";import"./popmotion-5ed78e5c.js";import"./framesync-409e5dda.js";import"./@motionone-a0810199.js";import"./material-ripple-effects-ffa693ae.js";import"./@floating-ui-9ecff2ed.js";import"./aria-hidden-606e0ff2.js";import"./tabbable-6ab97b54.js";import"./react-is-e8e5dbb3.js";import"./invariant-5f8eb191.js";import"./shallowequal-65ce331c.js";import"./lodash-es-da6d11e1.js";import"./react-fast-compare-89ff7d29.js";import"./tiny-warning-c932d744.js";import"./property-expr-38205fa5.js";import"./tiny-case-d0726479.js";import"./toposort-46a97a50.js";import"./emoji-mart-029374f1.js";import"./immer-9093c292.js";import"./redux-thunk-ef899f4c.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();const B={home:"/home",login:"/",confirmAccount:"/authenticate/:email",friend:"/friend",group:"/groups/feed",profile:"/profile",messenger:"/messenger/:roomId?"},ms="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAtFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABSe1G2AAAAO3RSTlMAzvS5xvonBp3oRtzDUtnw8U4emwvUh+277KgZ0Pb4Z4JyR+6f0oomeQgyA/uLDEHzcbSGHZ5MSy/y5TK+DIIAAAENSURBVBgZzcHVcoNAAAXQu7hDGnd3q9v9//8qZGEG0k3fOu05+Ct3dXEv6nf4yWzOTHuG2xouJbeBmzYsbJDZtgbaoLVFhc6CjpQtmBE2ynwWfKSmlKYoG7IwRMqgZKCsyUITqS6lLsp6LPSQcim5KHtl4Q0pnZKOCp2SjkyNUg0VfYMZo4+LBTMLXLEn/sif2MiNjcQY43d4TqRR0iLHA/CgkUyWqzVyVsCqwMLzJy8Oxz0y55jX4jPeR5Qe9wCsmN/FFp6YOwIIqBLgNKd0WMOjmocX5lZwqOagxtwSEdUiWMwl0Kim4cRcAt4CMNeBSTUToGTuIKgmgDZTH50dEFItRFkoTF4zRYh/7gsVM4BHCnoTjgAAAABJRU5ErkJggg==",hs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAB3RJTUUH4wMFCCoUV9gAgwAAAAJiS0dEAP+Hj8y/AAACfElEQVR42pWWP2hTURTGfyWhRRrTPKpupVtwE9xsl4KbTtkTFSlonzgoqB1a0qEOgkMEJ6FDYh0Us4qJJS+IrSmIFCot0VacmgpCBFMbk9Tn5VIeTe77c/3OcHPP+/Jxzjv3nXvwhEGSLBZVfgmrYoldUnj/CwlKtLFVE94SCbQwzrL8S4sCJhPEiQiLi183hKclny0Lli9CZCRxF5MobhjCZFdyMoLtgRhFQWiSJoIfIoLRFMwCMXeZDRnLGDowZVSbqlRIRrPOCF4Icx+LAi94ymv2saUt9SaYkdF4y0Ccbdc6ZroqJd/NOYJwV5H5i32kgrLgaYLRxzeXmCrO8ZNpDaKDl4J7oEglkChhY4JWRKu0OM2lHqESgEGbFlGCcYLn2DwCZpUPx4CUPFrBGKAimHn6OUVdSS4FOc3EHgtemT7CWNiK5ZDuCYLxQfBqXJEVVu0tbIkljjcmecV5YBrbx77CnlgieCEsj9wOV1nzFdqDhiKkpKRhDdgOSO26ltAWlMWSJM+ix1k6qyVkQRaRodzcwg0XtISykHI2eVQM80lLKAkGncNNnSGQuMg7Ssxzk1WeOX2oxgp1V5kOBkDZcZQYBU7yxfGcAfq5R4sdjgOT7m/IaSOOHVDl95H9DAMA3KFOmgw/XIWcm+69T/Y1njBLlSafWeOnC2Olq9UG2EeGAThGQ3k23tP8fW3usLFdY58FpjB5QJl2b/OHEEu+Qn+wKPOdRUaQEOu68BcJqRfkpkeDmOY2c8xwmVGHPSYv7g2vu/aNIjOFisHDK7tILGCIcOyhwohqDBFOBSuO0HzXWGMqY43WoNXxH7T0YZAi1zX65Uh5j37/AJDhUNPLc+ikAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTAzLTA1VDE2OjQyOjIwLTA4OjAw1RMXKwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wMy0wNVQxNjo0MjoyMC0wODowMKROr5cAAAAASUVORK5CYII=",us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAtFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAABMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIj7IxAAAAO3RSTlNA3DUyL1K5AM49+iM89Nk/nUbDJ/AKFB0iKOgeR/YDqA15OwIL1DSbGcaCAQYaQT4E7UxL7vMu+AgMOkVHMZUAAAEmSURBVHjaxdLXboMwGIbhn2kDYYcEsvde3cP3f1+Nje3KaRzlJOp79kmPQGADuqNHoO4Sv+Fl9ybqvRLaU+8GmnVIXWemR2MiGrM9KM2jWQ5U5Erk0jldAG0xVZAhkUFnG+raCupL1KfT4shS0FyiOZ0NjhoKGko0pHPC0URBzxK90GlzZAukfp7LVoujlopWa2bWq3pWzFSXZ7fbGB/GZifm3vKs/YOuSppEIakLoySlv/wIAJ4ZFALlGVHLcvT5Daw42DJ0aJLLmgf0FUPd+/aMcm5UlaMSeMEZZeRaGTqJ84sLSMn1UlTJR0GiQYk8GjAh0qAIFQJ5EGpQiE6/iOhCSCAbfI3xJYpHgDUI8zvs2SMEjgY5ygE72P/7LuzcdVX+Ef0Azolz/GASEqMAAAAASUVORK5CYII=",As="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAgVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACaMnGsAAAAKnRSTlMA5vCDIi7I/vyt6vQjRyqoauAGXRmiy6za7jnrCNvJcfHyd/uV2UienSvlwWoBAAAA00lEQVQYGbXBh07DMBQF0JvEie2s7r0ncP//A5HqNHLLs4WQOAd/8HW9VdXt2iLifOHD5YygCXsTBIxH7I3GkA3pGUI2oGcA2ZyeOWQrelaQVfRUkC3pWUL2Qc8nZGut2dF6jYAZezOETDfsbKYIand82LWI2B72x+P+sMW/y7MiMeyYpMhyvKsX/GGh8KJJqflGM23guRuKTINenTIgrfFkGWTRyakZoJnDyRiRwSkYUcBJGJHAMYwwcBgFp2RECccywsJRJwadFDrKlhSVVuG3vgGmIF3+dKAcCwAAAABJRU5ErkJggg==",ps="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAYFBMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABzK7FeAAAAH3RSTlMAvW0N7fwG5qYcNOhv3UIER+xw3PXG9FQWWf6C/RofU1AbJwAAAJhJREFUeF7t0rcOwjAURmFS7fTey3n/t2SgJBE3shgQDJztl77JvpcPlQ26attKD9m5yRPuJfmZKWeezaVsuhHqKe37dKph7CTjRNCst7E2EDkCsqFYHmMpwBaQBfG2YrAEpCDcVghKQB742/LBExAgzC+iQCteUjo4GBcxd680cujjQ8qpHeK030Z/ZP5g86mYj+6t8zV3BWafR29FIA9XAAAAAElFTkSuQmCC",fs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAY1BMVEVHcEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADIAbxiAAAAIHRSTlMAVQxPCRM3/tqa3xpit+W2M+YiQ2FCoqFj1CE01tW4tTH6AsEAAAD2SURBVHjandTZcoMwDAXQyx6IWUtYQtrq/7+yRKNahAl2kvOil4vF2JaxU9KqhFNH7AoXQ8zgmSSIuQ7ERtzFQYKN84mKCEDTEqsaAFFBp/NDZlWbmazZ1PeiqYQzGe1knPrvGJBDIKG4OM4UMUSkvfYdI1g1HfiFmvRTKWKCutlQnoZhmtvQt2YWEu0F7KslsciZ9mMly2RrRlKZLFaN/RUoSeWwclIlaCPVUEobD6FQQ+FHIX+7n1d+HJ0ZXFswmA6sOd7MBtbsPBZhHAfsvyo18Mal819f/yC8PlI6nNPNMZw65ku1H/M3HwzVE+s/e8T8z+EfoFtWXCw/9pEAAAAASUVORK5CYII=",gs="/assets/like-eac472d7.png",js="/assets/love-0d8bb9c4.png",bs="/assets/care-daa4ced1.png",vs="/assets/haha-372f2f1c.png",Ns="/assets/wow-c1c8e797.png",ys="/assets/sad-38a2a594.png",ws="/assets/angry-2cf4a406.png",Cs=Array.from({length:12},(t,s)=>`Tháng ${s+1}`),ks=Array.from({length:31},(t,s)=>`${s+1}`),Es=Array.from({length:new Date().getFullYear()-1980+1},(t,s)=>`${s+1980}`).reverse(),ce=[{icon:hs,value:"public",title:"Công khai",description:"Bất kỳ ai ở trên hoặc ngoài Facebook"},{icon:ms,value:"friend",title:"Bạn bè",description:"Bạn bè của bạn trên Facebook"},{icon:us,value:"except_friend",title:"Bạn bè ngoại trừ...",description:"Không hiển thị với một số bạn bè"},{icon:As,value:"specific_friend",title:"Bạn bè cụ thể",description:"Chỉ hiển thị với một số bạn bè"},{icon:ps,value:"only_me",title:"Chỉ mình tôi",description:""},{icon:fs,value:"custom",title:"Tùy chỉnh",description:"Bao gồm và loại trừ bạn bè, danh sách"}],Ne=[{icon:gs,title:"Thích",value:"like",color:"#0566ff"},{icon:js,title:"Yêu thích",value:"love",color:"#e73b54"},{icon:bs,title:"Thương thương",value:"care",color:"#eaa823"},{icon:vs,title:"Haha",value:"haha",color:"#eaa823"},{icon:Ns,title:"Wow",value:"wow",color:"#eaa823"},{icon:ys,title:"Buồn",value:"sad",color:"#eaa823"},{icon:ws,title:"Phẫn nộ",value:"angry",color:"#df7722"}];function ye(t){var s;return Qe(t)&&((s=t.response)==null?void 0:s.status)===Ce.BadRequest}function Ss(t){var s;return Qe(t)&&((s=t.response)==null?void 0:s.status)===Ce.InternalServerError}function Nt(t){var s;return Qe(t)&&((s=t.response)==null?void 0:s.status)===Ce.Unauthorized}function Fs(t){var s;return Nt(t)&&((s=t.response)==null?void 0:s.data.errorKey)==="TokenIsExpired"}function Ze(t){const s=["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],r=new Date(t),a=s[r.getDay()],n=r.getDate(),l=r.getMonth()+1,c=r.getFullYear(),d=r.getHours(),m=r.getMinutes();return`${a}, ${n} Tháng ${l}, ${c} lúc ${d}:${m<10?"0":""}${m}`}function Rs(t){const s=Math.floor(t/60),r=t%60;return`${s}:${r<10?"0":""}${r}`}function Bs(t){try{return atob(t)}catch(s){return console.error("Error decoding Base64:",s),""}}function zs(t){const s=new Date,r=new Date(t),a=s.getTime()-r.getTime(),n=Math.floor(a/1e3),l=Math.floor(n/60),c=Math.floor(l/60),d=Math.floor(c/24);return d>0?d<10?`${d} ngày trước`:`${r.getDate()} Tháng ${r.getMonth()+1}, ${r.getFullYear()} lúc ${r.getHours()}:${r.getMinutes()<10?"0":""}${r.getMinutes()}`:c>0?`${c} giờ trước`:l>0?`${l} phút trước`:"vừa xong"}const Xe=t=>Je.AES.encrypt(JSON.stringify(t),"thideptrai").toString(),_e=t=>{const s=Je.AES.decrypt(t,"thideptrai");return JSON.parse(s.toString(Je.enc.Utf8))},rt=(t,s)=>{const r=t.find(a=>a.userAccount.email===s);return r?Ne.find(a=>a.value===r.typeReaction):null},Ts=t=>(l=>{const c={};return l.forEach(d=>{const m=d.typeReaction;c[m]=(c[m]||0)+1}),Object.entries(c).map(([d,m])=>({type:d,count:m}))})(t).sort((l,c)=>c.count-l.count).slice(0,3),Le=t=>t.replace(/\n/g,"\\n"),yt=t=>t.replace(/\\n/g,`
`);function Is(t){const s=new Date,r=new Date(t),a=s.getTime()-r.getTime(),n=Math.floor(a/1e3),l=Math.floor(n/60),c=Math.floor(l/60),d=Math.floor(c/24),m=Math.floor(d/7),h=Math.floor(d/30),u=Math.floor(d/365);if(u>0)return`${u} năm trước`;if(h>0)return`${h} tháng trước`;if(m>0)return`${m} tuần trước`;if(d>0){if(d===1)return"Hôm qua";if(d<10)return`${d} ngày trước`}else return c>0?`${c} giờ trước`:l>0?`${l} phút trước`:"vừa xong"}const wt=(t,s)=>{if(t){const r=Array.from(t),a=Array.from(s),n=r.concat(a),l=new DataTransfer;return n.forEach(d=>{l.items.add(d)}),l.files}else return s};function Ps(t){const r=new Date().getTime()-new Date(t).getTime(),a=Math.floor(r/1e3),n=Math.floor(a/60),l=Math.floor(n/60),c=Math.floor(l/24),d=Math.floor(c/7),m=Math.floor(d/52);return m>0?`${m} năm`:d>0?`${d} tuần`:c>0?`${c} ngày`:l>0?`${l} giờ`:n>0?`${n} phút`:"1 phút"}const De=new EventTarget,lt=t=>{localStorage.setItem("accessToken",Xe(t))},Ws=t=>{localStorage.setItem("refreshToken",Xe(t))},Oe=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("persist:root");const t=new Event("clearLS");De.dispatchEvent(t)},Ct=()=>localStorage.getItem("accessToken")?_e(localStorage.getItem("accessToken")):"",Ms=()=>localStorage.getItem("refreshToken")?_e(localStorage.getItem("refreshToken")):"",Js="wss://trananhthi.id.vn:8443/facebook/ws",be={isAuthenticated:!!(Ct()&&localStorage.getItem("persist:root")),setIsAuthenticated:()=>null,reset:()=>null,stompClient:new qt({brokerURL:Js}),messageReceived:null,setMessageReceived:()=>null},se=o.createContext(be),Us=({children:t})=>{const[s,r]=o.useState(be.isAuthenticated),[a,n]=o.useState(be.messageReceived),l=()=>{r(!1)},c=be.stompClient;return e.jsx(se.Provider,{value:{isAuthenticated:s,setIsAuthenticated:r,reset:l,stompClient:c,messageReceived:a,setMessageReceived:n},children:t})},$e="/assets/logo-38e1ed26.png",kt=t=>({type:"tempAccount/UPDATE",payload:t}),et=()=>({type:"tempAccount/CLEAR"}),Ls=t=>({type:"tempAccount/MARK_CONFIRM",payload:t}),tt=t=>({type:"userAccount/SET",payload:t}),Ds=()=>({type:"userAccount/CLEAR"}),D="/assets/facbook_icon_3-828e77fd.png",Os="/assets/facbook_icon_16-4af2b112.png",Vs="/assets/facbook_icon_17-1afc5f92.png";function Hs(){const t=M(l=>l.rootReducer.userAccountReducer),s=te(),[r,a]=o.useState(!1),n=()=>{Oe(),s(Ds())};return e.jsxs(i.Popover,{open:r,handler:a,offset:0,placement:"bottom-start",children:[e.jsx(i.PopoverHandler,{children:e.jsx(i.Button,{id:"header-avatar-button",variant:"text",color:"blue-gray",className:"flex items-center gap-1 rounded-full py-0.5 pr-0 pl-0 lg:ml-auto -mr-3",children:e.jsx(i.Avatar,{variant:"circular",size:"sm",alt:"avatar",className:"h-10 w-10 border-solid border-gray-400 border",src:t.avatar})})}),e.jsx(i.PopoverContent,{className:"w-[360px] shadow-[0_0px_10px_5px_rgba(0,0,0,1)] p-0 py-1 z-[99999]",children:e.jsxs("div",{className:"flex flex-col items-center mt-2",children:[e.jsx("div",{className:"px-4 w-full",children:e.jsx(i.Card,{className:"rounded-md shadow-[0_0px_8px_2px_rgba(0,0,0,0.1)] mb-4",children:e.jsxs(i.CardBody,{className:"px-1 py-1",children:[e.jsx(ie,{to:B.profile,onClick:()=>a(!1),children:e.jsxs("div",{className:"flex items-center min-h-[60px] p-2 mb-1 rounded-lg gap-2 cursor-pointer hover:bg-[#f2f2f2]",children:[e.jsx(i.Avatar,{variant:"circular",size:"sm",alt:"avatar",className:"h-9 w-9 border-solid border-gray-400 border",src:t.avatar}),e.jsx(i.Typography,{as:"span",className:"font-semibold w-[230px]",color:"black",children:t.firstName+" "+t.lastName})]})}),e.jsx("hr",{className:" border-[1px] border-gray-300 mx-2"}),e.jsx(i.Typography,{as:"span",className:"text-[15px]  text-[#0866ff] mt-1 p-2 rounded-lg font-[600] cursor-pointer hover:bg-[#f2f2f2]",children:"Xem tất cả trang cá nhân"})]})})}),e.jsxs("div",{className:"w-full px-2 mb-2",children:[e.jsxs("button",{className:"w-full  flex gap-4 items-center h-[52px] hover:bg-[#f2f2f2] rounded-lg px-2",children:[e.jsx("div",{className:"bg-[#d8dadf] h-9 w-9 rounded-full flex justify-center items-center",children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-154px_-110px] h-5 w-5"})}),e.jsx(i.Typography,{as:"span",variant:"small",className:"font-semibold",color:"black",children:"Cài đặt & quyền riêng tư"})]}),e.jsxs("button",{className:"w-full flex gap-4 items-center h-[52px] hover:bg-[#f2f2f2] rounded-lg px-2",children:[e.jsx("div",{className:"bg-[#d8dadf] h-9 w-9 rounded-full flex justify-center items-center",children:e.jsx("div",{className:`bg-[url(https://static.xx.fbcdn.net/rsrc.php/v3/yi/r/RJ2gJMyPGF8.png)] \r
                            bg-[length:26px_330px] bg-[-0px_-202px] h-5 w-5`})}),e.jsx(i.Typography,{as:"span",variant:"small",className:"font-semibold",color:"black",children:"Trợ giúp & hỗ trợ"})]}),e.jsxs("button",{className:"w-full flex gap-4 items-center h-[52px] hover:bg-[#f2f2f2] rounded-lg px-2",children:[e.jsx("div",{className:"bg-[#d8dadf] h-9 w-9 rounded-full flex justify-center items-center",children:e.jsx("div",{style:{backgroundImage:`url(${Os})`},className:`\r
                            bg-[length:34px_836px] bg-[0px_-386px] h-5 w-5`})}),e.jsx(i.Typography,{as:"span",variant:"small",className:"font-semibold",color:"black",children:"Màn hình & trợ năng"})]}),e.jsxs("button",{className:"w-full flex gap-4 items-center h-[52px] hover:bg-[#f2f2f2] rounded-lg px-2",children:[e.jsx("div",{className:"bg-[#d8dadf] h-9 w-9 rounded-full flex justify-center items-center",children:e.jsx("div",{className:`bg-[url(https://static.xx.fbcdn.net/rsrc.php/v3/yi/r/RJ2gJMyPGF8.png)] \r
                            bg-[length:26px_330px] bg-[0px_-70px] h-5 w-5`})}),e.jsx(i.Typography,{as:"span",variant:"small",className:"font-semibold",color:"black",children:"Đóng góp ý kiến"})]}),e.jsxs("button",{className:"flex w-full gap-4 items-center h-[52px] hover:bg-[#f2f2f2] rounded-lg px-2",onClick:n,children:[e.jsx("div",{className:"bg-[#d8dadf] h-9 w-9 rounded-full flex justify-center items-center",children:e.jsx("div",{style:{backgroundImage:`url(${Vs})`},className:"bg-[length:42px_710px] bg-[0px_-314px] h-5 w-5"})}),e.jsx(i.Typography,{as:"span",variant:"small",className:"font-semibold",color:"black",children:"Đăng xuất"})]})]}),e.jsx(i.Typography,{as:"span",className:"font-light w-full text-xs px-4",children:"Quyền riêng tư · Điều khoản · Quảng cáo · Lựa chọn quảng cáo · Cookie · Meta © 2023"})]})})]})}function Ys(){const[t,s]=o.useState(!1),r=()=>{s(!t)};return e.jsxs(i.Popover,{open:t,handler:s,offset:{mainAxis:4,crossAxis:48},placement:"bottom-start",children:[e.jsx(i.PopoverHandler,{onClick:r,children:e.jsx(i.IconButton,{variant:"text",color:"blue-gray",className:`flex items-center gap-1 rounded-full py-0.5 lg:ml-auto ${t?" bg-[#e8f2fc]":"bg-[#e4e6eb] hover:bg-gray-400"}`,children:e.jsx(Zt,{className:`h-[1.55rem] w-[1.5rem]  ${t?"text-[#0866ff]":"text-black"} `})})}),e.jsx(i.PopoverContent,{className:"w-[360px] shadow-[0_0px_10px_5px_rgba(0,0,0,1)] px-4 py-1 z-[99999]",children:e.jsxs("div",{className:"flex flex-col items-center mt-2",children:[e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx(i.Typography,{as:"span",className:"font-bold text-[23px]",color:"black",children:"Thông báo"}),e.jsx("div",{className:"hover:bg-[#f2f2f2] cursor-pointer h-8 w-8 rounded-full flex justify-center items-center",children:e.jsx("div",{className:`bg-[url(https://static.xx.fbcdn.net/rsrc.php/v3/ym/r/QesjcY79Fo4.png)] \r
                            bg-[length:190px_186px] bg-[-44px_-110px] h-5 w-5`})})]}),e.jsxs("div",{className:"flex gap-3 items-center w-[344px] h-[45px] mb-2",children:[e.jsx("div",{className:"font-semibold text-[#0266d1df] cursor-pointer rounded-full p-2 px-3 bg-[#ebf5ff]",children:"Tất cả"}),e.jsx("div",{className:"font-semibold text-[#050505cb] rounded-full cursor-pointer p-2 px-3 hover:bg-[#f2f2f2]",children:"Chưa đọc"})]}),e.jsxs("div",{className:"flex gap-3 items-center justify-between w-[328px] h-[21px]",children:[e.jsx("div",{className:"font-semibold text-[#050505] text-[17px]",children:"Trước đó"}),e.jsx("div",{className:"font-normal p-1 py-2 -mr-1 text-[#0064D1] text-[15px] rounded-lg cursor-pointer hover:bg-[#f2f2f2]",children:"Xem tất cả"})]}),e.jsxs("div",{className:"flex gap-4 justify-between items-center w-[344px] h-[94px] cursor-pointer hover:bg-[#f2f2f2] rounded-lg px-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("img",{src:"https://www.facebook.com/images/icons-large/fb-xl-gradient-2x.png",className:"h-[56px] w-[56px] rounded-full",alt:""}),e.jsx("div",{className:`bg-[url(https://static.xx.fbcdn.net/rsrc.php/v3/yO/r/8vo53WwtI-n.png)] \r
                            bg-[length:30px_2430px] bg-[0px_-570px] h-7 w-7 absolute ml-8 mt-10`}),e.jsx(i.Typography,{as:"div",className:"line-clamp-3 font-normal max-w-[228px] max-h-[60px] text-sm text-blue-gray-600",style:{display:"-webkit-box"},children:"Chào mừng bạn đến với Facebook! Hãy nhấn vào đây để tìm những người bạn biết và thêm họ làm bạn bè"})]}),e.jsx(i.Typography,{as:"span",className:"ml-16 font-semibold text-[13px] text-[#0866FF]",children:"5 ngày trước"})]}),e.jsx("span",{className:"h-3 w-3 bg-[#0866FF] rounded-full"})]})]})})]})}const ee=({children:t,size:s,bgColor:r,bgHoverColor:a})=>e.jsx("div",{style:{height:s?`${s}px`:"36px",width:s?`${s}px`:"36px"},className:` rounded-full flex justify-center items-center bg-[${r||"#e4e6eb"}] hover:bg-[${a||"#d8dadf"}]`,children:t}),ze=({content:t,to:s,children:r})=>e.jsx(i.Tooltip,{content:t,animate:{mount:{transition:{delay:.5}}},children:e.jsx(pt,{to:s,className:({isActive:a})=>jt("lg:w-[111px] md:w-[82px] sm:w-[62px] h-[56px] flex justify-center items-center",{"border-b-4 border-blue-700":a}),children:e.jsx(i.IconButton,{variant:"text",className:"py-[23px] lg:px-[55px] md:px-[42px] sm:px-[30px]",children:r})})}),Te=({title:t,to:s,children:r})=>e.jsx(pt,{to:s,className:({isActive:a})=>jt("w-[160px] h-[56px] flex justify-center items-center",{"border-b-4 border-blue-700":a}),children:e.jsxs(i.Button,{variant:"text",className:" flex justify-center items-center gap-2 w-[160px]",children:[r,e.jsx("div",{className:`text-[13px]  ${location.pathname===s?"text-blue-500":"text-primary"}`,children:t})]})}),qs=({isOpenDrawer:t,setIsOpenDrawer:s})=>e.jsxs(i.Drawer,{size:250,open:t,onClose:()=>s(!1),className:"p-4 shadow ",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between border-b border-gray-300",children:[e.jsx(i.Typography,{variant:"h5",color:"blue",children:"Điều hướng"}),e.jsx(i.IconButton,{variant:"text",color:"blue-gray",onClick:()=>s(!1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-5 w-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Te,{title:"Trang chủ",to:B.home,children:location.pathname===B.home?e.jsx("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#0866ff",children:e.jsx("path",{d:"M9.464 1.286C10.294.803 11.092.5 12 .5c.908 0 1.707.303 2.537.786.795.462 1.7 1.142 2.815 1.977l2.232 1.675c1.391 1.042 2.359 1.766 2.888 2.826.53 1.059.53 2.268.528 4.006v4.3c0 1.355 0 2.471-.119 3.355-.124.928-.396 1.747-1.052 2.403-.657.657-1.476.928-2.404 1.053-.884.119-2 .119-3.354.119H7.93c-1.354 0-2.471 0-3.355-.119-.928-.125-1.747-.396-2.403-1.053-.656-.656-.928-1.475-1.053-2.403C1 18.541 1 17.425 1 16.07v-4.3c0-1.738-.002-2.947.528-4.006.53-1.06 1.497-1.784 2.888-2.826L6.65 3.263c1.114-.835 2.02-1.515 2.815-1.977zM10.5 13A1.5 1.5 0 0 0 9 14.5V21h6v-6.5a1.5 1.5 0 0 0-1.5-1.5h-3z"})}):e.jsx("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#65676b",children:e.jsx("path",{d:"M8.99 23H7.93c-1.354 0-2.471 0-3.355-.119-.928-.125-1.747-.396-2.403-1.053-.656-.656-.928-1.475-1.053-2.403C1 18.541 1 17.425 1 16.07v-4.3c0-1.738-.002-2.947.528-4.006.53-1.06 1.497-1.784 2.888-2.826L6.65 3.263c1.114-.835 2.02-1.515 2.815-1.977C10.294.803 11.092.5 12 .5c.908 0 1.707.303 2.537.786.795.462 1.7 1.142 2.815 1.977l2.232 1.675c1.391 1.042 2.359 1.766 2.888 2.826.53 1.059.53 2.268.528 4.006v4.3c0 1.355 0 2.471-.119 3.355-.124.928-.396 1.747-1.052 2.403-.657.657-1.476.928-2.404 1.053-.884.119-2 .119-3.354.119H8.99zM7.8 4.9l-2 1.5C4.15 7.638 3.61 8.074 3.317 8.658 3.025 9.242 3 9.937 3 12v4c0 1.442.002 2.424.101 3.159.095.706.262 1.033.485 1.255.223.223.55.39 1.256.485.734.099 1.716.1 3.158.1V14.5a2.5 2.5 0 0 1 2.5-2.5h3a2.5 2.5 0 0 1 2.5 2.5V21c1.443 0 2.424-.002 3.159-.101.706-.095 1.033-.262 1.255-.485.223-.222.39-.55.485-1.256.099-.734.101-1.716.101-3.158v-4c0-2.063-.025-2.758-.317-3.342-.291-.584-.832-1.02-2.483-2.258l-2-1.5c-1.174-.881-1.987-1.489-2.67-1.886C12.87 2.63 12.425 2.5 12 2.5c-.425 0-.87.13-1.53.514-.682.397-1.495 1.005-2.67 1.886zM14 21v-6.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5V21h4z"})})}),e.jsx(Te,{title:"Bạn bè",to:B.friend,children:location.pathname===B.friend?e.jsx("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#0866ff",children:e.jsx("path",{d:"M8 2.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zM17.5 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zM5.25 13A4.75 4.75 0 0 0 .5 17.75 3.25 3.25 0 0 0 3.75 21h8.5a3.25 3.25 0 0 0 3.25-3.25A4.75 4.75 0 0 0 10.75 13h-5.5zm12.394 1.5a1 1 0 0 0-.95 1.31c.198.61.306 1.261.306 1.94 0 .661-.135 1.289-.377 1.858a1 1 0 0 0 .92 1.392H20.7a2.8 2.8 0 0 0 2.8-2.8 3.7 3.7 0 0 0-3.7-3.7h-2.156z"})}):e.jsx("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#65676b",children:e.jsx("path",{d:"M8 2.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zM5.5 7a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm-.25 6A4.75 4.75 0 0 0 .5 17.75 3.25 3.25 0 0 0 3.75 21h8.5a3.25 3.25 0 0 0 3.25-3.25A4.75 4.75 0 0 0 10.75 13h-5.5zM2.5 17.75A2.75 2.75 0 0 1 5.25 15h5.5a2.75 2.75 0 0 1 2.75 2.75c0 .69-.56 1.25-1.25 1.25h-8.5c-.69 0-1.25-.56-1.25-1.25zM14 9.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0zM17.5 8a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm0 6.5a1 1 0 1 0 0 2h2.3a1.7 1.7 0 0 1 1.7 1.7.8.8 0 0 1-.8.8h-3.2a1 1 0 1 0 0 2h3.2a2.8 2.8 0 0 0 2.8-2.8 3.7 3.7 0 0 0-3.7-3.7h-2.3z"})})}),e.jsx(Te,{title:"Nhóm",to:B.group,children:location.pathname==B.group?e.jsxs("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#0866ff",children:[e.jsx("path",{d:"M12 6a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"}),e.jsx("path",{d:"M12 23.5C5.649 23.5.5 18.351.5 12S5.649.5 12 .5 23.5 5.649 23.5 12 18.351 23.5 12 23.5zM3.373 8.017a4 4 0 0 1 0 7.966 9.523 9.523 0 0 0 1.948 2.773A5.002 5.002 0 0 1 10 15.523h4a5.002 5.002 0 0 1 4.679 3.233 9.523 9.523 0 0 0 1.948-2.773 4 4 0 0 1 0-7.966A9.501 9.501 0 0 0 12 2.5a9.501 9.501 0 0 0-8.627 5.517z"})]}):e.jsxs("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#65676b",children:[e.jsx("path",{d:"M12 6a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm-2 4a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"}),e.jsx("path",{d:"M.5 12C.5 5.649 5.649.5 12 .5S23.5 5.649 23.5 12 18.351 23.5 12 23.5.5 18.351.5 12zm2.21-2a9.537 9.537 0 0 0 0 3.993l.3.007A2 2 0 0 0 3 10h-.29zm.663-1.983a4 4 0 0 1 0 7.966 9.523 9.523 0 0 0 1.948 2.773A5.002 5.002 0 0 1 10 15.523h4a5.002 5.002 0 0 1 4.679 3.233 9.523 9.523 0 0 0 1.948-2.773 4 4 0 0 1 0-7.966A9.501 9.501 0 0 0 12 2.5a9.501 9.501 0 0 0-8.627 5.517zM21.5 12a9.55 9.55 0 0 0-.212-2.007l-.265.007H21a2 2 0 0 0-.01 4l.3-.007c.138-.643.21-1.31.21-1.993zM12 21.5a9.455 9.455 0 0 0 4.97-1.402A3 3 0 0 0 14 17.523h-4a3 3 0 0 0-2.97 2.575A9.456 9.456 0 0 0 12 21.5z"})]})})]})]});function Qs(){const t=_t(),[s,r]=o.useState(!1),[a,n]=o.useState(!1),[l,c]=o.useState(!1),d=te(),m=re(),h=()=>{r(!1),d(et()),m(B.home)};return o.useEffect(()=>{const u=()=>{window.innerWidth>640&&c(!1)};return window.addEventListener("resize",u),u(),()=>{window.removeEventListener("resize",u)}},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{id:"home-header",className:"fixed z-[9999] top-0 w-full flex items-center sm:justify-center justify-start h-[56px] shadow-[0_2px_6px_0px_rgba(0,0,0,0.1)] border bg-white",children:[e.jsx("button",{onClick:()=>c(!0),className:"block sm:hidden ml-[110px] z-[99]",children:e.jsx(ee,{size:40,children:e.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",color:"#65676b",children:e.jsx("path",{d:"M3.25 2.75a1.25 1.25 0 1 0 0 2.5h17.5a1.25 1.25 0 1 0 0-2.5H3.25zM2 12c0-.69.56-1.25 1.25-1.25h17.5a1.25 1.25 0 1 1 0 2.5H3.25C2.56 13.25 2 12.69 2 12zm0 8c0-.69.56-1.25 1.25-1.25h17.5a1.25 1.25 0 1 1 0 2.5H3.25C2.56 21.25 2 20.69 2 20z"})})})}),e.jsxs("div",{className:"xl:w-[300px] w-[280px] absolute left-0",children:[e.jsx(i.Card,{className:`w-[320px] absolute rounded-t-none bg-white -mt-2 z-[9] ${a?"":"hidden"}`,children:e.jsx(i.CardBody,{className:"flex gap-2",children:e.jsx(i.Typography,{className:"mt-11 ml-9 text-gray-500",children:"Không có tìm kiếm nào gần đây"})})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ie,{to:B.home,children:e.jsx("img",{src:$e,alt:"icon",className:`w-10 h-10 ml-4 ${a?"animate-flip-out-hor-top-logo hidden":"animate-flip-in-hor-bottom-logo"}`})}),e.jsx(i.IconButton,{variant:"text",onClick:()=>n(!1),className:`w-10 h-10 rounded-full ml-0 z-[999] ${a?"animate-slide-in-right-button":"animate-flip-out-hor-top-logo hidden"}`,children:e.jsx(L,{icon:ft,className:"w-[18px] h-[18px] text-gray-700 "})}),e.jsx("div",{className:"flex flex-col gap-x-2 z-[99] sm:flex-row sm:items-center",children:e.jsxs("div",{className:"relative w-full gap-2 md:w-max ",children:[e.jsx("button",{onClick:()=>n(!0),className:`${a?"hidden":"xl:hidden"}`,children:e.jsx(ee,{size:40,children:e.jsx(L,{className:"text-gray-500",icon:Ue})})}),e.jsxs("div",{className:`${a?"block":"hidden xl:block"}`,children:[e.jsx(i.Input,{onFocus:()=>n(!0),onBlur:()=>n(!1),type:"text",placeholder:"Tìm kiếm trên Facebook",containerProps:{className:`${a?"w-[246px]":"w-[230px]"} rounded-full bg-[#f0f2f5]`},className:`text-black border-none z-[99] ${a?"animate-slide-left-search":"animate-slide-right-search"}  !border-t-blue-gray-300 pl-9 placeholder:text-gray-500 focus:!border-blue-gray-300`,labelProps:{className:" before:content-none after:content-none"},crossOrigin:void 0}),e.jsx("div",{className:`!absolute left-3 top-[8px] ${a?"animate-slide-out-left-search":"animate-slide-in-left-search"}`,children:e.jsx(L,{className:"text-gray-500",icon:Ue})})]})]})})]})]}),e.jsxs("div",{className:"hidden gap-2 sm:flex",children:[e.jsx(ze,{content:"Trang chủ",to:B.home,children:t.pathname===B.home?e.jsx("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#0866ff",children:e.jsx("path",{d:"M9.464 1.286C10.294.803 11.092.5 12 .5c.908 0 1.707.303 2.537.786.795.462 1.7 1.142 2.815 1.977l2.232 1.675c1.391 1.042 2.359 1.766 2.888 2.826.53 1.059.53 2.268.528 4.006v4.3c0 1.355 0 2.471-.119 3.355-.124.928-.396 1.747-1.052 2.403-.657.657-1.476.928-2.404 1.053-.884.119-2 .119-3.354.119H7.93c-1.354 0-2.471 0-3.355-.119-.928-.125-1.747-.396-2.403-1.053-.656-.656-.928-1.475-1.053-2.403C1 18.541 1 17.425 1 16.07v-4.3c0-1.738-.002-2.947.528-4.006.53-1.06 1.497-1.784 2.888-2.826L6.65 3.263c1.114-.835 2.02-1.515 2.815-1.977zM10.5 13A1.5 1.5 0 0 0 9 14.5V21h6v-6.5a1.5 1.5 0 0 0-1.5-1.5h-3z"})}):e.jsx("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#65676b",children:e.jsx("path",{d:"M8.99 23H7.93c-1.354 0-2.471 0-3.355-.119-.928-.125-1.747-.396-2.403-1.053-.656-.656-.928-1.475-1.053-2.403C1 18.541 1 17.425 1 16.07v-4.3c0-1.738-.002-2.947.528-4.006.53-1.06 1.497-1.784 2.888-2.826L6.65 3.263c1.114-.835 2.02-1.515 2.815-1.977C10.294.803 11.092.5 12 .5c.908 0 1.707.303 2.537.786.795.462 1.7 1.142 2.815 1.977l2.232 1.675c1.391 1.042 2.359 1.766 2.888 2.826.53 1.059.53 2.268.528 4.006v4.3c0 1.355 0 2.471-.119 3.355-.124.928-.396 1.747-1.052 2.403-.657.657-1.476.928-2.404 1.053-.884.119-2 .119-3.354.119H8.99zM7.8 4.9l-2 1.5C4.15 7.638 3.61 8.074 3.317 8.658 3.025 9.242 3 9.937 3 12v4c0 1.442.002 2.424.101 3.159.095.706.262 1.033.485 1.255.223.223.55.39 1.256.485.734.099 1.716.1 3.158.1V14.5a2.5 2.5 0 0 1 2.5-2.5h3a2.5 2.5 0 0 1 2.5 2.5V21c1.443 0 2.424-.002 3.159-.101.706-.095 1.033-.262 1.255-.485.223-.222.39-.55.485-1.256.099-.734.101-1.716.101-3.158v-4c0-2.063-.025-2.758-.317-3.342-.291-.584-.832-1.02-2.483-2.258l-2-1.5c-1.174-.881-1.987-1.489-2.67-1.886C12.87 2.63 12.425 2.5 12 2.5c-.425 0-.87.13-1.53.514-.682.397-1.495 1.005-2.67 1.886zM14 21v-6.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5V21h4z"})})}),e.jsx(ze,{content:"Bạn bè",to:B.friend,children:t.pathname===B.friend?e.jsx("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#0866ff",children:e.jsx("path",{d:"M8 2.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zM17.5 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zM5.25 13A4.75 4.75 0 0 0 .5 17.75 3.25 3.25 0 0 0 3.75 21h8.5a3.25 3.25 0 0 0 3.25-3.25A4.75 4.75 0 0 0 10.75 13h-5.5zm12.394 1.5a1 1 0 0 0-.95 1.31c.198.61.306 1.261.306 1.94 0 .661-.135 1.289-.377 1.858a1 1 0 0 0 .92 1.392H20.7a2.8 2.8 0 0 0 2.8-2.8 3.7 3.7 0 0 0-3.7-3.7h-2.156z"})}):e.jsx("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#65676b",children:e.jsx("path",{d:"M8 2.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zM5.5 7a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm-.25 6A4.75 4.75 0 0 0 .5 17.75 3.25 3.25 0 0 0 3.75 21h8.5a3.25 3.25 0 0 0 3.25-3.25A4.75 4.75 0 0 0 10.75 13h-5.5zM2.5 17.75A2.75 2.75 0 0 1 5.25 15h5.5a2.75 2.75 0 0 1 2.75 2.75c0 .69-.56 1.25-1.25 1.25h-8.5c-.69 0-1.25-.56-1.25-1.25zM14 9.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0zM17.5 8a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm0 6.5a1 1 0 1 0 0 2h2.3a1.7 1.7 0 0 1 1.7 1.7.8.8 0 0 1-.8.8h-3.2a1 1 0 1 0 0 2h3.2a2.8 2.8 0 0 0 2.8-2.8 3.7 3.7 0 0 0-3.7-3.7h-2.3z"})})}),e.jsx(ze,{content:"Nhóm",to:B.group,children:t.pathname==B.group?e.jsxs("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#0866ff",children:[e.jsx("path",{d:"M12 6a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"}),e.jsx("path",{d:"M12 23.5C5.649 23.5.5 18.351.5 12S5.649.5 12 .5 23.5 5.649 23.5 12 18.351 23.5 12 23.5zM3.373 8.017a4 4 0 0 1 0 7.966 9.523 9.523 0 0 0 1.948 2.773A5.002 5.002 0 0 1 10 15.523h4a5.002 5.002 0 0 1 4.679 3.233 9.523 9.523 0 0 0 1.948-2.773 4 4 0 0 1 0-7.966A9.501 9.501 0 0 0 12 2.5a9.501 9.501 0 0 0-8.627 5.517z"})]}):e.jsxs("svg",{viewBox:"0 0 24 24",width:"1.5rem",height:"1.5rem",fill:"#65676b",children:[e.jsx("path",{d:"M12 6a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm-2 4a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"}),e.jsx("path",{d:"M.5 12C.5 5.649 5.649.5 12 .5S23.5 5.649 23.5 12 18.351 23.5 12 23.5.5 18.351.5 12zm2.21-2a9.537 9.537 0 0 0 0 3.993l.3.007A2 2 0 0 0 3 10h-.29zm.663-1.983a4 4 0 0 1 0 7.966 9.523 9.523 0 0 0 1.948 2.773A5.002 5.002 0 0 1 10 15.523h4a5.002 5.002 0 0 1 4.679 3.233 9.523 9.523 0 0 0 1.948-2.773 4 4 0 0 1 0-7.966A9.501 9.501 0 0 0 12 2.5a9.501 9.501 0 0 0-8.627 5.517zM21.5 12a9.55 9.55 0 0 0-.212-2.007l-.265.007H21a2 2 0 0 0-.01 4l.3-.007c.138-.643.21-1.31.21-1.993zM12 21.5a9.455 9.455 0 0 0 4.97-1.402A3 3 0 0 0 14 17.523h-4a3 3 0 0 0-2.97 2.575A9.456 9.456 0 0 0 12 21.5z"})]})})]}),e.jsxs("div",{className:"flex mr-7 gap-2 absolute right-0",children:[e.jsxs(i.Menu,{open:s,handler:r,placement:"bottom-end",children:[e.jsx(i.MenuHandler,{children:e.jsx(i.IconButton,{variant:"text",color:"blue-gray",className:" hover:bg-gray-400 flex items-center gap-1 rounded-full py-0.5 bg-[#e4e6eb] lg:ml-auto",children:e.jsx("svg",{viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",className:"h-[1.3rem] w-[1.25rem] text-black",children:e.jsx("path",{d:"M12 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm8 0a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm8 0a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm0-8a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm8 16a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm8 0a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 17a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"})})})}),e.jsxs(i.MenuList,{className:"p-1",children:[e.jsx(i.MenuItem,{className:"flex items-center gap-2 rounded-none border-b border-gray-500",children:e.jsx(i.Typography,{as:"span",variant:"small",className:"font-normal",color:"black",children:e.jsx("div",{children:M(u=>u.rootReducer.tempAccountReducer.email)})})}),e.jsx(i.MenuItem,{onClick:h,className:"flex items-center gap-2 rounded ",children:e.jsx(i.Typography,{as:"span",variant:"small",className:"font-normal",color:"red",children:"Đăng xuất"})})]})]}),e.jsx("div",{style:{display:t.pathname.startsWith("/messenger")?"none":"block"},children:e.jsxs(i.Menu,{placement:"bottom-end",children:[e.jsx(i.MenuHandler,{children:e.jsx(ie,{to:"/messenger",className:"flex items-center gap-1",children:e.jsx(i.IconButton,{variant:"text",color:"blue-gray",className:"hover:bg-gray-400 flex items-center gap-1 rounded-full py-0.5 bg-[#e4e6eb] lg:ml-auto",children:e.jsx("svg",{viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",className:"h-[1.3rem] w-[1.3rem] text-black",children:e.jsx("path",{d:"M.5 12C.5 5.649 5.649.5 12 .5S23.5 5.649 23.5 12 18.351 23.5 12 23.5c-1.922 0-3.736-.472-5.33-1.308a.63.63 0 0 0-.447-.069l-3.4.882a1.5 1.5 0 0 1-1.828-1.829l.882-3.4a.63.63 0 0 0-.07-.445A11.454 11.454 0 0 1 .5 12zm17.56-1.43a.819.819 0 0 0-1.125-1.167L14 11.499l-3.077-2.171a1.5 1.5 0 0 0-2.052.308l-2.93 3.793a.819.819 0 0 0 1.123 1.167L10 12.5l3.076 2.172a1.5 1.5 0 0 0 2.052-.308l2.931-3.793z"})})})})}),e.jsx(i.MenuList,{className:"p-1",children:e.jsx(i.MenuItem,{className:"flex items-center gap-2 rounded-none border-b border-gray-500",children:e.jsx(i.Typography,{as:"span",variant:"small",className:"font-normal",color:"black",children:e.jsx("div",{children:M(u=>u.rootReducer.tempAccountReducer.email)})})})})]})}),e.jsx(Ys,{}),e.jsx(Hs,{})]})]}),e.jsx(qs,{isOpenDrawer:l,setIsOpenDrawer:c})]})}function Ks(){const t=o.useCallback((s,r)=>{var n;let a=r.find(l=>{var c;return(c=l.handle)==null?void 0:c.scrollMode});return((n=a==null?void 0:a.handle)==null?void 0:n.scrollMode)==="pathname"?s.pathname:s.key},[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-screen flex flex-col",children:[e.jsxs(Ke,{children:[e.jsx("title",{children:"Facebook"}),e.jsx("meta",{name:"description",content:"Facebook"})]}),e.jsx(Qs,{}),e.jsx("div",{className:"mt-[56px] h-full",children:e.jsx(he,{})})]}),e.jsx(Ot,{getKey:t})]})}const Gs=o.memo(Ks);function Zs(){const[t,s]=o.useState(!1),r=te(),a=re(),n=()=>{s(!1),r(et()),a(B.home)};return e.jsxs("div",{className:"w-full flex items-center h-[55px] shadow-[0_2px_6px_0px_rgba(0,0,0,0.1)] border bg-white",children:[e.jsx("a",{href:B.home,children:e.jsx("img",{src:$e,alt:"icon",className:"w-10 h-10 ml-4"})}),e.jsxs(i.Menu,{open:t,handler:s,placement:"bottom-end",children:[e.jsx(i.MenuHandler,{children:e.jsxs(i.Button,{variant:"text",color:"blue-gray",className:"flex items-center gap-1 rounded-full py-0.5 pr-2 pl-0.5 lg:ml-auto",children:[e.jsx(i.Avatar,{variant:"circular",size:"sm",alt:"tania andrew",className:"border border-gray-900 p-0.5",src:"https://s3-hcm-r1.longvan.net/2502-facebook/default_avatar.png"}),e.jsx(Xt,{strokeWidth:2.5,className:`h-3 w-3 transition-transform ${t?"rotate-180":""}`})]})}),e.jsxs(i.MenuList,{className:"p-1",children:[e.jsx(i.MenuItem,{className:"flex items-center gap-2 rounded-none border-b border-gray-500",children:e.jsx(i.Typography,{as:"span",variant:"small",className:"font-normal",color:"black",children:e.jsx("div",{children:M(l=>l.rootReducer.tempAccountReducer.email)})})}),e.jsx(i.MenuItem,{onClick:n,className:"flex items-center gap-2 rounded ",children:e.jsx(i.Typography,{as:"span",variant:"small",className:"font-normal",color:"red",children:"Đăng xuất"})})]})]})]})}function Xs(){return e.jsxs("div",{className:"h-screen bg-[#f2f4f7]",children:[e.jsx(Zs,{}),e.jsx(he,{})]})}const _s=o.memo(Xs),$s="https://trananhthi.id.vn:8443/facebook/v1/",ea=()=>{let t=Ct(),s=Ms(),r=null;const a=Yt.create({baseURL:$s,timeout:1e4,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(function(l){return t&&(l.headers.Authorization="Bearer "+t),l},function(l){return Promise.reject(l)}),a.interceptors.response.use(function(l){if(l.config.url===Ve){const d=l.data;d.accessToken!==""&&(t=d.accessToken,s=d.refreshToken,lt(t),Ws(s))}return l},async function(l){var c,d,m,h,u;if(((c=l.config)==null?void 0:c.url)!==Ve&&((d=l.config)==null?void 0:d.url)!==Et&&((m=l.response)==null||m.status,Ce.Unauthorized),Nt(l)){const p=((h=l.response)==null?void 0:h.config)||{headers:{}},{url:g}=p;if(Fs(l)&&g!==ot)return r=r||n().finally(()=>{setTimeout(()=>{r=null},1e4)}),await r,await a(p);t="",s="",Oe(),Lt.error(((u=l.response)==null?void 0:u.data.message)||l.message)}return Promise.reject(l)});const n=async()=>{try{t=(await a.post(ot,{refreshToken:s})).data.accessToken,lt(t)}catch(l){throw Oe(),t="",s="",l}};return a},I=ea(),Et="authenticate/signup",Ve="authenticate/signin",ot="authenticate/refreshtoken",ta="authenticate/confirm",sa="authenticate/resend",me={signUp:t=>I.post(Et,t),signIn:t=>I.post(Ve,t),confirmAccount:t=>I.post(ta,t),resendConfirmCode:t=>I.post(`${sa}?email=`+t)},aa="user/infor",na="user/update/privacy-default",ra="user/search",Se={getUserInfor:()=>I.get(aa),updatePrivacyDefault:t=>I.patch(na,t),searchUsersByName:t=>I.get(`${ra}?keyword=${t}`)};function Ie({initialValue:t,listItem:s,handleChange:r,name:a,formik:n,setOpenPopoverBirthday:l}){return e.jsx(i.Select,{onClick:()=>{n.errors.birthDay&&(n.touched.day||n.touched.month||n.touched.year)?l(!0):l(!1)},onBlur:n.handleBlur,color:"blue",className:"border-none text-black ",containerProps:{className:`${n.errors.birthday&&(n.touched.day||n.touched.month||n.touched.year)?"border-red-400":"border-gray-400"} w-[120px] h-[35px] border text-base font-normal border capitalize tracking-normal rounded`},labelProps:{className:"hidden"},menuProps:{className:"max-h-[300px] p-0"},value:t,onChange:c=>r(c),id:a,name:a,children:s.map(c=>e.jsx(i.Option,{value:c,className:"text-black hover:text-white focus:text-white hover:bg-gray-800 focus:bg-gray-800",children:c},c))})}const la=es({id:ts(),email:_().matches(/^[A-Za-z0-9]{1,30}@[a-z0-9]{2,10}(\.[a-z0-9]{2,10}){1,3}$/,"Vui lòng nhập lại địa chỉ email hợp lệ.").required("Bạn sẽ sử dụng thông tin này khi đăng nhập và khi cần đặt lại mật khẩu."),password:_().required("Vui lòng nhập mật khẩu của bạn").min(6,"Nhập mật khẩu có tối thiểu 6 ký tự có thể bao gồm số, chữ cái và dấu chấm câu (như ! và &)."),lastName:_().required("Tên của bạn là gì?"),firstName:_().required("Họ của bạn là gì?"),phone:_(),birthday:at().max(new Date(2019,1,1),"Hình như bạn đã nhập sai thông tin. Hãy nhớ dùng ngày sinh thật của mình nhé.").required("Hình như bạn đã nhập sai thông tin. Hãy nhớ dùng ngày sinh thật của mình nhé."),gender:_().required("Vui lòng chọn giới tính. Bạn có thể chọn người có thể xem nội dung này sau."),avatar:_(),timeCreated:at(),privacyDefault:_()});function oa({open:t,handleOpen:s}){const r=re(),a=te(),[n,l]=o.useState("male"),[c,d]=o.useState(!1),[m,h]=o.useState(!1),[u,p]=o.useState(!1),[g,j]=o.useState(!1),[v,C]=o.useState(!1),[y,N]=o.useState(""),[R,A]=o.useState(""),f=Q({mutationFn:b=>me.signUp(b),onSuccess:(b,w)=>{b.status===201&&(a(kt({email:w.email,password:w.password,isConfirmed:!1})),r("/authenticate/"+b.data.key))},onError:b=>{var w;if(Ss(b)){const S=(w=b.response)==null?void 0:w.data;S&&A(S.message)}}}),x=bt({initialValues:{firstName:"",lastName:"",email:"",password:"",day:new Date().getDate(),month:new Date().getMonth()+1,year:new Date().getFullYear(),birthday:new Date,gender:n},initialTouched:{firstName:!1,lastName:!1,email:!1,password:!1},validationSchema:la,onSubmit:async b=>{const{day:w,month:S,year:z,...P}=b;await f.mutate(P)}});return e.jsxs(i.Dialog,{size:"xs",open:t,handler:s,className:"bg-transparent shadow-none w-[432px]",dismiss:{enabled:!1},children:[e.jsxs(i.DialogHeader,{className:"justify-between bg-white rounded-t-md w-full",children:[e.jsxs("div",{className:"",children:[e.jsx(i.Typography,{variant:"h3",color:"black",children:"Đăng ký"}),e.jsx(i.Typography,{variant:"small",className:"opacity-75",color:"black",children:"Nhanh chóng và dễ dàng"})]}),e.jsx(i.IconButton,{color:"blue-gray",size:"sm",variant:"text",onClick:s,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,className:"h-5 w-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("form",{onSubmit:x.handleSubmit,children:e.jsxs(i.Card,{className:"mx-auto w-full max-w-[30rem] rounded-none rounded-b-md",children:[e.jsx("hr",{className:"border-gray-300"}),e.jsxs(i.CardBody,{className:"flex flex-col gap-4 w-full",children:[e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsxs(i.Popover,{open:c,dismiss:{referencePress:!0},placement:"bottom",offset:{mainAxis:15,crossAxis:-28},handler:d,children:[e.jsx(i.PopoverHandler,{onKeyDown:b=>{b.key===" "&&x.setFieldValue("firstName",x.values.firstName+" ")},onClick:()=>{x.errors.firstName&&x.touched.firstName?d(!0):d(!1)},children:e.jsx(i.Input,{color:"blue",containerProps:{className:"bg-[#f5f6f7]"},label:"Họ",size:"md",id:"firstName",name:"firstName",value:x.values.firstName,onChange:x.handleChange,crossOrigin:void 0,onBlur:x.handleBlur,icon:x.errors.firstName&&x.touched.firstName?e.jsx(L,{icon:xe,beat:!0,color:"red",size:"sm"}):"",error:!!(x.errors.firstName&&x.touched.firstName)})}),e.jsx(i.PopoverContent,{onFocus:()=>{var b;N(x.errors.firstName),(b=document.getElementById("firstName"))==null||b.focus()},className:`${x.errors.firstName?"":"hidden"} z-[99999] rounded py-3 border-none arrow_box-top-left text-white text-[0.8rem]`,children:y||""})]}),e.jsxs(i.Popover,{open:m,dismiss:{referencePress:!0},placement:"bottom",offset:{mainAxis:15,crossAxis:-28,alignmentAxis:300},handler:h,children:[e.jsx(i.PopoverHandler,{onKeyDown:b=>{b.key===" "&&x.setFieldValue("lastName",x.values.lastName+" ")},onClick:()=>{x.errors.lastName&&x.touched.lastName?h(!0):h(!1)},children:e.jsx(i.Input,{color:"blue",containerProps:{className:"bg-[#f5f6f7]"},label:"Tên",size:"md",id:"lastName",name:"lastName",value:x.values.lastName,onChange:x.handleChange,crossOrigin:void 0,onBlur:x.handleBlur,icon:x.errors.lastName&&x.touched.lastName?e.jsx(L,{icon:xe,beat:!0,color:"red",size:"sm"}):"",error:!!(x.errors.lastName&&x.touched.lastName)})}),e.jsx(i.PopoverContent,{onFocus:()=>{var b;N(x.errors.lastName),(b=document.getElementById("lastName"))==null||b.focus()},className:`${x.errors.lastName?"":"hidden"} z-[99999] rounded py-3 border-none arrow_box-top-left text-white text-[0.8rem]`,children:y})]})]}),e.jsxs(i.Popover,{open:u,dismiss:{referencePress:!0},placement:"left",offset:18,handler:p,children:[e.jsx(i.PopoverHandler,{onClick:()=>{x.errors.email&&x.touched.email?p(!0):p(!1)},children:e.jsx(i.Input,{color:"blue",containerProps:{className:"bg-[#f5f6f7]"},label:"Email",size:"md",id:"my-email",name:"email",value:x.values.email,onChange:x.handleChange,crossOrigin:void 0,onBlur:x.handleBlur,icon:x.errors.email&&x.touched.email?e.jsx(L,{icon:xe,beat:!0,color:"red",size:"sm"}):"",error:!!(x.errors.email&&x.touched.email)})}),e.jsx(i.PopoverContent,{onFocus:()=>{var b;N(x.errors.email),(b=document.getElementById("my-email"))==null||b.focus()},className:"z-[99999] max-w-[320px] rounded py-3 border-none arrow_box-right text-white text-[0.8rem]",children:y})]}),e.jsxs(i.Popover,{open:g,dismiss:{referencePress:!0},placement:"left",offset:18,handler:j,children:[e.jsx(i.PopoverHandler,{onClick:()=>{x.errors.password&&x.touched.password?j(!0):j(!1)},children:e.jsx(i.Input,{color:"blue",containerProps:{className:"bg-[#f5f6f7]"},label:"Mật khẩu",size:"md",type:"password",id:"my-password",name:"password",value:x.values.password,onChange:x.handleChange,crossOrigin:void 0,onBlur:x.handleBlur,icon:x.errors.password&&x.touched.password?e.jsx(L,{icon:xe,beat:!0,color:"red",size:"sm"}):"",error:!!(x.errors.password&&x.touched.password)})}),e.jsx(i.PopoverContent,{onFocus:()=>{var b;N(x.errors.password),(b=document.getElementById("my-password"))==null||b.focus()},className:"z-[99999] max-w-[300px] rounded py-3 border-none arrow_box-right text-white text-[0.8rem]",children:y})]}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("p",{className:"text-[12px] text-gray-700",children:"Ngày sinh"}),e.jsxs(i.Popover,{placement:"left-start",children:[e.jsx(i.PopoverHandler,{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 cursor-pointer",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),e.jsx(i.PopoverContent,{className:"z-[99999] max-w-[370px]",children:e.jsxs("div",{className:"text-[13px]",children:[e.jsx("b",{children:"Cung cấp sinh nhật của bạn"})," giúp đảm bảo bạn có được trải nghiệm Facebook phù hợp với độ tuổi của mình. Nếu bạn muốn thay đổi người nhìn thấy thông tin này, hãy đi tới phần Giới thiệu trên trang cá nhân của bạn. Để biết thêm chi tiết, vui lòng truy cập vào"," ",e.jsx("span",{className:"text-blue-600 hover:underline cursor-pointer",children:"Chính sách quyền riêng tư"})," ","của chúng tôi."]})})]})]}),x.errors.birthday&&(x.touched.day||x.touched.month||x.touched.year)?e.jsxs(i.Popover,{open:v,dismiss:{referencePress:!0},placement:"left",offset:{mainAxis:400,crossAxis:30},handler:C,children:[e.jsx(i.PopoverHandler,{onClick:()=>{x.errors.birthday&&(x.touched.day||x.touched.month||x.touched.year)?C(!0):C(!1)},children:e.jsx(L,{icon:xe,beat:!0,color:"red",size:"sm"})}),e.jsx(i.PopoverContent,{onFocus:()=>{N(x.errors.birthday)},className:"z-[99999] max-w-[300px] rounded py-3 border-none arrow_box-right text-white text-[0.8rem]",children:y})]}):""]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx(Ie,{initialValue:x.values.day.toString(),listItem:ks,handleChange:b=>{x.setFieldValue("day",parseInt(b)),x.setFieldValue("birthday",new Date(x.values.year,x.values.month-1,parseInt(b)))},name:"day",formik:x,setOpenPopoverBirthday:C}),e.jsx(Ie,{initialValue:"Tháng "+x.values.month.toString(),listItem:Cs,handleChange:b=>{x.setFieldValue("month",parseInt(b.substring(5))),x.setFieldValue("birthday",new Date(x.values.year,parseInt(b.substring(5))-1,x.values.day))},name:"month",formik:x,setOpenPopoverBirthday:C}),e.jsx(Ie,{initialValue:x.values.year.toString(),listItem:Es,handleChange:b=>{x.setFieldValue("year",parseInt(b)),x.setFieldValue("birthday",new Date(parseInt(b),x.values.month-1,x.values.day))},name:"year",formik:x,setOpenPopoverBirthday:C})]})]}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("p",{className:"text-[12px] text-gray-700",children:"Giới tính"}),e.jsxs(i.Popover,{placement:"left-start",children:[e.jsx(i.PopoverHandler,{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 cursor-pointer",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),e.jsx(i.PopoverContent,{className:"z-[99999] max-w-[370px]",children:e.jsx("div",{className:"text-[13px]",children:"Bạn có thể thay đổi người nhìn thấy giới tính của mình trên trang cá nhân vào lúc khác. Chọn Tùy chỉnh nếu bạn thuộc giới tính khác hoặc không muốn tiết lộ."})})]})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsxs("label",{htmlFor:"male",className:"flex border border-gray-400 p-2 py-1 rounded",children:[e.jsx("span",{className:"mr-12 text-black",children:"Nữ"}),e.jsx("input",{type:"radio",id:"male",name:"gender",value:"male",checked:n==="male",onChange:b=>{l("male"),x.setFieldValue("gender",b.target.value)}})]}),e.jsxs("label",{htmlFor:"female",className:"flex border border-gray-400 p-2 py-1 rounded",children:[e.jsx("span",{className:"mr-12 text-black",children:"Nam"}),e.jsx("input",{type:"radio",id:"female",name:"gender",value:"female",checked:n==="female",onChange:b=>{l("female"),x.setFieldValue("gender",b.target.value)}})]}),e.jsxs("label",{htmlFor:"unknown",className:"flex border border-gray-400 p-2 py-1 rounded",children:[e.jsx("span",{className:"mr-10 text-black",children:"Tùy chỉnh"}),e.jsx("input",{type:"radio",id:"unknown",name:"gender",value:"unknown",checked:n==="unknown",onChange:b=>{l("unknown"),x.setFieldValue("gender",b.target.value)}})]})]})]}),e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"text-[11px]",children:["Những người dùng dịch vụ của chúng tôi có thể đã tải thông tin liên hệ của bạn lên Facebook."," ",e.jsx("span",{className:"text-blue-900 hover:underline cursor-pointer",children:"Tìm hiểu thêm"}),"."]}),e.jsxs("p",{className:"text-[11px] mt-2",children:["Bằng cách nhấp vào Đăng ký, bạn đồng ý với"," ",e.jsx("span",{className:"text-blue-900 hover:underline cursor-pointer",children:"Điều khoản"}),","," ",e.jsx("span",{className:"text-blue-900 hover:underline cursor-pointer",children:"Chính sách quyền riêng tư"})," và"," ",e.jsx("span",{className:"text-blue-900 hover:underline cursor-pointer",children:"Chính sách cookie"})," của chúng tôi. Bạn có thể nhận được thông báo của chúng tôi qua SMS và hủy nhận bất kỳ lúc nào."]})]})]}),e.jsxs(i.CardFooter,{className:"pt-0 flex flex-col w-full items-center",children:[R?e.jsxs("div",{className:"ml-1 mb-2 flex gap-2 text-red-700 items-center",children:[e.jsx(L,{color:"red",icon:gt}),R]}):"",e.jsx("button",{type:"submit",color:"green",className:"bg-[#00A400] text-white py-[0.2rem] px-[0.3rem] rounded-[0.4rem] w-1/2 hover:bg-gradient-to-b hover:from-green-400 hover:to-green-500",children:e.jsx("b",{className:" text-lg font-bold",children:"Đăng kí"})})]})]})})]})}const ca="/assets/logo_facbook-0d6f8d20.svg";function ia(){const t=vt(),s=re(),r=te(),{setIsAuthenticated:a}=o.useContext(se),[n,l]=o.useState(""),[c,d]=o.useState(!1),m=()=>d(g=>!g),h=Q({mutationFn:g=>me.signIn(g)}),u=ne({queryKey:["profile"],queryFn:()=>Se.getUserInfor(),enabled:h.isSuccess,onSuccess:g=>{const j=g.data;r(tt(j)),a(!0),s(B.home)},onError:g=>{console.log(g)}}),p=bt({initialValues:{email:"",password:""},onSubmit:async g=>{await h.mutate(g,{onSuccess:j=>{j.data.accessToken===""?(r(kt({email:g.email,password:g.password,isConfirmed:!1})),s("/authenticate/"+j.data.key)):t.invalidateQueries({queryKey:["profile"]})},onError:j=>{var v;if(ye(j)){const C=(v=j.response)==null?void 0:v.data;C&&C.errorKey==="EmailOrPasswordInValid"&&l(C.message)}}})}});return e.jsx("div",{className:" h-screen flex justify-center items-center max-900:items-start bg-[#f2f4f7]",children:e.jsxs("div",{className:"semi-md:flex-row flex flex-col justify-center items-start gap-10",children:[e.jsxs("div",{className:"mt-8 lg:w-[500px] w-[350px] max-900:w-[400px] flex flex-col max-900:items-center",children:[e.jsx("img",{src:ca,width:301,height:106,alt:"Facebook",className:"ms-[-28px]"}),e.jsx("div",{className:"mt-[-1rem]",children:e.jsx("p",{className:"font-sans lg:text-[28px] text-[20px] font-normal max-900:text-center max-900:text-[24px]",children:"Connect with friends and the world around you on Facebook."})})]}),e.jsxs("form",{onSubmit:p.handleSubmit,className:"flex flex-col bg-white py-8 px-5 rounded-lg w-[400px] shadow-[0_8px_16px_0px_rgba(0,0,0,0.1)]",children:[e.jsx("input",{type:"text",id:"email",name:"email",value:p.values.email,onChange:p.handleChange,placeholder:"Email hoặc số điện thoại",className:`border-[0.3px] border-solid border-[#e7d5d5] rounded-md outline-none px-[1rem] py-[0.65rem] mb-[0.8rem] text-[1.1rem] placeholder:text-[1.1rem] focus:border-[#1877f2]\r
              placeholder:focus:opacity-50 placeholder:text-[#757575]`,required:!0}),e.jsx("input",{type:"password",placeholder:"Mật khẩu",id:"password",name:"password",value:p.values.password,onChange:p.handleChange,className:`border-[0.3px] border-solid border-[#e7d5d5] rounded-md outline-none px-[1rem] py-[0.65rem] mb-[0.8rem] text-[1.1rem] placeholder:text-[1.1rem] focus:border-[#1877f2]\r
              placeholder:focus:opacity-50 placeholder:text-[#757575]`,required:!0}),e.jsx(i.Typography,{className:n===""?"hidden":"text-sm mb-2 ms-2",color:"red",children:n}),!u.isInitialLoading&&e.jsx("button",{type:"submit",className:"bg-[#1877f2] px-[1rem] py-[0.5rem] rounded-[0.4rem] text-[1.3rem] text-white",children:e.jsx("b",{children:"Đăng nhập"})}),e.jsx("p",{className:"text-[#1877f2] text-center text-[0.9rem] pt-[0.8rem] hover:cursor-pointer hover:underline",children:"Quên mật khẩu ?"}),e.jsx("hr",{className:"bg-[#f7f7f7] m-[1rem] border-gray-300"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"button",className:"bg-[#06b909] text-white py-[0.6rem] px-[0.5rem] rounded-[0.4rem] mt-4",onClick:m,children:e.jsx("b",{className:"mx-2",children:"Tạo tài khoản mới"})})})]}),e.jsx(oa,{open:c,handleOpen:m})]})})}function da(){return e.jsxs("div",{children:[e.jsxs(Ke,{children:[e.jsx("title",{children:"Facebook - Đăng nhập hoặc đăng ký"}),e.jsx("meta",{name:"description",content:"Đăng nhập để truy cập vào Facebook"})]}),e.jsx(ia,{})]})}const $="/assets/facbook_icon_6-673fffdd.png",He="/assets/facbook_icon_7-d6e83f53.png",xa="data:image/png;base64,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",H=({name:t,children:s})=>e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-[#e4e6e9] rounded-lg ml-2 p-2",children:[s,e.jsx(i.Typography,{as:"div",className:"font-[600] text-[15px] text-[#050505]",children:t})]});function ma(){const t=M(a=>a.rootReducer.userAccountReducer),[s,r]=o.useState(!1);return e.jsxs("div",{className:"3xl:w-[360px] 2xl:w-[340px] xl:w-[280px] semi-lg:w-[280px] fixed flex flex-col h-[670px] overflow-x-hidden overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-[#e4e6e9] rounded-lg ml-2 mt-4 p-2",children:[e.jsx(i.Avatar,{variant:"circular",size:"sm",alt:"avatar",className:"h-9 w-9",src:t.avatar}),e.jsx(i.Typography,{as:"div",className:"font-[600] text-[15px] text-[#050505]",children:t.firstName+" "+t.lastName})]}),e.jsx(H,{name:"Tìm bạn bè",children:e.jsx("div",{style:{backgroundImage:`url(${$})`},className:"bg-[length:38px_570px] bg-[0px_-304px] h-9 w-9"})}),e.jsx(H,{name:"Chào mừng",children:e.jsx("div",{className:`bg-[url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/vV4w4OL9xUs.png)] \r
                            bg-[length:38px_38px] bg-[0px_0px] h-9 w-9`})}),e.jsx(H,{name:"Kỷ niệm",children:e.jsx("div",{style:{backgroundImage:`url(${$})`},className:"bg-[length:38px_570px] bg-[0px_-456px] h-9 w-9"})}),e.jsx(H,{name:"Đã lưu",children:e.jsx("div",{style:{backgroundImage:`url(${$})`},className:"bg-[length:38px_570px] bg-[0px_-190px] h-9 w-9"})}),e.jsx(H,{name:"Nhóm",children:e.jsx("div",{style:{backgroundImage:`url(${$})`},className:"bg-[length:38px_570px] bg-[0px_-38px] h-9 w-9"})}),e.jsx(H,{name:"Video",children:e.jsx("div",{style:{backgroundImage:`url(${$})`},className:"bg-[length:38px_570px] bg-[0px_-532px] h-9 w-9"})}),e.jsx(H,{name:"Marketplace",children:e.jsx("div",{style:{backgroundImage:`url(${$})`},className:"bg-[length:38px_570px] bg-[0px_-418px] h-9 w-9"})}),e.jsx(H,{name:"Bảng Feed",children:e.jsx("img",{src:"https://static.xx.fbcdn.net/rsrc.php/v3/yT/r/3dN1QwOLden.png",className:"h-9 w-9",alt:""})}),e.jsx(H,{name:"Messenger",children:e.jsx("div",{style:{backgroundImage:`url(${He})`},className:"bg-[length:38px_464px] bg-[0px_0px] h-9 w-9"})}),e.jsx(e.Fragment,{children:s?e.jsxs(e.Fragment,{children:[e.jsx(H,{name:"Chơi games",children:e.jsx("div",{style:{backgroundImage:`url(${$})`},className:"bg-[length:38px_570px] bg-[0px_-76px] h-9 w-9"})}),e.jsx(H,{name:"Trang",children:e.jsx("div",{style:{backgroundImage:`url(${$})`},className:"bg-[length:38px_570px] bg-[0px_-114px] h-9 w-9"})}),e.jsx(H,{name:"Sự kiện",children:e.jsx("div",{style:{backgroundImage:`url(${xa})`},className:"bg-[length:38px_76px] bg-[0px_-38px] h-9 w-9"})})]}):""}),e.jsxs("button",{className:"flex items-center gap-3 w-[344px] cursor-pointer hover:bg-[#e4e6e9] rounded-lg ml-2 p-2",onClick:()=>r(a=>!a),children:[e.jsx("div",{className:"h-9 w-9 bg-[#d8dadfe0] flex justify-center items-center rounded-full",children:e.jsx("svg",{viewBox:"0 0 16 16",className:`${s?"rotate-180":""} h-4 w-4`,children:e.jsx("g",{fillRule:"evenodd",transform:"translate(-448 -544)",children:e.jsx("path",{fillRule:"nonzero",d:"M452.707 549.293a1 1 0 0 0-1.414 1.414l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L456 552.586l-3.293-3.293z"})})})}),e.jsx(i.Typography,{as:"div",className:"font-[600] text-[15px] text-[#050505]",children:s?"Ẩn bớt":"Xem thêm"})]}),e.jsx(i.Typography,{as:"span",className:" ml-2 p-2 font-normal text-gray-600 text-xs mt-2",children:"Quyền riêng tư · Điều khoản · Quảng cáo · Lựa chọn quảng cáo · Cookie · Meta © 2023"})]})}function Pe({url:t}){const s=M(n=>n.rootReducer.userAccountReducer),[r,a]=o.useState("");return rs(t,{format:"hex"}).then(n=>{a(n.toString())}),e.jsxs("div",{className:"flex h-[250px] w-[141px] relative",style:{backgroundColor:r,borderRadius:"8px"},children:[e.jsx("div",{className:"flex justify-center items-center absolute bg-white rounded-full h-10 w-10 mt-3 ml-3",children:e.jsx(i.Avatar,{variant:"circular",size:"sm",alt:"avatar",className:"h-8 w-8 justify-items-center",src:s.avatar})}),e.jsx("div",{className:`h-[250px] w-[141px] bg-contain bg-center bg-no-repeat
              `,style:{backgroundImage:`url(${t})`}}),e.jsx("div",{className:"h-[250px] w-[141px] absolute flex items-end justify-start",children:e.jsx("span",{className:"font-semibold text-[13px] mb-2 text-white ml-4",children:"Tin của bạn"})})]})}const ha="reaction/express",ua="reaction/get",St={expressReaction:(t,s)=>I.post(`${ha}/${s}`,t),getAllReactionByPostID:t=>I.get(`${ua}/${t}`)},Aa="comment/create",pa="comment/get",fa="comment/get/top-2-lastest-comments",st={createComment:(t,s)=>I.post(`${Aa}/${s}`,t),getCommentByPostID:(t,s=0,r=7)=>I.get(`${pa}/${t}?page=${s}&size=${r}`),getTop2LatestComments:t=>I.get(`${fa}/${t}`)},Z="/assets/facbook_icon_9-47c705b3.png",ga="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAYAAABCIB6VAAACzUlEQVQ4jaWUTUgUYRjHf+/s7M7muvmFGqRbEIpgH2CJEd08qB06dCpECgIJivBU2dep7NQhukSRVFRYHSJSMroVSkhBmCVU1GJaremq+2EzOzszMatr2/q59Vzm8Dzvb973+T//R0yGosxGDiABk4DFf4Y0e7w6rFqTgZARHI8apha3wkAA6AQa/uUXiRuHVet18+1A1ZOBKL58mb3VXuorPZQXu8hWhF13ETgOGBmBf4SM0Yqz/sLURFmRk7rKLBoqPWz1KbhdUjdwEPi2YvBo2PhV3Tbknvpl/pV0yYJ1+TI7y1bRVLOaKp8SBE4C14H4cuCckGpOHrwZ4Nng9IJFTofA6xaJ9rTU5lFe7PwKXAEuA+GFztjixRVZqNvWuxf9u25YBKMmd/vC1F0a5vSjsdJPP2Pntbj1FtgNONLPOE60ntJlSfh1kz1d/RFiy8ij6hZ9fo3ud9OEVTPXo0j7vG7HIZcsSgC7VSPJVtjfgg8BfezovVFeflaXJqfFAiLvB24l53h8TY5jcPNaBXneo5aOj6M6V1+EaLn/kwtPJ5iOmU2pN070O6JZuRHNzLUHwjItz/eQkT08oT8GvHbB++8xe+YTxcFpg4dvIqixPyZVnILeYyXWhkLXdjnlOvas5YsZa4MAIdCFIJbJC7IVh+2oLXPgkGpyrivY0947VRRfsb9mIjnvuzZ5EmMJfJoD/5gyCvpHtIJMoWnijbtd0lXg+Rx4ZCp+amBEW7F0aTvlc7Yi2oA79kTa+QRYi1tFfV/Uxoi2/LbMy5JorPFyYMdqozTP2aPI4hrQkW7xJPjMK79atBgsxdLxltq8B+XFThvWA4sLmwCrulXV559vjLQl1FnlUw4DQ8s+axYsTIuK9M2WIoqx1ac0u11S+0qAqWDF45Ksho0eFln0rUBGUDuSzqsPq1ZHNGbmyBJ43RKKLOzEEeBGplCA3/aVI0Tgvvc8AAAAAElFTkSuQmCC",ja="/assets/emoji-icon-active-349f1580.png";function Ft({userAccount:t,post:s,textAreaRef:r,refetch:a,focus:n,content:l,setContent:c,maxW:d}){const[m,h]=o.useState(n),[u,p]=o.useState(!1),[g,j]=o.useState(!1),v=Q({mutationFn:f=>st.createComment(f,s.id),onSuccess:()=>{if(c(""),r.current){const f=r.current;f.style.height="36px",f.focus()}a()},onError:f=>console.log(f)}),C=f=>{c(l+f.native)},y=()=>{u&&!g&&p(!1)},N=()=>{h(!0),p(f=>!f),j(!0)},R=()=>{v.mutate({content:Le(l)})},A=e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"h-9 w-9 hover:bg-[#e4e6e9] rounded-full flex justify-center items-center",children:e.jsx("div",{className:"bg-[length:26px_1536px] bg-[0px_-1130px] h-4 w-4 opacity-50",style:{backgroundImage:`url(${Z})`}})}),e.jsx("button",{onMouseLeave:()=>j(!1),onClick:N,className:"h-9 w-9 -ml-2 hover:bg-[#e4e6e9] rounded-full flex justify-center items-center",children:e.jsx("div",{className:`h-4 w-4 ${u?"bg-[length:15.5px_15.5px] bg-[0.2px_0.15px]":"bg-[length:26px_1536px] bg-[0px_-1238px] opacity-50"}`,style:{backgroundImage:`url(${u?ja:Z})`}})}),e.jsx("button",{className:"h-9 w-9 -ml-2 hover:bg-[#e4e6e9] rounded-full flex justify-center items-center",children:e.jsx("div",{className:"bg-[length:26px_1536px] bg-[0px_-1166px] h-4 w-4 opacity-50",style:{backgroundImage:`url(${Z})`}})}),e.jsx("button",{className:"h-9 w-9 -ml-2 hover:bg-[#e4e6e9] rounded-full flex justify-center items-center",children:e.jsx("div",{className:"bg-[length:26px_1536px] bg-[0px_-1274px] h-4 w-4 opacity-50",style:{backgroundImage:`url(${Z})`}})}),e.jsx("button",{className:"h-9 w-9 -ml-2 hover:bg-[#e4e6e9] rounded-full flex justify-center items-center",children:e.jsx("div",{className:"bg-[length:26px_1536px] bg-[0px_-1418px] h-4 w-4 opacity-50",style:{backgroundImage:`url(${Z})`}})})]});return e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(e.Fragment,{children:[e.jsx(i.Avatar,{variant:"circular",size:"sm",alt:"avatar",className:"h-8 w-8 border-solid border-gray-400 border cursor-pointer ",src:t.avatar}),e.jsx("div",{className:"h-5 w-5 flex justify-center items-center rounded-full sticky mt-[18px] -ml-[22px]",children:e.jsx("svg",{viewBox:"0 0 16 16",fill:"currentColor",className:"h-3 w-3 bg-[#d8dadfe0] rounded-full",children:e.jsx("g",{fillRule:"evenodd",transform:"translate(-448 -544)",children:e.jsx("path",{fillRule:"nonzero",d:"M452.707 549.293a1 1 0 0 0-1.414 1.414l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L456 552.586l-3.293-3.293z"})})})})]}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsxs("div",{className:`w-full h-auto bg-[#f0f2f5] flex items-center ${m||l!==""?"rounded-t-2xl":"rounded-full"}`,children:[e.jsx("textarea",{ref:r,onFocus:()=>h(!0),value:l,onChange:f=>{c(f.target.value)},style:{maxWidth:d},className:`w-full h-9 pt-[6.5px] px-3 overflow-clip text-[#050505] text-[15px] resize-none bg-[#f0f2f5] placeholder:text-[#050505] placeholder:opacity-60 active:outline-0 focus:outline-0 ${m||l!==""?"rounded-t-2xl":"rounded-full"}`,placeholder:"Viết bình luận công khai..."}),e.jsx("div",{className:`flex ${m||l!==""?"hidden":""}`,children:A})]}),e.jsxs("div",{className:`w-full bg-[#f0f2f5] rounded-b-2xl flex justify-between items-center ${m||l!==""?"":"hidden"}`,children:[e.jsx("div",{className:"flex p-1 pb-1 pt-1",children:A}),e.jsx("button",{onClick:R,className:`h-9 w-9 mr-2 rounded-full flex justify-center items-center ${l!==""?"hover:bg-[#e4e6e9]":"cursor-not-allowed"}`,children:e.jsx("div",{className:`h-4 w-4 ${l!==""?"bg-[length:17px_17px] bg-[0px_0px]":"bg-[length:26px_1536px] bg-[0px_-1327px] opacity-20"}`,style:{backgroundImage:`url(${l!==""?ga:Z})`}})}),e.jsx("div",{className:`${u?"":"hidden"} absolute ml-[480px] mb-[400px] z-[99]`,children:e.jsx(Ge,{onClickOutside:()=>y(),theme:"light",locale:"vi",showReview:!0,set:"facebook",previewPosition:"none",onEmojiSelect:C})})]})]})]})}const Ye=o.forwardRef(({comment:t,maxW:s},r)=>{const a=yt(t.content).split(`
`),n=e.jsxs("div",{className:"mb-2 last:mb-0 group",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i.Avatar,{variant:"circular",size:"sm",alt:"avatar",className:"h-8 w-8 border-solid border-gray-400 border cursor-pointer hover:brightness-90",src:t.userAccount.avatar}),e.jsx("div",{className:`bg-[#f0f2f5] rounded-2xl max-w-[${s}]`,style:{maxWidth:s},children:e.jsxs("div",{className:"py-2 px-3",children:[e.jsx("span",{className:"text-[#050505] block text-[13px] leading-[16px] font-semibold",children:t.userAccount.firstName+" "+t.userAccount.lastName}),e.jsx("span",{className:"text-[#050505] block text-[15px] leading-[20px] opacity-90 break-words",children:a.map((l,c)=>e.jsxs(o.Fragment,{children:[l,c<a.length-1&&e.jsx("br",{})]},c))})]})})]}),e.jsx(i.Tooltip,{id:t.id,placement:"top",content:"Chỉnh sửa hoặc xóa bình luận này",className:"text-white text-[13px] bg-[rgba(0,0,0,0.8)] z-[9999]",children:e.jsx("button",{className:"p-2 rounded-full hidden justify-center items-center group-hover:block hover:bg-[#f2f2f2]",children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-18px_-153px] h-4 w-4 opacity-60"})})})]}),e.jsxs("div",{className:"ml-[52px] flex gap-4 mt-1 text-[12px] text-[#65676b] leading-3",children:[e.jsx(i.Tooltip,{placement:"bottom",content:Ze(t.createdAt),className:"text-white text-[13px] bg-[rgba(0,0,0,0.8)] z-[9999]",children:e.jsx("span",{className:"hover:underline hover:cursor-pointer",children:Is(t.createdAt)})}),e.jsx("span",{className:"font-bold hover:underline hover:cursor-pointer",children:"Thích"}),e.jsx("span",{className:"font-bold hover:underline hover:cursor-pointer",children:"Phản hồi"})]})]});return r?e.jsx("div",{ref:r,children:n}):n});function ba({isAnimationPopoverEnd:t,emoji:s,emojiChoosen:r,setEmojiChoosen:a,setOpenPopover:n,setIsAnimationPopoverEnd:l}){const[c,d]=o.useState(!1),[m,h]=o.useState(!1),u=o.useRef(null);o.useEffect(()=>{if(m&&!c&&u.current){const g=u.current;g.classList.remove("animate-scale-up-bottom-emoji"),g.classList.add("animate-scale-down-bottom-emoji")}},[c]);const p=()=>{n(!1),l(!1),a(s===r?null:s)};return e.jsx(i.Tooltip,{content:s.title,offset:13,className:"text-white text-[11px] bg-[rgba(0,0,0,0.8)] px-1 py-[2px] rounded-full font-semibold",children:e.jsx("button",{onClick:p,onMouseOver:()=>{d(!0)},onMouseOut:()=>{d(!1)},onAnimationEnd:g=>{g.animationName==="scale-up-bottom-emoji"&&h(!0),g.animationName==="scale-down-bottom-emoji"&&u.current&&u.current.classList.remove("animate-scale-down-bottom-emoji")},className:`rounded-full ${t?"":"pointer-events-none"}`,children:e.jsx("img",{ref:u,src:s.icon,className:`w-10 h-10 ${c?"animate-scale-up-bottom-emoji":""}`,alt:`Emoji ${s.icon}`})})})}function va({interactFieldRef:t,reactionList:s,userAccount:r,postID:a,refetch:n}){const l=o.useRef(null),[c,d]=o.useState(rt(s,r.email)),[m,h]=o.useState(!1),[u,p]=o.useState(!1),[g,j]=o.useState(!1),[v,C]=o.useState(!0),[y,N]=o.useState("mt-16"),[R,A]=o.useState(!1),f=Q({mutationFn:w=>St.expressReaction(w,a),onSuccess:()=>{n()},onError:w=>console.log(w)}),x={onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1),j(!1)},onClick:()=>{c?(h(!1),d(null)):(h(!1),d(Ne[0]))}},b={onMouseEnter:()=>{p(!0),h(!0)},onMouseLeave:()=>p(!1),onAnimationStart:w=>{w.animationName==="slide-in-bottom-box-emoji"&&j(!0)},onAnimationEnd:w=>{w.animationName==="slide-in-bottom-box-emoji"&&A(!0)}};return o.useEffect(()=>{var w;if(t.current){const S=t.current.getBoundingClientRect(),z=(w=document.getElementById("home-header"))==null?void 0:w.getBoundingClientRect(),P=document.getElementById("header-detail-post");P?S.top-P.getBoundingClientRect().bottom>55?N("-mt-[50px]"):N("mt-[30px]"):S.top-(z==null?void 0:z.bottom)>55?N("-mt-[50px]"):N("mt-[30px]")}},[m]),o.useEffect(()=>{let w,S;return u&&(w=setTimeout(()=>{h(!0),C(!1)},800)),u||(S=setTimeout(()=>{h(!1),A(!1)},1200)),()=>{clearTimeout(w),clearTimeout(S)}},[u]),o.useEffect(()=>{d(rt(s,r.email))},[s]),o.useEffect(()=>{c?f.mutate({typeReaction:c.value}):f.mutate({typeReaction:"like",status:"deleted"})},[c]),e.jsxs("div",{children:[e.jsx("div",{ref:l,...b,className:`${v?"hidden":""}
        ${y}
        ${g?"cursor-pointer":""} 
        ${m?"animate-slide-in-bottom-box-emoji":"hidden"}  
        absolute z-[999] h-[49px] w-[329px] rounded-full bg-white shadow-[0_0px_1px_1px_rgba(0,0,0,0.09)] flex gap-2 px-1`,children:Ne.map((w,S)=>e.jsx(ba,{isAnimationPopoverEnd:R,emoji:w,setEmojiChoosen:d,setOpenPopover:h,setIsAnimationPopoverEnd:A,emojiChoosen:c},S))}),e.jsxs("button",{...x,className:`${g?"bg-[#f2f2f2]":"bg-white"} h-8 w-full px-3 py-1 hover:bg-[#f2f2f2] rounded-md flex items-center justify-center gap-2`,children:[c&&c.value!=="like"?e.jsx("img",{src:c.icon,alt:c.value,className:"h-5 w-5"}):e.jsx("div",{className:`bg-[length:26px_1536px] ${c?"bg-[0px_-709px]":"bg-[0px_-774px] opacity-70"}  h-5 w-5 `,style:{backgroundImage:`url(${Z})`}}),e.jsx("span",{style:{color:c?c.color:"#65676B"},className:"text-[15px] font-semibold",children:c?c.title:"Thích"})]})]})}function Na({listImage:t}){const[s,r]=o.useState([]);async function a(l){return new Promise((c,d)=>{const m=new Image;m.onload=()=>c(m),m.onerror=d,m.src=l})}async function n(){const l=[];for(let c=0;c<t.length&&c<5;c++)try{const d=await a(t[c].url);l.push(d.height/d.width)}catch(d){console.error("Error loading image:",d)}return l}switch(o.useEffect(()=>{n().then(c=>r(c))},[t]),t.length){case 1:return e.jsx("img",{src:t[0].url,alt:t[0].url,className:" mb-1 w-full mt-3 last:mb-0"});case 2:return s[0]>.75||s[1]>.75?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-1 mt-3 ",children:[e.jsx("img",{src:t[0].url,className:"flex-1 h-[280px]  mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[1].url,className:"w-[223px] h-[280px] mb-1 object-cover last:mb-0"})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-1 mt-3 ",children:[e.jsx("div",{children:e.jsx("img",{src:t[0].url,className:"max-h-[280px] w-full mb-1 object-cover last:mb-0"})}),e.jsx("div",{className:"",children:e.jsx("img",{src:t[1].url,className:"w-full max-h-[280px] mb-1 object-cover last:mb-0"})})]})});case 3:return s[0]>.7&&s[1]>.7||s[0]>.7&&s[2]>.7?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-1 mt-3",children:[e.jsx("div",{children:e.jsx("img",{src:t[0].url,className:"w-[450px] max-h-[400px]  mb-1 object-cover last:mb-0"})}),e.jsxs("div",{className:"grid gap-1",style:{gridTemplateRows:"repeat(2, 1fr)"},children:[e.jsx("img",{src:t[1].url,className:"w-full h-[200px]   object-cover last:mb-0"}),e.jsx("img",{src:t[2].url,className:"w-full h-[200px]  object-cover last:mb-0"})]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-1 mt-3",children:[e.jsx("div",{children:e.jsx("img",{src:t[0].url,className:"w-full max-h-[300px]  mb-1 object-cover last:mb-0"})}),e.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[e.jsx("img",{src:t[1].url,className:"h-[250px]  mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[2].url,className:"h-[250px]  mb-1 object-cover last:mb-0"})]})]})});case 4:return s[0]>.7?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{children:e.jsx("img",{src:t[0].url,className:"max-w-[290px] mt-3 mb-1 object-cover last:mb-0"})}),e.jsxs("div",{className:"grid gap-1",style:{gridTemplateRows:"repeat(3, 1fr)"},children:[e.jsx("img",{src:t[1].url,className:"w-full min-h-[150px] max-h-[160px] mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[2].url,className:"w-full min-h-[150px] max-h-[160px] mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[3].url,className:"w-full min-h-[150px] max-h-[160px] mb-1 object-cover last:mb-0"})]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{children:e.jsx("img",{src:t[0].url,className:"w-full mt-3 mb-1 object-cover last:mb-0"})}),e.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:"repeat(3, 1fr)"},children:[e.jsx("img",{src:t[1].url,className:"h-[150px] mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[2].url,className:"h-[150px] mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[3].url,className:"w-full h-[150px] mb-1 object-cover last:mb-0"})]})]})});default:return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-1 mt-3",children:[e.jsxs("div",{className:"grid gird-rows-2 gap-1",children:[e.jsx("img",{src:t[0].url,className:"w-full h-full mb-1 object-cover"}),e.jsx("img",{src:t[1].url,className:"h-full mb-1 object-cover last:mb-0"})]}),e.jsxs("div",{className:"grid gap-1",style:{gridTemplateRows:"repeat(3, 1fr)"},children:[e.jsx("img",{src:t[2].url,className:"h-full mb-1 object-cover"}),e.jsx("img",{src:t[3].url,className:"h-full mb-1 object-cover"}),e.jsx("img",{src:t[4].url,className:`h-full mb-1 object-cover ${t.length>5?"brightness-75":""}`}),e.jsx("span",{className:`text-4xl text-white absolute mt-[370px] ml-[80px] ${t.length>5?"":"hidden"}`,children:"+"+(t.length-4)})]})]})})}}const pe="/assets/facbook_icon_12-c26e004e.png",ct="data:image/png;base64,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",fe="/assets/facbook_icon_14-990668ec.png",it="/assets/facbook_icon_15-8de67d48.png",dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAQAAACROWYpAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAB3RJTUUH4wMSFTQ6hn9tlgAAAAJiS0dEAP+Hj8y/AAABm0lEQVR42t2SsUtbURjFfwk4BFpx0hKkD0s6FtxKlmL/AJu1Q4fqKhXH/AFNF2fpIji5ZAjSybFdxaVdCkmWNhEdJSJGBI+Hy4Uk5uVhoEPxd+ByzuFd7gff47/hPYecWYd2U/IVDeQ0BW8RPdaZt9bt5ObBfENsEbGTGyIvOeDUOrBLpYlIiNjJDYElPEdUzymFS0SBiJ3cENizb7BgNZBTCj8Rr4jYyQ2Bln0J41NOkTwDjoBNInahCRSBLsTTaZwkDL7Nc2sbOSUQ+OX0GuNTTql8oI+i+k5EvjgfU7KOkdMElqnTsep2A57QQlEtpymZY5e/1q7dv2Y1DHyDCLLz8G6hyA5trnHrs+20yBDP+IEm6Dfn9zs3HwdX/yB6VCmP/GFlNxfIavCGp2BmWWEfd/F6ePWIhDRecIL4zihr4fVFeBdeTZhEQg+xygjh9R2oI6pkUUXUGWUlbJwOokwWZURnbO/iirCcAlkUwuKGybOBaOYQkCMbkcYmdBEVsqige7qlySdyUEMP0GdSmfH1bubFLjV/9Xi4A39R4ZvR47wmAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTAzLTE5VDA0OjUyOjU4LTA3OjAwqAPTdQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wMy0xOVQwNDo1Mjo1OC0wNzowMNlea8kAAAAASUVORK5CYII=";function ya({arrowBox:t,handleOpenEditPostDialog:s,post:r,userAccount:a}){const[n,l]=o.useState(!1),c=[pe,ct,fe,it,dt];return o.useEffect(()=>{const d=c.map(h=>{const u=new Image;return u.src=h,u}),m=()=>{d.every(u=>u.complete)&&l(!0)};return d.forEach(h=>{h.addEventListener("load",m),h.addEventListener("error",m)}),()=>{d.forEach(h=>{h.removeEventListener("load",m),h.removeEventListener("error",m)})}},[c]),e.jsx(i.PopoverContent,{className:`p-2 ${t} border-none rounded shadow-[0_0px_4px_3px_rgba(163,163,163,0.45)]`,children:n?e.jsxs("div",{children:[e.jsxs("button",{className:"flex gap-3 w-[328px] h-[36px] rounded p-2 hover:bg-[#f6f6f6] ",children:[e.jsx("div",{style:{backgroundImage:`url(${pe})`},className:"bg-[length:22px_776px] bg-[0px_-550px] h-5 w-5 opacity-[0.85]"}),e.jsx("span",{className:"text-[15px] text-[#050505] font-semibold opacity-[0.85]",children:"Ghim bài viết"})]}),e.jsxs("button",{className:"flex gap-3 w-[328px] h-[46px] rounded p-2 hover:bg-[#f6f6f6] ",children:[e.jsx("div",{style:{backgroundImage:`url(${ct})`},className:"bg-[length:26px_268px] bg-[0px_-70px] h-5 w-5 opacity-[0.85]"}),e.jsxs("div",{className:"flex flex-col flex-1 items-start -mt-1",children:[e.jsx("span",{className:"text-[15px] text-[#050505] font-semibold opacity-[0.85] ",children:"Lưu bài viết"}),e.jsx("span",{className:"text-[12px] text-[#65676b] opacity-[0.85]",children:"Thêm vào danh sách mục đã lưu."})]})]}),e.jsx("hr",{className:"border-gray-300 mx-2 border my-2"}),e.jsxs("button",{disabled:a.email!==r.author.email,onClick:s,className:"flex gap-3 w-[328px] h-[36px] rounded p-2 hover:bg-[#f6f6f6] ",children:[e.jsx("div",{style:{backgroundImage:`url(${fe})`},className:"bg-[length:22px_484px] bg-[0px_-308px] h-5 w-5 opacity-[0.85]"}),e.jsx("span",{className:"text-[15px] text-[#050505] font-semibold opacity-[0.85]",children:"Chỉnh sửa bài viết"})]}),e.jsxs("button",{className:"flex gap-3 w-[328px] h-[36px] rounded p-2 hover:bg-[#f6f6f6] ",children:[e.jsx("img",{src:dt,className:"bg-[length:22px_776px] bg-[0px_-550px] h-5 w-5 opacity-[0.85]"}),e.jsx("span",{className:"text-[15px] text-[#050505] font-semibold opacity-[0.85]",children:"Chỉnh sửa đối tượng"})]}),e.jsxs("button",{className:"flex gap-3 w-[328px] h-[36px] rounded p-2 hover:bg-[#f6f6f6] ",children:[e.jsx("div",{style:{backgroundImage:`url(${pe})`},className:"bg-[length:22px_776px] bg-[0px_-66px] h-5 w-5 opacity-[0.85]"}),e.jsx("span",{className:"text-[15px] text-[#050505] font-semibold opacity-[0.85]",children:"Tắt thông báo về bài viết này"})]}),e.jsxs("button",{className:"flex gap-3 w-[328px] h-[36px] rounded p-2 hover:bg-[#f6f6f6] ",children:[e.jsx("div",{style:{backgroundImage:`url(${fe})`},className:"bg-[length:22px_484px] bg-[0px_-462px] h-5 w-5 opacity-[0.85]"}),e.jsx("span",{className:"text-[15px] text-[#050505] font-semibold opacity-[0.85]",children:"Tắt bản dịch"})]}),e.jsxs("button",{className:"flex gap-3 w-[328px] h-[36px] rounded p-2 hover:bg-[#f6f6f6] ",children:[e.jsx("div",{style:{backgroundImage:`url(${it})`},className:"bg-[length:22px_678px] bg-[0px_-44px] h-5 w-5 opacity-[0.85]"}),e.jsx("span",{className:"text-[15px] text-[#050505] font-semibold opacity-[0.85]",children:"Chỉnh sửa ngày"})]}),e.jsx("hr",{className:"border-gray-300 mx-2 border my-2"}),e.jsxs("button",{className:"flex gap-3 w-[328px] h-[36px] rounded p-2 hover:bg-[#f6f6f6] ",children:[e.jsx("div",{style:{backgroundImage:`url(${fe})`},className:"bg-[length:22px_484px] bg-[0px_-22px] h-5 w-5 opacity-[0.85]"}),e.jsx("span",{className:"text-[15px] text-[#050505] font-semibold opacity-[0.85]",children:"Chuyển vào kho lưu trữ"})]}),e.jsxs("button",{className:"flex gap-3 w-[328px] h-[46px] rounded p-2 hover:bg-[#f6f6f6] ",children:[e.jsx("div",{style:{backgroundImage:`url(${pe})`},className:"bg-[length:22px_776px] bg-[0px_-660px] h-5 w-5 opacity-[0.85]"}),e.jsxs("div",{className:"flex flex-col flex-1 items-start -mt-1",children:[e.jsx("span",{className:"text-[15px] text-[#050505] font-semibold opacity-[0.85] ",children:"Chuyển vào thùng rác"}),e.jsx("span",{className:"text-[12px] text-[#65676b] opacity-[0.85]",children:"Các mục trong thùng rác sẽ bị xóa sau 30 ngày."})]})]})]}):e.jsx("div",{className:"h-[60px] w-[344px] flex justify-center items-center",children:e.jsx(i.Spinner,{className:"h-6 w-6"})})})}const wa="post/create",Ca="post/update",ka="post/get",qe={createPost:t=>I.post(wa,t,{headers:{"Content-Type":"multipart/form-data"}}),updatePost:(t,s)=>I.patch(`${Ca}/${s}`,t,{headers:{"Content-Type":"multipart/form-data"}}),getPost:(t=-1,s=0,r)=>I.get(`${ka}?page=${t}&size=${s}`,{signal:r})},Ea="data:image/png;base64,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",Sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAACB1BMVEVMaXFFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJFvWJjRHFZAAAArHRSTlMAHfu8/v3z8rv83FACHvCPAcP2AygZTBMfFwXrVdWpKwSD5zWZO3+59HEPG0rBMqRO1K0J4toMZNDmcCNsepbxnU0WaPir08YYwDinZr2GpcKyfKgu6mI5kwab0r9CFezOUfW2umV1N3RAP5VWr1IpnCXYnu4HaqpL5UeUJhHjiQiYeTNckQpgdqONeM/Me1m+J9sa78WwQ8lXs+AhNoEtREmMW8ihh4XoWNZuaCkU8QAAAhRJREFUeF6VzlOPZG0AAOGaxnT32LZtrG3btr2fbds260du3pvpk8lJNvtc1lXx5Gq3jQ0fJU7NYPn2E6MN0Dhl8ODeno3X+9bf6r07RBB0GlhH02ZXV36wNGHehpkPx1uACQPdwq8WnQIq6m9fu7Gis+fm5qKMwf4SzhvYDL+5kkWmG35cf9pDTBrYCtv9nRgtJjlj4FbY6S/EqLGVfgM3wiYPQGk2ky0g6rB/MG7gKjhoIyTVC0QVu5dyA3+iJJ2qhkI1Q9QOj7HSwBWssxnIqlmi9vk3Fw38lp+dBEqThYuejvg/xQae5Gs/IU6b/9Jr4AE+dj9RlI62fgqc8CQvGFjLMt8kqrtLP6uH/2znRQOb2OVHRJw9p7rnKKc9RUVC9QtY4zx5V9IG/tmRypVAl+osfOcEMLL7MtDRYxD85T/AcdUv4Ru30fFyyrIaWOaClMeBnapfwff+8HmlalE97YXmZYE21WNQ5dqDBm5toti83cDzqruYc0PaQL1DScYF5UCf6iDLjfS9bea9Dzyl+gaHLTNOzkNAi+pzFFtonCrrgKuqY+wwZ5wBu4F21QL2Ga/KBmCd6iscMV7OaaA6pcKrxjNDMKMO8Vr8kxYRrFHXUjtgvCTBcLMuqeaZ1QamE2nzMl4iYPnTz75UB43zq6YqZ8uMyKXcNEeMhwWvj7z9znvv9i9ZmjBzfwuPUfEWAY8ASZayE5azcpcAAAAASUVORK5CYII=",Fa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAABCFBMVEVMaXEYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IYd/IE8dEKAAAAV3RSTlMA+crh6NBa/g7H8Oth3BX8GZ4McGWn9iyiyzQuBKkSOvf7Fj1qAtXuTsagcwHB6bj6s+VYtPP44ufs0teZYMzWFzvg6pe7jNm6i8hLk6x4SbW/xFxraU/hwnCeAAABO0lEQVR4Xr3RxZaDQBCG0SIBGohnou7uMu7uLvX+bzLkkFDdJ/RiNvOt7/kXVfDX4v3haDIa9uMgr66ik1qXmlwF11VyEtM8ROq06Y06yFzDsGODH9XmC4NHMeSL2Uj16T5Ek1ctAbVshDroKKq2gNpLtFwSVVVA1SVal3RRQEABGy3WyO+irICyNjLMFUq46EZA90BqC9zSwp3S4CjHUEWkiuBkJP0J4CuFVlsMQyWQFe2iUzcK8gbz6UyZTecD+IfC372xpk5Ubdxr1DxFIXgXQSpyHSxsmLyGyJBiiFoexMoWbmadC6Z2iV4FzniUQe8yQIUV5mmYEiZ0jLKChK6k6IiQKUUPhC6kyE8oJUUpQrdSdECoQS/hY8h0oD419Cjy/ghC0deX2NvJ7v62wnasvdDH89NXOU7gF2cPw8Bza4bHAAAAAElFTkSuQmCC",Ra="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAABaFBMVEVMaXH3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uSj3uShTABb6AAAAd3RSTlMALNfBAhng/P4By/S9OwzVFQO3+vkUpCW6vw4ahbRHsZVw9tpBMmLO6a9vhwVNQtyEBprDhpyhIfswNYPy0H2QIBNXRf1dSjTKzwtnruVpxz93gGDAD76f8VkKTFDNs/epW8Lw8zneoEM4BEs6pnFuKLIn2OfmltlycHYAAAF2SURBVHhendRlTyNRFMfhP5QyQwu7hXqBtvguu1vc3dbd3d399/VJk5u53HQq4Xl3MpOZk2M66t6jB/fbH8ZH7mbupBXufC5JwIvsdqnGah4XsVG5OuYB/Bu3Rn8WLmdvDuU9gNmzsnSiBKS2ogrsrMWBSFr2nQlgcEmOaAaYSsjoOg0M1Ob53YO5GRNMA+MKcc6DBVVpxYczCvUDKKoqB30dCrcIG9Vne7CcVR2JdTiQ9AvKktTW3tkjw0abcFF6PAzbktQNJ2XYqJDC79dTuKSqU+D3yrBRH1zXf7it+l/SFbiq5/BE9XPSBYjpGYypgX64pr8QVQO9+3j618JLLf3OJj6ZxOEN2MTLmBK8xMXroAS2mBVcvFJQzKAtiuHo/GzbopJpsMbeYPHio2yD7ajo3VsCyS92VNyhaxvEiHxyhs4d368fRuLD778VTTgJFFtZhCYrNWRXqulyNl9z92D45mD8dg5G89NTOc4Rs+fwT8g5PAS1Frj7VEnYtwAAAABJRU5ErkJggg==",Ba="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAA8FBMVEVMaXH1Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz31Uz2l46ByAAAAT3RSTlMA8UDUGQfjAk3C+IX0/ftq8HT6Nupz+X2huqBI7Nx+DJLF6UcYnkHmhMdLLNEN9Tscy0rv0DCX/pxjRMoGz5E0FT4fYvIu01L3Vzg94i0OAZSrQAAAARNJREFUeF6F0OV2wzAMgFGF3TQpd4UVYczMzOj3f5ud7dRy7Ehn3+9r2RZkC6ajcT9J+uPRNAC64cCRmDMYUkZMpNFE5E01lVZp1TZNSdQ0jVuiUMk1vhVKsjAAXVkylbWJQg59RojqGhSE74uCVnVELTSrfyejIqIWog7OmU+PcFYHkacQLlko5CFqKOQr5CvUQFTjUQ1Rj7+uh8jjH/6MqC1VRXsFXURn/DIfEH1vS6ZkC7A2h5ZA98GhHch0QZs1yPZ+Qpn0Boy6FDoFs5mTNwe3YPWWRy+Q69g215AvuDLN3iUQ3a9kTbgLZEeP2lQ2gOl8QZl4GdjW5ypeBD7Yj3/NKxo615Gycgf/9LR5+GWDH1W5vaIuoKkKAAAAAElFTkSuQmCC",za="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAA/1BMVEVMaXEqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6cqu6fen57aAAAAVHRSTlMA07dfDAH6BnoQvc6568/xp7rRl2L2bSIN9Zb93glMmB9rV09gMfQEVhzF3whJy+j+KdAdIPD75tzI0mWLjOfdybtebM1YWhvymW/4WfNyKLjKZGNBJd/xAAABWElEQVR42pWU13LCMBBFrwHbYFNMDxBqSEghjd4hvff9/2+JHYFwMoo1nIcdPZyRdu96jE1of04sYzga9Lua1u0PRkPDmo47cKHWT0hIy8+d0AX9SzzEnGKCPFCYlSdP4rApkYRLAIpMugayJKWCjFyq4oEdwvsHzbfnn7iCgaBddDjo9pGS8JFNbAeMVyLSoTuFsUVEPkTtureLJY0nIgBOWd9k4siuTvipw5dEqvlIa4lWbCNCFFWBJDFEUgRpogxwTB5SDhrROfAukHhPGs6IAsApEZ+eSa7pCi6JTS+4qbB8zsdfEvSk8cY9pByPwEOKuMK8j94CDWGY5q+1oCaQzD8LvknzBetc8qHMPxX9rmbwsJyyoowqSblCRS5lAVPmKAD8MqkEQA17O3k4hBQvJ1EEs8LyHwag+lti5aOuwkVnPLWMhTKfxXq92GyuLAxr8tXGBnwDwEQQjbEffd0AAAAASUVORK5CYII=",Ta="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAC3CAMAAACffAYfAAAC/VBMVEVHcEz///9gZ3BgZ3AAAAAAAAAAAQAAAAAAAAADBASTYPcAAAAAAAAAAAAQERIAAABKTlUAAABKTlVeZW4AAAABBQIAAAAAAAAAAAD///9KTlVKTlVKTlUAAABKTlUAAAAAAACTYPcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACTYPcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+TYPeTYPc0Y0IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACTYPf///8UijH///8AAAAAAAAAAAAAAACTYPcAAAAAAABKTlUAAAAAAACTYPeTYPccsEEhskVT1nU1w1mTYPdKTlUAAABKTlVKTlUAAABKTlX///+TYPeTYPeTYPeTYPdQ13IxaUBS03E3v1oOOxgYgDIenD1Z3noXnzk4wVoZsD+TYPcAAAD///9KTlVKTlVKTlVKTlVKTlVKTlVKTlWTYPc/olo4kk5R2HNCq11DtV8WYyo+wF8bqT4kqkYXpToXnDgQTB0wwVMAAACTYPf///+TYPf///////////////////////9DwmJUz3JH0mpU2nZW1HYWey4vqU5Ov2gsrk1HzWgVizJb4H1a3Ho1xliTYPeTYPf///+TYPdKTlWTYPeTYPeTYPf///////////9DymU0pFBHzWgkukpKTlVKTlU6yV7///8rv09KTlX///////8AAACTYPf///9L1W1gZ3BJ1Gs9zWE6y14ct0NO13BBz2X09vgatkElvEs3yFsju0khukgpv08guUYuw1NKTlUmvUwovk1V3HY8y2A0xlgxxVZR2XMrwVBP2HJE0Wc1x1pD0Gfz9fc/zmNG0mkeuEVH02pY3nk5yV39/v5N1m9BzmQwxFVT2nQtwVI4yVxW3Hj2+PlT23VZ3nv7/PzQ79rj8er4+fvd9eRX1HZ22Y/v+fPo8e6E2puT4aer4rrC6c9q04VLzmya4a6A35jU8dxl0YGh37ON26LC7843/B+MAAAAtnRSTlMA/eeJBg4SAgQI/QoQFgoMgRn8BiAchLGbVMNUDFbA/Sn34aM4a2/n8Ma4+NDr9IyVXiTC6tzAu8EXrMq8QHR5T0pEMqpKZ7bU2H1kmpA9nRRZ4jrPurHSzvLt5XuoR/sORHjz1CCgqSZUduCbvN9bHuNZzE41KbnZfCwn6zRGOI2fjKmQMOYiEui5u3rZKQhCdX7r94xEZz6B+1/zxfQwQjWzZh7ViRChncNIue+Lh/da9WpqZg4RvnYAAAh3SURBVHhe3JbrUiJHFIDzY6aXrhlqiip4GF+AJwB8AYP3fQDXXa/r/+jebw+QS1Uq/yhRmQ0bllpRogheuCjqKAje77ubyulODz3TYSTJz3yeok/3+HFO91BT883/g3uU/yABLhdL/oXnkiSMFQBjSSL+P/QkrDycDL3tffOm923o6QsFM7m1N/C0dx/I7+ch9vd7wy+w1EqFPvG34Xx+N88BNx96iFlZ54LK5JNdRmo3BcHGcJtQVigotYVSqb3UHkSKYc47HpCyjuJAR7lc3ivvQZQZjfngI6I6iA8Gf7+DJw4qabVjeW55DmK5OYMDzVQ4HC0014KONrizf+9V+a5UKkVKEYgSx7YWCWu0qNjrVKQlJXpfxZLD04zDasW4mW7Oj7IkmHCurzb+YrpeLBbrGw48UqCosMs1xlmRcJTJrGXWIOjI6WQ75SXl7zPZTJZwWylWKsU/sjDNNIAJBIxTqu14ye88G4M/8nFcoRzGrLBrwA+kXWuzz2OxzdgmgZk3dA4f1hEY1ugZ8WaHV02qlRqI9exqdDUKsWqOjH5ZctnMzqjJdaVWqx0fRh1oV7HVxGr/gslVDsyLBc7MwgyEmU8gu4naZxpc14DLGQd+RvyI7lGzUNgp7EAUCgu3hmEcXEHO1wCSA+9Esz/OOTwGtboZb0q7G9tMtXOFsriyCHGkG7pRvaIrhbOj+Aon3o8E8+WilTPD0PWTI5KeG3r9tLCYNi91UpOfkNydtnGd0/WcfvE5faqT5OA0zdh6qQpm17v0VnqL8zUH6LkD8GjCrqW3hmTbXZEUdzBp5/IgZ6HKVrfb3TYTHtDo+bZJcjsJsV04t5hf2XpyFCmS1YR2fRNLAolXX8y650m29stjtk2+Uc3dk1hKWIHpUvLzl+rJycVl49Ioa9a6UTQ0z0jMJyDYxL420aVCs6LZ86kJ85/mIRrTHloSTNsRBX9tyYiHlbSbP31oRdCHhJKkW+3Zby34EOiCXs2S3JRHP7YgCCLpVTTVwPrs+izEuhW+9nHcC5vEXORPTdDuINDtc4sie2q+fk+ZDfS99gfeC9z3ez1umYmCqY2QfxjxP/Z6fV5vd999i9bXDR6iYhNTCY6B5fN53IDH4/MO+cf7xsbGe/zPvD7iaeLrFP/FI1AQUlVZllWEiE3xgIZkGWOX0zuCosmApikA5KqKGKoMffKCogkqJkgMjMGmKFRzcVEwQTVhKdgUiWncE1URF4No3HN2m3/Tn+3V2U4bSRQG4DPgYHCYEEhkm8U7Nl7xDsQ2Bi8IG0iCyQ0kBBLQXLMlLE+QfXmDrMvMzYxGM1NG8wj9VENV+ZhSd6kdcTFSJP9CnGb5VKe6T5fhu9NOO+20c62zo6PzmuSiZTr/PUun5KJlOijokFxcXF6824vfof8v7bTTTjtGX8XvzlqsZl9t2vmzEVqnf8GSdWcAokSMI1XJmft1oTNFgQ8uOYgmYwk9aSG52dHr3VAkklj0ZMrRy2pcJsf0pD/Ea14mU3oyTS6xGpXJip4MkCeseprAHWrKpP4dGmU1iPAm7PpR3teTVjLLahjlKEAW5U09aSaLrI6hvA6QRjmjJ32NP4dQ9gCMo1zUkzXeUi9F1tFCPA9gqOJGZ/VkkXhoSVBpAExPwsP3rJMSCdJyi8oinGeX71kn/SRMi41KRzhotQF0JfrAuEDlZT1p4MPpbT4Idj3OdjoO0HpwzShnhOs0QOvBtaKMC9cBfRkgCTqEgkwKr2frwQ2grBZnCMYK0Hpw00QSM0DrwR2XSS9A68G9K5M2fVkjMXw91bmlLxPEnwBwShZ19IF+Muzdvx4NpFWbjUKL9MVSoQVg6dktFRZnbnpy4bFQOm8UQDs7zyOR5zsXgEt1U/3sa0kF+kuFGnR53OmAxWr22qady2r4vt7Ie9HtZtkxHwxl6GNy8OlwRw2i/Gji0PQR4M7kyuQdJoP+fKHUu4yvTJdz2uY1W0hMlCv1hlyBO6apkykTo+Psf0qqU/f+XVG6sFsXTE4BwNQkNX52hhdUp250XJRfUH6BlRMAOFmhpnqfgrjq1PW4RbmE+1wS10zmKMg3Tt3RxtLBgCg/N9p1fW7skz2eTEXsLhDkNWwBMTsu+jxdO8Dv7VL9KwDEUmJ3bg+vY6pz7V05Eim/A8zXVQBYcBhpd1kuQlFeHWZoGS9ZbnSX9VeTJJmPF7uhi/hay1nibHRXi2WyJMQ+ip3iufZga3W7zrK9uvXgXN4i06w7/OHyk5KBVsA8jNBx5zHVIw+Fs80Gze5sxIm1CU3coTU1aS89qp2k1jiWu3Dz2GoEIcpIs+GQGZrd2SocmB14sG3VNdlC6bby7sRYU3i1alJD0yrKsIV3J8YSRrmtXXObKhzRGdIDYgI5lHVJzjszgI3kDahwCHlcWuhCWSDJojFHyN1qMhNbWJwdfdIbPx+hsnafZcB43e7l7sJCLJOs4idWpQ/l07JqVVf5KcjS3V8qxn02A/zoGdzcHAR5hgcGhnXgT2dBqoZDQ0il8PQUqQaOjCCVQ6RaCIBUCpHKIFI5RCqFcjrHIdI5AW5wiHRDJV9wg3khyCPlwH6bw9v2A+VIJd/OT7xC9mpi/q245pH9WLlC4Q3l2H60AZrMoZwDdR4pj2l5rDwCWV6jfK2Rh8o+LfvKoVS+QflGI3uUdVrWlR6Q5hmHz0Cbe+wW3b4H8kzwUZiQSPsQfpfmt00KN39VKVwNV5bkJe/2pUSuKyMA1+hupRnk8k+JHFYO8Q7L8oHLD2qGT3KDPlVpvvG37JtEjgwc2+3HA1c0Zn6elX8mzvI3/oZn+AYrn+xn+YuBX8RBOj1lRfabAc1d+WPt+6RyVS1/F+XeqSZ7DbB2cFWVA3GS5jR0D1+YT2uKKmv78EPmPwGJ6FiJliuBAAAAAElFTkSuQmCC",xt="/assets/facbook_icon_11-1e6f89ea.png";function Ia({previewImage:t}){const[s,r]=o.useState([]);async function a(l){return new Promise((c,d)=>{const m=new Image;m.onload=()=>c(m),m.onerror=d,m.src=l})}async function n(){const l=[];for(let c=0;c<t.length&&c<5;c++)try{const d=await a(t[c]);l.push(d.height/d.width)}catch(d){console.error("Error loading image:",d)}return l}switch(o.useEffect(()=>{n().then(c=>r(c))},[t]),t.length){case 1:return e.jsx("img",{src:t[0],alt:t[0],className:"rounded-lg mb-1 w-[450px] last:mb-0"});case 2:return s[0]>.75||s[1]>.75?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("img",{src:t[0],className:"flex-1 h-[280px] rounded-l-lg  mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[1],className:"w-[223px] h-[280px] rounded-r-lg mb-1 object-cover last:mb-0"})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{children:e.jsx("img",{src:t[0],className:" w-[450px] rounded-t-lg  mb-1 object-cover last:mb-0"})}),e.jsx("div",{className:"",children:e.jsx("img",{src:t[1],className:"w-[450px] rounded-b-lg mb-1 object-cover last:mb-0"})})]})});case 3:return s[0]>.7&&s[1]>.7||s[0]>.7&&s[2]>.7?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{children:e.jsx("img",{src:t[0],className:"w-[450px] max-h-[400px] rounded-t-lg mb-1 object-cover last:mb-0"})}),e.jsxs("div",{className:"grid gap-1",style:{gridTemplateRows:"repeat(2, 1fr)"},children:[e.jsx("img",{src:t[1],className:"w-full h-[200px] rounded-tr-lg  object-cover last:mb-0"}),e.jsx("img",{src:t[2],className:"w-full h-[200px] rounded-br-lg  object-cover last:mb-0"})]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{children:e.jsx("img",{src:t[0],className:"w-[450px] max-h-[300px] rounded-t-lg mb-1 object-cover last:mb-0"})}),e.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[e.jsx("img",{src:t[1],className:"h-[250px] rounded-bl-lg mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[2],className:"w-full h-[250px] rounded-br-lg mb-1 object-cover last:mb-0"})]})]})});case 4:return s[0]>.7?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{children:e.jsx("img",{src:t[0],className:"max-w-[290px] rounded-l-lg mb-1 object-cover last:mb-0"})}),e.jsxs("div",{className:"grid gap-1",style:{gridTemplateRows:"repeat(3, 1fr)"},children:[e.jsx("img",{src:t[1],className:"w-full min-h-[150px] max-h-[160px] rounded-tr-lg mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[2],className:"w-full min-h-[150px] max-h-[160px] rounded-none mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[3],className:"w-full min-h-[150px] max-h-[160px] rounded-br-lg mb-1 object-cover last:mb-0"})]})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{children:e.jsx("img",{src:t[0],className:"w-full rounded-t-lg mb-1 object-cover last:mb-0"})}),e.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:"repeat(3, 1fr)"},children:[e.jsx("img",{src:t[1],className:"h-[150px] rounded-bl-lg mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[2],className:"h-[150px] rounded-none mb-1 object-cover last:mb-0"}),e.jsx("img",{src:t[3],className:"w-full h-[150px] rounded-br-lg mb-1 object-cover last:mb-0"})]})]})});default:return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{children:[e.jsx("img",{src:t[0],className:"w-full h-[230px] rounded-tl-lg mb-1 object-cover"}),e.jsx("img",{src:t[1],className:"h-[230px] rounded-bl-lg mb-1 object-cover last:mb-0"})]}),e.jsxs("div",{className:"grid gap-1",style:{gridTemplateRows:"repeat(3, 1fr)"},children:[e.jsx("img",{src:t[2],className:"h-full rounded-tr-lg mb-1 object-cover"}),e.jsx("img",{src:t[3],className:"h-full mb-1 object-cover"}),e.jsx("img",{src:t[4],className:`h-full rounded-br-lg mb-1 object-cover ${t.length>5?"brightness-75":""}`}),e.jsx("span",{className:`text-4xl text-white absolute mt-[370px] ml-[80px] ${t.length>5?"":"hidden"}`,children:"+"+(t.length-4)})]})]})})}}function Pa({openAddImage:t,selectedImage:s,setSelectedImage:r,previewImage:a,setPreviewImage:n,fileInputRef:l,handleCloseSelectImage:c,setOpenEditImage:d}){const[m,h]=o.useState(s),u=p=>{const g=p.target.files,j=[];if(g&&g.length>0){const v=wt(s,g);for(let C=0;C<g.length;C++){const y=g[C];j.push(URL.createObjectURL(y))}n(a.concat(j)),h(v)}};return o.useEffect(()=>{r(m)},[a]),e.jsxs("div",{className:`border border-gray-300 p-2 rounded-lg mt-6 ${t?"":"hidden"}`,children:[e.jsx("div",{className:"absolute ml-[413px] mt-2 border border-gray-300 rounded-full z-10",children:e.jsx(i.IconButton,{color:"blue-gray",className:"h-[30px] w-[30px] bg-white rounded-full hover:bg-[#f2f2f2]",variant:"text",onClick:c,children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-142px_-132px] h-4 w-4 opacity-60"})})}),a.length>0?e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>d(!0),disabled:a.length===1,className:`bg-white absolute rounded-md px-[10px] py-[6px] flex gap-1 items-center justify-center mt-2 ml-2 ${a.length===1?"hidden":""} hover:bg-gray-200`,children:[e.jsx("div",{className:"bg-[length:26px_606px] bg-[0px_-488px] h-4 w-4",style:{backgroundImage:`url(${xt})`}}),e.jsx("span",{className:"text-[15px] leading-5 text-[#050505] font-semibold",children:"Chỉnh sửa"})]}),e.jsxs("div",{className:"group",children:[e.jsxs("button",{className:`bg-white absolute rounded-md px-[10px] py-[6px] flex gap-1 items-center justify-center mt-2 ${a.length===1?"ml-[10px]":"ml-[130px]"} group-hover:bg-gray-200`,children:[e.jsx("div",{className:"bg-[length:26px_606px] bg-[0px_-506px] h-4 w-4",style:{backgroundImage:`url(${xt})`}}),e.jsx("span",{className:"text-[15px] leading-5 text-[#050505] font-semibold",children:"Thêm ảnh/video"})]}),e.jsx("input",{ref:l,type:"file",title:"",accept:"image/*, video/*",onChange:u,className:`w-[154px] h-[32px] opacity-0 absolute mt-2 ${a.length===1?"ml-[10px]":"ml-[130px]"} cursor-pointer rounded-lg file:cursor-pointer`,multiple:!0})]}),e.jsx(Ia,{previewImage:a})]}):e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"w-[450px] h-[183px] absolute cursor-pointer flex flex-col justify-center items-center gap-1 bg-[#f7f8fa] rounded-lg group-hover:bg-[#eaebed]",children:[e.jsx("div",{className:"p-[10px] rounded-full bg-[#e4e6eb] group-hover:bg-[#d8dadf]",children:e.jsx("div",{className:"bg-[length:38px_122px] bg-[0px_-64px] h-5 w-5",style:{backgroundImage:`url(${Ta})`}})}),e.jsx("span",{className:"text-[#050505] text-[17px] leading-5 font-normal",children:"Thêm ảnh/video"}),e.jsx("span",{className:"text-[#65676b] text-[12px] leading-4 font-normal",children:"hoặc Kéo và thả"})]}),e.jsx("input",{ref:l,type:"file",title:"",accept:"image/*, video/*",onChange:u,className:"w-[450px] h-[183px] opacity-0 cursor-pointer rounded-lg file:cursor-pointer",multiple:!0})]})]})}const Wa="post-image/delete",Ma={deletePostImage:t=>I.patch(`${Wa}/${t}`)};function Rt({type:t,post:s,setCurPost:r,handleOpen:a,content:n,setContent:l,userAccount:c,setOpenPrivacy:d,setOpenEditImage:m,privacyPost:h,isStartAnimationClosePrivacyDialog:u,setIsStartAnimationClosePrivacyDialog:p,selectedImage:g,setSelectedImage:j,previewImage:v,setPreviewImage:C,openAddImage:y,setOpenAddImage:N,refetch:R}){const[A,f]=o.useState(!1),[x,b]=o.useState(!1),[w,S]=o.useState(!1),[z,P]=o.useState(!1),[J,Y]=o.useState(!1),G=o.useRef(null),q=o.useRef(null),E=o.useRef(null),F=o.useRef(null),O=Q({mutationFn:k=>qe.createPost(k),onSuccess:()=>{a(),l(""),Ae(),R&&R()},onError:k=>console.log(k)}),K=Q({mutationFn:k=>Ma.deletePostImage(k),onError:k=>console.log(k)}),V=Q({mutationFn:k=>qe.updatePost(k,s==null?void 0:s.id),onSuccess:k=>{a(),r&&r(k.data)},onError:k=>console.log(k)}),le=k=>{l(n+k.native)},ue=()=>{A&&!x&&f(!1)},oe=()=>{f(k=>!k),b(!0)},X=()=>Y(!J),Fe=()=>{const k=new FormData;if(k.append("content",Le(n)),g){k.append("typePost","image");for(let W=0;W<g.length;W++)k.append("files",g[W])}else k.append("typePost","text");k.append("privacy",h.value),O.mutate(k)},Re=()=>{const k=new FormData;if(k.append("content",Le(n)),v.length>0?k.append("typePost","image"):k.append("typePost","text"),g)for(let U=0;U<g.length;U++)k.append("files",g[U]);k.append("privacy",h.value);const W=s==null?void 0:s.image.map(U=>U.url),T=nt.difference(W,v);if(T.length>0){const U=T.map(ae=>{const de=s==null?void 0:s.image.find(Pt=>Pt.url===ae);return de?K.mutateAsync(de.id):Promise.resolve()});Promise.all(U).then(()=>{V.mutate(k)}).catch(ae=>{console.error("Error deleting images:",ae)})}else V.mutate(k)},Be=()=>{S(!0)},Ae=()=>{if(j(null),C([]),N(!1),F.current){const k=F.current;k.value=""}};return o.useEffect(()=>{G.current&&G.current.addEventListener("animationend",W=>{W.animationName==="slide-out-left-post"&&d(!0),W.animationName==="slide-in-left-post"&&p(!1)})},[u]),o.useEffect(()=>{if(q.current&&E.current){const k=q.current,W=E.current;y?k.style.height="20px":k.style.height="103px",k.style.height=k.scrollHeight+"px",W.scrollHeight+3>=331?(W.classList.remove("px-4"),W.classList.add("pl-4","pr-1")):(W.classList.remove("pl-4","pr-1"),W.classList.add("px-4"))}},[n,y,g]),o.useEffect(()=>{if(t==="edit"&&s){const k=s.image.map(W=>W.url);n!==s.content&&n!==""||!nt.isEqual(v,k)||h.value!==s.privacy?P(!0):P(!1),n===""&&v.length===0&&P(!1)}else n!==""||v.length!==0?P(!0):P(!1);v.length===0&&N(!1)},[n,v]),e.jsxs("div",{ref:G,className:`${O.isLoading||V.isLoading?"pointer-events-none":""} w-[500px]`,children:[e.jsx(i.DialogHeader,{className:"bg-white rounded-t-md h-[132px] p-0 block",children:e.jsxs("div",{"data-animationsclose":w,"data-animationsopen":u,className:"data-[animationsclose=true]:animate-slide-out-left-post data-[animationsopen=true]:animate-slide-in-left-post",children:[e.jsxs("div",{className:"flex items-center h-[60px] border-b border-gray-300",children:[e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("span",{className:"text-[20px] text-[#050505] font-bold",children:t==="edit"?"Chỉnh sửa bài viết":"Tạo bài viết"})}),e.jsx("div",{className:"flex justify-end absolute w-full -ml-4",children:e.jsx(i.IconButton,{color:"blue-gray",className:"h-9 w-9 bg-[#e4e6eb] rounded-full hover:bg-[#d8dadf] px-4",variant:"text",onClick:t==="edit"&&z?X:a,children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-22px_-110px] h-5 w-5 opacity-60"})})})]}),e.jsx("div",{className:"flex justify-between items-center mx-4 py-[14px]",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(i.Avatar,{variant:"circular",size:"sm",alt:"avatar",className:"h-10 w-10 border-solid border-gray-400 border",src:c.avatar}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[#050505] text-[15px] font-semibold cursor-pointer",children:c.firstName+" "+c.lastName}),e.jsxs("button",{onClick:Be,className:"text-[#65676B] text-[13px] w-fit min-w-[89px] p-1 h-6 bg-[#e4e6eb] rounded-md flex justify-center items-center gap-1",children:[e.jsx("img",{src:h.icon,alt:"friend-logo",className:"h-3 w-3 text-[#65676B] inline ml-1"}),e.jsx("span",{className:"text-[#050505] text-[13px] font-semibold",children:h.title}),e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[0px_-172px] h-3 w-3"})]})]})]})})]})}),e.jsx(i.DialogBody,{className:"w-[500px] p-0 mt-1 max-h-[331px] overflow-y-auto custom-scrollbar-vip",children:e.jsx("div",{"data-animationsclose":w,"data-animationsopen":u,className:"data-[animationsclose=true]:animate-slide-out-left-post data-[animationsopen=true]:animate-slide-in-left-post",children:e.jsxs("div",{className:"p-0",ref:E,children:[y?e.jsxs("div",{className:"flex items-end",children:[e.jsx("textarea",{ref:q,className:`w-full h-min-[32px] overflow-x-clip text-[15px] leading-5 text-[#050505] resize-none active:outline-0
                   focus:outline-0 placeholder:text-[15px] placeholder:opacity-80 placeholder:text-[#65676b]`,placeholder:c.lastName+" ơi, bạn đang nghĩ gì thế?",value:n,onChange:k=>{l(k.target.value)}}),e.jsx("button",{onMouseLeave:()=>b(!1),onClick:oe,className:"h-6 w-6 flex justify-end items-center",children:e.jsx("div",{style:{backgroundImage:`url(${He})`},className:`bg-[length:38px_486px] bg-[0px_-76px] ${A?"":"opacity-70"} h-6 w-6 hover:opacity-100`})})]}):e.jsx("textarea",{ref:q,className:`w-full overflow-clip min-h-[100px] ${n.length>100?"text-[15px] leading-5":"text-2xl"} text-[#050505] resize-none active:outline-0 focus:outline-0 placeholder:text-2xl placeholder:text-[#65676b]`,placeholder:c.lastName+" ơi, bạn đang nghĩ gì thế?",value:n,onChange:k=>{l(k.target.value)}}),e.jsxs("div",{className:`flex justify-between items-center mt-1 ${y?"hidden":""}`,children:[e.jsx("button",{children:e.jsx("img",{src:Ea,alt:"friend-logo",className:"h-[38px] w-[38px]"})}),e.jsx("button",{onMouseLeave:()=>b(!1),onClick:oe,className:"h-9 w-9 flex justify-end items-center",children:e.jsx("div",{style:{backgroundImage:`url(${He})`},className:`bg-[length:38px_486px] bg-[0px_-76px] ${A?"":"opacity-70"} h-6 w-6 hover:opacity-100`})})]}),y?e.jsx(Pa,{openAddImage:y,selectedImage:g,setSelectedImage:j,previewImage:v,setPreviewImage:C,fileInputRef:F,handleCloseSelectImage:Ae,setOpenEditImage:m}):null]})})}),e.jsx(i.DialogFooter,{className:"p-4 justify-center",children:e.jsxs("div",{"data-animationsclose":w,"data-animationsopen":u,className:"w-full data-[animationsclose=true]:animate-slide-out-left-post data-[animationsopen=true]:animate-slide-in-left-post",children:[e.jsxs("div",{className:"h-[58px] w-full flex justify-between items-center rounded-lg border border-gray-500 shadow p-4 mb-4",children:[e.jsx("span",{className:"text-[#050505] text-[15px] font-semibold",children:"Thêm vào bài viết của bạn"}),e.jsxs("div",{className:"flex justify-center items-center ",children:[e.jsx("button",{className:`h-9 w-9 rounded-full hover:bg-[#f2f2f2] flex items-center justify-center ${y?"bg-[#f2f2f2]":""}`,onClick:()=>N(!0),children:e.jsx("img",{src:Sa,className:"h-6 w-6"})}),e.jsx("button",{className:"h-9 w-9 rounded-full hover:bg-[#f2f2f2] flex items-center justify-center",children:e.jsx("img",{src:Fa,className:"h-6 w-6"})}),e.jsx("button",{className:"h-9 w-9 rounded-full hover:bg-[#f2f2f2] flex items-center justify-center",children:e.jsx("img",{src:Ra,className:"h-6 w-6"})}),e.jsx("button",{className:"h-9 w-9 rounded-full hover:bg-[#f2f2f2] flex items-center justify-center",children:e.jsx("img",{src:Ba,className:"h-6 w-6"})}),e.jsx("button",{className:"h-9 w-9 rounded-full hover:bg-[#f2f2f2] flex items-center justify-center",children:e.jsx("img",{src:za,className:"h-6 w-6"})}),e.jsx("button",{className:"hover:bg-[#f2f2f2] h-8 w-8 rounded-full flex justify-center items-center",children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-44px_-110px] h-5 w-5"})})]})]}),e.jsxs("button",{onClick:t==="edit"?Re:Fe,disabled:!z,className:"flex gap-2 justify-center items-center py-2 rounded-md bg-[#0866ff] w-full disabled:bg-[#e4e6eb] disabled:cursor-not-allowed",children:[e.jsxs("svg",{className:`animate-spin h-5 w-5 text-white ${t==="create"?O.isLoading?"":"hidden":V.isLoading||K.isLoading?"":"hidden"}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-50",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-100",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:`text-[15px] leading-5 font-semibold ${z?"text-white":"text-[#bcc0c4]"}`,children:t==="create"?O.isLoading?"Đang đăng...":"Đăng":V.isLoading||K.isLoading?"Đang lưu...":"Lưu"})]})]})}),e.jsx("div",{className:`${A?"":"hidden"} absolute ml-[510px] -mt-[520px]`,children:e.jsx(Ge,{onClickOutside:()=>ue(),theme:"light",locale:"vi",showReview:!0,set:"facebook",previewPosition:"none",onEmojiSelect:le})}),e.jsxs(i.Dialog,{dismiss:{enabled:!1},open:J,handler:X,size:"xs",className:"w-[550px]",children:[e.jsx(i.DialogHeader,{className:"bg-white rounded-t-md p-0 block",children:e.jsxs("div",{className:"flex items-center h-[60px] border-b border-gray-300",children:[e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("span",{className:"text-[20px] text-[#050505] font-bold",children:"Thay đổi chưa lưu"})}),e.jsx("div",{className:"flex justify-end absolute w-full -ml-4",children:e.jsx(i.IconButton,{color:"blue-gray",className:"h-9 w-9 bg-[#e4e6eb] rounded-full hover:bg-[#d8dadf] px-4",variant:"text",onClick:X,children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-22px_-110px] h-5 w-5 opacity-60"})})})]})}),e.jsx(i.DialogBody,{className:"p-0 px-4 py-3",children:e.jsx("span",{className:"text-[15px] leading-5 text-[#050505]",children:"Hệ thống sẽ không lưu các thay đổi của bạn."})}),e.jsxs(i.DialogFooter,{className:"gap-2",children:[e.jsx("button",{onClick:X,className:"text-center text-[15px] py-[6px] text-[#0064d1] font-semibold w-[148px] rounded-md hover:bg-[#f2f2f2]",children:"Tiếp tục chỉnh sửa"}),e.jsx("button",{onClick:()=>{Y(!1),a()},className:"bg-[#0866ff] rounded-md py-[6px] text-center text-[15px] text-white font-semibold w-[98px] hover:brightness-90",children:"Bỏ"})]})]})]})}function Bt({type:t,openPrivacy:s,setOpenPrivacy:r,privacyPost:a,setPrivacyPost:n,userAccount:l,setIsStartAnimationClosePrivacyDialog:c}){const d=te(),[m]=o.useState(a),[h,u]=o.useState(!1),[p,g]=o.useState(!1),[j,v]=o.useState(s),C=o.useRef(null),y=Q({mutationFn:A=>Se.updatePrivacyDefault(A),onSuccess:A=>{const f=A.data;d(tt(f)),g(!0)},onError:A=>console.log(A)}),N=()=>{g(!0),n(m)},R=()=>{h?y.mutate({privacyDefault:a.value}):g(!0)};return o.useEffect(()=>{var A;if(v(!1),C.current){const f=C.current;(A=document.getElementById("tee"))!=null&&A.classList.contains("animate-slide-out-right-createpost")&&(r(!1),c(!0)),f.addEventListener("animationend",x=>{x.animationName==="slide-out-right-createpost"&&(r(!1),c(!0))})}},[p]),e.jsxs("div",{ref:C,className:"w-[500px] ",children:[e.jsx(i.DialogHeader,{className:"bg-white rounded-t-md h-[60px] border-b border-gray-300 p-4 block",children:e.jsxs("div",{"data-animationsopen":j,"data-animationsclose":p,className:`flex items-center data-[animationsopen=true]:animate-slide-in-right-post \r
          data-[animationsclose=true]:animate-slide-out-right-createpost`,children:[e.jsx("div",{className:"absolute w-full flex justify-start",children:e.jsx(i.IconButton,{color:"blue-gray",className:"h-9 w-9 bg-[#e4e6eb] rounded-full hover:bg-[#d8dadf] p-4",variant:"text",onClick:N,children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-78px_-62px] h-5 w-5 opacity-60"})})}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("span",{className:"text-[20px] text-[#050505] font-bold",children:"Đối tượng của bài viết"})})]})}),e.jsx(i.DialogBody,{className:"w-full max-h-[340px] h-auto p-0 privacy-scrollbar overflow-y-auto overflow-x-hidden",children:e.jsxs("div",{"data-animationsopen":j,"data-animationsclose":p,className:`data-[animationsopen=true]:animate-slide-in-right-post \r
          data-[animationsclose=true]:animate-slide-out-right-createpost`,children:[e.jsxs("div",{className:"flex flex-col gap-1 p-4 pb-2",children:[e.jsx("span",{className:"text-[#050505] text-[17px] font-semibold",children:"Ai có thể xem bài viết của bạn?"}),e.jsx("span",{className:"text-[#65676B] text-[14px] font-light",children:"Bài viết của bạn sẽ hiển thị ở Bảng feed, trang cá nhân và kết quả tìm kiếm."}),e.jsxs("span",{className:"text-[#65676B] text-[14px] font-light",children:["Tuy đối tượng mặc định là ",e.jsx("span",{className:"font-semibold",children:"Bạn bè"}),", nhưng bạn có thể thay đổi đối tượng của riêng bài viết này."]})]}),e.jsx("div",{className:"flex flex-col px-2",children:ce.map(A=>e.jsxs("label",{htmlFor:A.value+"-privacy",className:`flex gap-3 items-center cursor-pointer rounded-lg p-2 ${m.value===A.value?"bg-[#ebf5ff]":""} hover:bg-[#f2f2f2]`,children:[e.jsx("div",{className:"rounded-full bg-[#e4e6eb] p-[18px]",children:e.jsx("img",{src:A.icon,alt:A.value,className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center justify-between w-[381px]",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[#050505] text-[17px] font-semibold",children:A.title}),e.jsx("span",{className:"text-[#65676B] text-[14px] font-light",children:A.description})]}),e.jsx("input",{onChange:()=>n(A),className:"appearance-none privacy-radio-input",type:"radio",id:A.value+"-privacy",name:"privacy",value:A.value,checked:a.value===A.value}),a.value===A.value?e.jsx("i",{style:{backgroundImage:`url(${D})`},className:" bg-[length:190px_186px] bg-[-154px_-88px]  absolute cursor-pointer ml-[360px] h-5 w-5 rounded-full"}):e.jsx("i",{style:{backgroundImage:`url(${D})`},className:" bg-[length:190px_186px] bg-[0px_-110px]  absolute cursor-pointer ml-[360px] h-5 w-5 rounded-full"})]})]},A.value))})]})}),e.jsx(i.DialogFooter,{className:"mr-3 p-0 pl-2 pt-2 pb-4 border-t-2 block",children:e.jsxs("div",{"data-animationsopen":j,"data-animationsclose":p,className:`flex flex-col gap-4 data-[animationsopen=true]:animate-slide-in-right-post \r
          data-[animationsclose=true]:animate-slide-out-right-createpost`,children:[e.jsx("div",{className:`w-full flex justify-start items-center ${t==="edit"?"hidden":""} `,children:e.jsxs("label",{"data-disable":l.privacyDefault===a.value,htmlFor:"privacy-default",className:"w-fit flex gap-5 justify-start items-center data-[disable=true]:pointer-events-none",children:[e.jsx("input",{type:"checkbox",name:"privacy-default",id:"privacy-default",className:"opacity-0 peer/privacy",onChange:A=>u(A.target.checked)}),e.jsx("span",{"data-disable":l.privacyDefault===a.value,className:`absolute h-6 w-6 rounded border-2 border-gray-500 cursor-pointer peer-hover/privacy:shadow-[0px_0px_20px_5px_rgba(164,164,165,0.5)]
             peer-checked/privacy:bg-[#005fcc] peer-checked/privacy:border-none after:content-[''] after:hidden after:absolute peer-checked/privacy:after:inline
             after:w-[6px] after:h-[13px] after:border-r-[3px] after:border-b-[3px] after:left-[9px] after:top-[4px] after:border-solid after:border-white after:rotate-45
             data-[disable=true]:bg-[#bec3c9] data-[disable=true]:border-none data-[disable=true]:after:inline data-[disable=true]:cursor-not-allowed
             `}),e.jsx("span",{"data-disable":l.privacyDefault===a.value,className:"text-[#050505] text-[15px] font-semibold data-[disable=true]:text-[#bcc0c4]",children:"Đặt làm đối tượng mặc định."})]})}),e.jsxs("div",{className:"w-full flex gap-3 justify-end items-center",children:[e.jsx("button",{onClick:N,className:"text-[#0064D1] text-[15px] px-3 py-[5px] rounded-md hover:bg-[#f2f2f2]",children:"Hủy"}),e.jsx("button",{onClick:R,className:"bg-[#0866ff] px-10 py-[5px] text-white text-[15px] font-medium rounded-md hover:bg-[#0861f2]",children:h?"Lưu":"Xong"})]})]})})]})}function ge({url:t,width:s,height:r,handleRemoveImage:a,index:n}){return e.jsx("div",{style:{backgroundImage:`url(${t})`,backgroundSize:"cover",width:s,height:r,position:"relative",overflow:"hidden"},className:"w-full rounded-lg group",children:e.jsxs("div",{style:{width:"100%",height:"100%",backdropFilter:"blur(10px)"},className:"flex flex-col justify-center items-center",children:[e.jsx("div",{className:"absolute right-3 top-3 rounded-full z-10 hidden group-hover:block",children:e.jsx(i.IconButton,{color:"blue-gray",className:"h-[27px] w-[27px] bg-white rounded-full hover:bg-[#f2f2f2]",variant:"text",onClick:()=>a(n),children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-142px_-132px] h-4 w-4"})})}),e.jsx("img",{src:t,className:" h-[205px] object-cover"}),e.jsx("div",{className:"h-[130px] w-full bg-white rounded-b-lg p-2",children:e.jsxs("div",{className:"relative p-[2px]",children:[e.jsx("input",{name:"test",id:"test",type:"input",className:`peer w-full h-[82px] border leading-5 border-[#9b9b9b] text-[17px] text-[#050505] \r
        p-1 pl-4 bg-transparent transition-colors rounded-lg placeholder:text-transparent focus:pb-1\r
        focus:outline-none focus:shadow-custom`,placeholder:"Chú thích"}),e.jsx("label",{htmlFor:"test",className:`left-4 top-3 text-[12px] peer-placeholder-shown:text-[16px] peer-placeholder-shown:cursor-text peer-placeholder-shown:top-[15px]\r
        peer-placeholder-shown:left-4 absolute block duration-200 text-[#9b9b9b] peer-focus:absolute peer-focus:top-3 peer-focus:duration-200\r
        peer-focus:text-[12px] peer-focus:text-[#0866ff]`,children:"Chú thích"})]})})]})})}const Ja=({tempImage:t,setTempImage:s,previewImage:r,setPreviewImage:a})=>{const n=l=>{if(l>=0&&l<r.length){let c=r.filter((h,u)=>u!==l);a(c);const d=Array.from(t),m=new DataTransfer;d.filter((h,u)=>u!==l).forEach(h=>{m.items.add(h)}),s(m.files)}else console.error("Invalid index")};if(r.length===1)return e.jsx("div",{className:"w-full p-2 pr-0",children:e.jsx(ge,{url:r[0],width:"660px",height:"335px",index:0,handleRemoveImage:n})});if(r.length===2)return e.jsx("div",{className:"w-full p-2 pr-0",children:r.map((l,c)=>e.jsx("div",{className:"last:mt-2",children:e.jsx(ge,{url:l,width:"660px",height:"335px",index:c,handleRemoveImage:n})},c))});if(r.length<5&&r.length>2)return e.jsx("div",{className:"w-full grid grid-cols-2 grid-rows-2 gap-2 p-2 pr-0",children:r.map((l,c)=>e.jsx(ge,{url:l,width:"438px",height:"335px",index:c,handleRemoveImage:n},c))});if(r.length>=5)return e.jsx("div",{className:"w-full grid grid-cols-3 gap-2 p-2 pr-0",children:r.map((l,c)=>e.jsx(ge,{url:l,width:"397px",height:"335px",index:c,handleRemoveImage:n},c))})},Ua="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASCAYAAABfJS4tAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOESURBVDhPlZRbaBRnFMf/832TzW72Et3JXtKNcTWLtEUqglakllKlF2sLRRotQo1goQ8KPggWupFCS1pqam/USim2tiClL6XS+mAl1Ye2WBEVoYJUTDQx2dVsstlNMrszu7M958ukjUko6e/lmzlz5syZ/7lou4iPPzv21fmbk+gdtnCvWIG/XuCvH97c8/K+Q0fS32dw6XYJDR4NYb8Owy/RFJR06uqcthkBiebGOnz3aef+X3rO/Kx1d3e/76zs2H/ifB7LIx5ylNiQ8mPb2kbsPTGI47+NYiEIAbSG6/D65ih6jrzWLrPZbOZ38czu9kfD8uALUTy/KoQ1SR9Mu4YPzwzjzmjFffW/qdWA/KSDa0NlJCd+PSmuE3ZVE4mgY61KxY22lkj4ySce31B1ahguVt3XFs4wSakRIkwYIY9esHWPjxgl+omqA4xMzA2sSyDoFeqcj2hIxzghUkQkqGNkvApJuM9RrtRQKN0fWNOAR1p8+GTHA1iZ8LrW+4n6bHOEEEmCA+couxDhPkd2rAKHsp4JB36wuR7bqbBx6oD5MBpg1QixhIiGJP12BcsI9zkyBdu9AhY1SCSb6rCYziglUSw5KNmzvuqSMPz1HkIEAoFgLFSHSauGrve6P9AJdsgWprohQHp+vjOBC50p/Pn2Crz1Ygwhn0R6S1RJsu8pA7FG9YqiJeL3thGiUCiMxUlwziCWaEutINghQ1IwpuXg3PVxXOkvYZTk0qlfuXBrl/nwyvpFeOO5KNrXNCpfJk4fMQhxmuCbEvVtsexgMcEOQ/mpwNwdR8+O4OnDvVjXdQOnrhZxsc9Ex7EBvHT0Nl79egDf/pFXvkyMkjQJcYPgG864SF3APcgOMzWeRgqNxlhXf3Pplomea+P48UoROeqoaXisaeiyokiYuf6bdpXay/y3INMaz4Ziq33CBZwNjzX3seoKNmQG+/o8UlOBJwhlczWeScGsYteXA+j66e6cHmdCXol6XVPzoAJXbcvijcZSDBJsuztPxqx37z0Lt3L2nB5neIFxxCChArcuXdra4BHIU0bpdLqTbazl/4XXKNfBS6jAsYhhJJs8qhgPPbZ1x8aNmzYdeDaihoJ1WygPN3vh2OUy103bRgRplDsOfPQFa2fRjji+ewkitLgv04IfGrNV1XnkeTp54+X+OadsPFyrW714Z2scp795t1OXUv4N3GGMd5CVoswAAAAASUVORK5CYII=",La="/assets/null_states_media_gray_wash-a03a5bbd.svg",zt=({setOpenEditImage:t,curDialogRef:s,selectedImage:r,setSelectedImage:a,previewImage:n,setPreviewImage:l})=>{const[c,d]=o.useState(n.length===2?"w-[680px]":n.length>4?"w-[1220px]":"w-[900px]"),[m,h]=o.useState(r),u=()=>{t(!1)},p=g=>{const j=g.target.files,v=[];if(j&&j.length>0){const C=wt(r,j);for(let y=0;y<j.length;y++){const N=j[y];v.push(URL.createObjectURL(N))}l(n.concat(v)),h(C)}};return o.useEffect(()=>{n.length<=2&&n.length>0?d("w-[680px]"):n.length>4?d("w-[1220px]"):n.length===0?d("w-[500px]"):d("w-[900px]"),a(m)},[n,r]),e.jsxs("div",{className:`${c} animate-scale-in-hor-center`,ref:s,children:[e.jsx(i.DialogHeader,{className:"rounded-t-md h-[60px] border-b border-gray-300 p-4 block",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"absolute w-full flex justify-start",children:e.jsx(i.IconButton,{color:"blue-gray",className:"h-9 w-9 bg-[#e4e6eb] rounded-full hover:bg-[#d8dadf] p-4",variant:"text",onClick:u,children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-78px_-62px] h-5 w-5 opacity-60"})})}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("span",{className:"text-[20px] text-[#050505] font-bold",children:"Ảnh/Video"})})]})}),e.jsx(i.DialogBody,{className:"max-h-[525px] p-0 bg-[#e4e6eb] overflow-y-auto overflow-x-hidden custom-scrollbar-vip",children:n.length===0?e.jsxs("div",{className:"h-[192px] w-full flex flex-col justify-center items-center gap-4 bg-white",children:[e.jsx("img",{height:"112",src:La,width:"112",alt:""}),e.jsx("span",{className:"",dir:"auto",children:"Thêm ảnh/video để bắt đầu"})]}):e.jsx(Ja,{tempImage:m,setTempImage:h,previewImage:n,setPreviewImage:l})}),e.jsxs(i.DialogFooter,{className:"h-[60px] gap-2 border-t-2 border-gray-300",children:[e.jsxs("div",{className:"group",children:[e.jsxs("button",{className:"flex items-center gap-1 justify-center text-center text-[15px] py-[6px] text-[#0064d1] font-semibold w-[148px] rounded-md group-hover:bg-[#f2f2f2]",children:[e.jsx("img",{src:Ua,className:"h-4 w-4"}),"Thêm ảnh/video"]}),e.jsx("input",{type:"file",title:"",accept:"image/*, video/*",onChange:p,className:"w-[148px] h-[32px] opacity-0 absolute bottom-2 right-[140px] cursor-pointer rounded-lg file:cursor-pointer",multiple:!0})]}),e.jsx("button",{onClick:u,className:"bg-[#0866ff] rounded-md py-[6px] text-center text-[15px] text-white font-semibold w-[116px] hover:brightness-90",children:"Xong"})]})]})};function Tt({post:t,userAccount:s,reactionList:r,top2LatestComments:a,refetchReaction:n,handleClickCommentButton:l,isInDetailPost:c}){var k,W;const[d,m]=o.useState(t),[h,u]=o.useState([]),[p,g]=o.useState("arrow-box-top"),j=o.useRef(null),v=o.useRef(null),C=yt(d.content).split(`
`),[y,N]=o.useState(!1),[R,A]=o.useState(!1),[f,x]=o.useState(d.content),[b,w]=o.useState(!1),[S,z]=o.useState(ce.find(T=>T.value===d.privacy)),[P,J]=o.useState(!1),[Y,G]=o.useState([]),[q,E]=o.useState(null),[F,O]=o.useState(!1),[K,V]=o.useState(!1),[le,ue]=o.useState(""),oe=o.useRef(null),X=()=>{A(!R),N(!1),x(d.content),G(d.image.map(T=>T.url)),z(ce.find(T=>T.value===d.privacy)),O(d.image.length>0)},Fe=()=>{N(!y)},Re=e.jsx(Rt,{type:"edit",post:d,setCurPost:m,content:f,setContent:x,handleOpen:X,userAccount:s,setOpenPrivacy:w,privacyPost:S,isStartAnimationClosePrivacyDialog:P,setIsStartAnimationClosePrivacyDialog:J,selectedImage:q,setSelectedImage:E,previewImage:Y,setPreviewImage:G,openAddImage:F,setOpenAddImage:O,setOpenEditImage:V}),Be=e.jsx(Bt,{type:"edit",openPrivacy:b,setOpenPrivacy:w,privacyPost:S,setPrivacyPost:z,userAccount:s,setIsStartAnimationClosePrivacyDialog:J}),Ae=e.jsx(zt,{setOpenEditImage:V,curDialogRef:oe,selectedImage:q,setSelectedImage:E,previewImage:Y,setPreviewImage:G});return o.useEffect(()=>{const T=[];r&&r.length>0?(Ts(r).forEach(U=>{const ae=Ne.find(de=>de.value===U.type);ae&&T.push(ae)}),u(T)):u([])},[r]),o.useEffect(()=>{window.addEventListener("scroll",function(){var U;const T=(U=document.getElementById("home-header"))==null?void 0:U.getBoundingClientRect();T&&v.current&&(v.current.getBoundingClientRect().top-T.bottom<218?g("arrow-box-top"):g("arrow-box-bottom"))})},[]),o.useEffect(()=>{if(oe.current){const T=oe.current;ue(`w-[${T.offsetWidth}px]`)}else ue("w-[500px]")},[K,Y,q]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:v,className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2 px-4 pt-3 pb-2",children:[e.jsx(i.Avatar,{variant:"circular",size:"sm",alt:"avatar",className:"h-10 w-10 border-solid border-gray-400 border",src:d.author.avatar}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[#050505] text-[15px] font-semibold cursor-pointer hover:underline hover:underline-offset-1",children:d.author.firstName+" "+d.author.lastName}),e.jsxs("span",{className:"flex items-center hover:underline-offset-1 font-normal",children:[e.jsx(i.Tooltip,{placement:"bottom",content:Ze(d.createdAt),className:"text-white text-[13px] bg-[rgba(0,0,0,0.8)]",children:e.jsx("span",{className:"text-[#65676B] cursor-pointer text-[13px] hover:underline hover:underline-offset-1 font-normal",children:zs(d.createdAt)})}),e.jsx("span",{className:"ml-1 text-[#65676B]",children:" ·"}),e.jsx(i.Tooltip,{placement:"bottom",content:(k=ce.find(T=>T.value===d.privacy))==null?void 0:k.title,className:"text-white text-[13px] bg-[rgba(0,0,0,0.8)]",children:e.jsx("img",{src:(W=ce.find(T=>T.value===d.privacy))==null?void 0:W.icon,alt:"friend-logo",className:"h-3 w-3 text-[#65676B] inline ml-1 opacity-60 cursor-pointer"})})]})]})]}),e.jsxs(i.Popover,{placement:"bottom",offset:{mainAxis:10,crossAxis:-160},open:y,handler:N,children:[e.jsx(i.PopoverHandler,{onClick:Fe,children:e.jsx("button",{className:`hover:bg-[#f2f2f2] h-9 w-9 rounded-full flex justify-center items-center ${c?"mr-1":"mr-4"}`,children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-44px_-110px] h-5 w-5 opacity-60"})})}),e.jsx(ya,{arrowBox:p,handleOpenEditPostDialog:X,userAccount:s,post:t})]})]}),e.jsx("div",{className:`px-4 text-[#050505] ${d.image.length!==0?"text-[15px] leading-5":"text-2xl"}`,children:C.map((T,U)=>e.jsxs(o.Fragment,{children:[T,U<C.length-1&&e.jsx("br",{})]},U))}),d.image.length!==0?e.jsx(Na,{listImage:d.image}):"",e.jsxs("div",{className:`px-4 ${h.length!==0||a.total!==0?"py-[10px]":"mt-[10px]"} flex items-center ml-1 justify-between ${c?"pr-1":""}`,children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"flex",children:h.map(T=>e.jsx("img",{className:"first:z-[90] first:ring-2 first:ring-white first:rounded-full [&:nth-child(2)]:ring-2 [&:nth-child(2)]:ring-white [&:nth-child(2)]:z-[89] [&:nth-child(2)]:rounded-full",height:18,width:18,src:T.icon,alt:`Emoji ${T.value}`},T.value))}),e.jsx("span",{className:"text-[15px] text-[#65676b] hover:underline hover:cursor-pointer",children:r.length>0?r.length:""})]}),e.jsx("span",{className:`text-[15px] h-[23px] text-[#65676b] leading-5 hover:underline hover:cursor-pointer ${a.total===0?"hidden":""}`,children:a.total+" bình luận"})]}),e.jsx("hr",{className:`border-gray-300 mx-4 ${c?"mr-1":""}`}),e.jsxs("div",{ref:j,className:`px-4 my-1 grid grid-flow-col gap-1 ${c?"pr-1":""}`,style:{gridTemplateColumns:"repeat(3, 1fr)"},children:[e.jsx(va,{interactFieldRef:j,reactionList:r,userAccount:s,postID:d.id,refetch:n}),e.jsxs("button",{onClick:l,className:"h-8 w-full px-3 py-0 hover:bg-[#f2f2f2] rounded-md flex items-center justify-center gap-2",children:[e.jsx("div",{className:"bg-[length:26px_1536px] bg-[0px_-576px] h-5 w-5 opacity-70",style:{backgroundImage:`url(${Z})`}}),e.jsx("span",{className:"text-[15px] text-[#65676B] font-semibold",children:"Bình luận"})]}),e.jsxs("button",{className:"h-8  px-3 py-1 hover:bg-[#f2f2f2] rounded-md flex items-center justify-center gap-2",children:[e.jsx("div",{className:"bg-[length:26px_1536px] bg-[0px_-928px] h-5 w-5 opacity-70",style:{backgroundImage:`url(${Z})`}}),e.jsx("span",{className:"text-[15px] text-[#65676B] font-semibold",children:"Chia sẻ"})]})]}),e.jsx("hr",{className:`border-gray-300 mx-4 mt-1 ${c?"mr-1":""}`}),e.jsx(i.Dialog,{dismiss:{enabled:!1},open:R,handler:X,className:`bg-white ${le} transition-[width] duration-100 ease-in-out max-500:ml-0`,size:"xs",children:b?Be:K?Ae:Re})]})}function Da({openDetailPost:t,handleOpenDetailPost:s,post:r,userAccount:a,reactionList:n,top2LatestComments:l,refetchReaction:c,handleClickCommentButton:d,content:m,setContent:h}){const u=o.useRef(null),p=o.useRef(null),g=o.useRef(null),{fetchNextPage:j,hasNextPage:v,isFetchingNextPage:C,data:y,status:N,error:R,isLoading:A,refetch:f}=Ee([`get-all-comment-${r.id}`],({pageParam:S=0})=>st.getCommentByPostID(r.id,S,7),{getNextPageParam:(S,z)=>S.data.last?void 0:z.length}),x=o.useRef(null),b=o.useCallback(S=>{C||(x.current&&x.current.disconnect(),x.current=new IntersectionObserver(z=>{z[0].isIntersecting&&v&&j()}),S&&x.current.observe(S))},[C,j,v]),w=y==null?void 0:y.pages.map(S=>S.data.content.map((z,P)=>S.data.content.length===P+1?e.jsx(Ye,{ref:b,comment:z,maxW:"585px"},z.id):e.jsx(Ye,{comment:z,maxW:"585px"},z.id)));return o.useEffect(()=>{if(p.current){const S=p.current;if(S.style.height="36px",S.style.height=S.scrollHeight+"px",u.current){const z=u.current;z.style.height=449-S.offsetHeight+80+"px"}}},[m,t]),o.useEffect(()=>{if(g.current){const S=g.current;S.scrollHeight>363?(S.classList.remove("px-4"),S.classList.add("pl-4","pr-1")):(S.classList.remove("pl-4","pr-1"),S.classList.add("px-4"))}},[m]),N==="error"?e.jsxs("p",{className:"center",children:["Error: ",R.message]}):e.jsxs(e.Fragment,{children:[e.jsx(i.DialogHeader,{id:"header-detail-post",className:"bg-white rounded-t-md h-[60px] border-b border-gray-300 p-4 block",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("span",{className:"text-[20px] text-[#050505] font-bold overflow-auto",children:"Bài viết của "+r.author.lastName})}),e.jsx("div",{className:"flex justify-end absolute w-[668px] max-500:w-[460px]",children:e.jsx(i.IconButton,{color:"blue-gray",className:"h-9 w-9 bg-[#e4e6eb] rounded-full hover:bg-[#d8dadf] px-4",variant:"text",onClick:s,children:e.jsx("div",{style:{backgroundImage:`url(${D})`},className:"bg-[length:190px_186px] bg-[-22px_-110px] h-5 w-5 opacity-60"})})})]})}),e.jsxs(i.DialogBody,{ref:u,className:"max-h-[491px] min-h-[220px] overflow-y-auto custom-scrollbar-vip p-0 z-[50]",children:[e.jsx(Tt,{post:r,userAccount:a,reactionList:n,top2LatestComments:l,refetchReaction:c,handleClickCommentButton:d,isInDetailPost:!0}),e.jsx("div",{className:"mt-4 pl-4 pr-2",children:w}),(C||A)&&e.jsx("div",{className:"w-full bg-white rounded-lg p-4",children:e.jsxs("div",{className:"animate-pulse flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2 items-start",children:[e.jsx("div",{className:"rounded-full mt-1 bg-[#f0f2f5] h-10 w-10"}),e.jsx("div",{className:"flex-1 py-1 gap-2 flex flex-col",children:e.jsx("div",{className:"h-[70px] bg-[#f0f2f5e3] rounded-2xl w-[390px]"})})]}),e.jsxs("div",{className:"flex gap-2 items-start",children:[e.jsx("div",{className:"rounded-full mt-1 bg-[#f0f2f5] h-10 w-10"}),e.jsx("div",{className:"flex-1 py-1 gap-2 flex flex-col",children:e.jsx("div",{className:"h-[50px] bg-[#f0f2f5e3] rounded-2xl w-[490px]"})})]}),e.jsxs("div",{className:"flex gap-2 items-start",children:[e.jsx("div",{className:"rounded-full mt-1 bg-[#f0f2f5] h-10 w-10"}),e.jsx("div",{className:"flex-1 py-1 gap-2 flex flex-col",children:e.jsx("div",{className:"h-[100px] bg-[#f0f2f5e3] rounded-2xl w-[430px]"})})]})]})})]}),e.jsx(i.DialogFooter,{ref:g,className:"min-h-[114px] block p-0 px-4 py-2 mt-2 border-t-2 pb-1 max-h-[370px] overflow-auto custom-scrollbar-vip",children:e.jsx(Ft,{maxW:"622px",focus:!0,userAccount:a,post:r,textAreaRef:p,refetch:f,content:m,setContent:h})})]})}const mt=o.forwardRef(({post:t,userAccount:s},r)=>{var N,R;const[a,n]=o.useState(!1),[l,c]=o.useState(""),d=o.useRef(null),m=ne({queryKey:[`get-reaction-${t.id}`],queryFn:()=>St.getAllReactionByPostID(t.id),onError:A=>console.log(A)}),h=ne({queryKey:[`get-top2-lastest-comments-${t.id}`],queryFn:()=>st.getTop2LatestComments(t.id),onError:A=>console.log(A)}),u=(N=m.data)==null?void 0:N.data,p=(R=h.data)==null?void 0:R.data,g=()=>{n(!a)},j=()=>{d.current&&d.current.focus()},v=()=>{m.refetch()},C=()=>{h.refetch()};if(o.useEffect(()=>{if(d.current){const A=d.current;A.style.height="36px",A.style.height=A.scrollHeight+"px"}},[l,a]),m.isLoading||h.isLoading)return e.jsx("div",{className:"1200:w-[590px] w-[500px] shadow-[0_0px_1px_1px_rgba(0,0,0,0.06)] bg-white rounded-lg p-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"rounded-full bg-[#f0f2f5] h-10 w-10"}),e.jsxs("div",{className:"flex-1 py-1 gap-2 flex flex-col",children:[e.jsx("div",{className:"h-[10px] bg-[#f0f2f5e3] rounded-full w-[90px]"}),e.jsx("div",{className:"h-[10px] bg-[#f0f2f5e3] rounded-full w-[110px]"})]})]}),e.jsx("div",{className:"h-[170px]"}),e.jsxs("div",{className:"grid grid-flow-col gap-1",style:{gridTemplateColumns:"repeat(3, 1fr)"},children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-[10px] bg-[#f0f2f5e3] rounded-full w-[70px]"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-[10px] bg-[#f0f2f5e3] rounded-full w-[70px]"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-[10px] bg-[#f0f2f5e3] rounded-full w-[70px]"})})]})]})});const y=e.jsxs("div",{children:[e.jsxs("div",{className:"1200:w-[590px] w-[500px] 700-1100:w-[590px] max-500:w-[475px] h-full shadow-[0_0px_1px_1px_rgba(0,0,0,0.06)] bg-white rounded-lg",children:[e.jsx(Tt,{post:t,userAccount:s,reactionList:u,top2LatestComments:p,refetchReaction:v,handleClickCommentButton:j,isInDetailPost:!1}),e.jsx("button",{className:`px-4 mt-2 text-[15px] text-[#65676b] leading-5 font-semibold hover:underline hover:cursor-pointer ${p.total>2?"":"hidden"}`,onClick:g,children:"Xem thêm bình luận"}),e.jsx("div",{className:`pl-4 pr-2 mt-2 ${p.total===0?"hidden":""}`,children:p.commentList.map(A=>e.jsx(Ye,{comment:A,maxW:"490px"},A.id))}),e.jsx("div",{className:"px-4 py-2",children:e.jsx(Ft,{maxW:"512px",focus:!1,userAccount:s,post:t,textAreaRef:d,refetch:C,content:l,setContent:c})})]}),Mt.createPortal(e.jsx(i.Dialog,{dismiss:{enabled:!1},animate:{mount:{scale:1,y:0},unmount:{scale:.9,y:-100}},open:a,handler:g,className:"w-[700px] max-500:w-[500px] h-[665px] bg-white max-724:ml-0 ",size:"xs",children:e.jsx(Da,{openDetailPost:a,handleOpenDetailPost:g,post:t,userAccount:s,reactionList:u,top2LatestComments:p,refetchReaction:v,handleClickCommentButton:j,content:l,setContent:c})}),document.body)]});return r?e.jsx("div",{ref:r,children:y}):y});function Oa({refetch:t}){const s=M(J=>J.rootReducer.userAccountReducer),r=o.useRef(null),[a,n]=o.useState(""),[l,c]=o.useState(!1),[d,m]=o.useState(""),[h,u]=o.useState(!1),[p,g]=o.useState(!1),[j,v]=o.useState(ce.find(J=>J.value===s.privacyDefault)),[C,y]=o.useState(!1),[N,R]=o.useState([]),[A,f]=o.useState(null),[x,b]=o.useState(!1),w=()=>c(!l),S=e.jsx(Rt,{type:"create",content:d,setContent:m,handleOpen:w,userAccount:s,setOpenPrivacy:u,setOpenEditImage:g,privacyPost:j,isStartAnimationClosePrivacyDialog:C,setIsStartAnimationClosePrivacyDialog:y,selectedImage:A,setSelectedImage:f,previewImage:N,setPreviewImage:R,openAddImage:x,setOpenAddImage:b,refetch:t}),z=e.jsx(Bt,{type:"create",openPrivacy:h,setOpenPrivacy:u,privacyPost:j,setPrivacyPost:v,userAccount:s,setIsStartAnimationClosePrivacyDialog:y}),P=e.jsx(zt,{setOpenEditImage:g,curDialogRef:r,selectedImage:A,setSelectedImage:f,previewImage:N,setPreviewImage:R});return o.useEffect(()=>{const J=document.getElementById("create-post-text"),Y=document.getElementById("create-post-button");d.length>53?(J.style.height="46px",Y.style.height="62px"):(J.style.height="23px",Y.style.height="40px")},[l]),o.useEffect(()=>{l||u(!1)},[l,h,j]),o.useEffect(()=>{if(r.current){const J=r.current;n(`w-[${J.offsetWidth}px]`)}else n("w-[500px]")},[p,N,A]),e.jsxs("div",{className:"1200:w-[590px] w-[500px] 700-1100:w-[590px] max-500:w-[475px] h-auto min-h-[123px] max-h-[144px] bg-white rounded-lg shadow-[0_0px_1px_1px_rgba(0,0,0,0.06)]",children:[e.jsxs("div",{className:"flex gap-2 px-4 py-3",children:[e.jsx(i.Avatar,{variant:"circular",size:"sm",alt:"avatar",className:"h-10 w-10 border-solid border-gray-400 border cursor-pointer hover:brightness-90",src:s.avatar}),e.jsx("button",{id:"create-post-button",onClick:w,className:"w-full h-auto min-h-[40px] max-h-[62px] bg-[#f0f2f5] rounded-full flex items-center cursor-pointer hover:bg-[#e4e6e9]",children:e.jsx("div",{style:{display:"-webkit-box"},className:"max-w-[495px] h-auto min-h-[23px] max-h-[46px] pl-3 line-clamp-2 break-words",children:e.jsx("p",{id:"create-post-text",className:"text-gray-700 text-[17px] text-start leading-[23px]",children:d||s.lastName+" ơi, bạn đang nghĩ gì thế?"})})})]}),e.jsx("hr",{className:"border-gray-300 mx-4"}),e.jsxs("div",{className:"flex mx-4 my-2 justify-between items-center",children:[e.jsxs("button",{className:"h-10 w-[186px] hover:bg-[#f2f2f2] rounded-lg flex items-center justify-center gap-2 flex-1",children:[e.jsx("img",{src:"https://static.xx.fbcdn.net/rsrc.php/v3/yF/r/v1iF2605Cb5.png",alt:"livestream-type",className:"h-6 w-6"}),e.jsx("span",{className:"text-[15px] text-[#65676B] font-semibold",children:"Video trực tiếp"})]}),e.jsxs("button",{className:"h-10 w-[186px] hover:bg-[#f2f2f2] rounded-lg flex items-center justify-center gap-2 flex-1",children:[e.jsx("img",{src:"https://static.xx.fbcdn.net/rsrc.php/v3/yC/r/a6OjkIIE-R0.png",alt:"normal-type",className:"h-6 w-6"}),e.jsx("span",{className:"text-[15px] text-[#65676B] font-semibold",children:"Ảnh/video"})]}),e.jsxs("button",{className:"h-10 w-[186px] hover:bg-[#f2f2f2] rounded-lg flex items-center justify-center gap-2 max-500:hidden flex-1",children:[e.jsx("img",{src:"https://static.xx.fbcdn.net/rsrc.php/v3/yk/r/yMDS19UDsWe.png",alt:"emoji-type",className:"h-6 w-6"}),e.jsx("span",{className:"text-[15px] text-[#65676B] font-semibold",children:"Cảm xúc/hoạt động"})]})]}),e.jsx(i.Dialog,{dismiss:{enabled:!1},open:l,handler:w,className:`bg-white ${a} transition-[width] duration-100 ease-in-out max-500:ml-0`,size:"xs",children:h?z:p?P:S})]})}function Va(){const t=M(j=>j.rootReducer.userAccountReducer),{fetchNextPage:s,hasNextPage:r,isFetchingNextPage:a,data:n,status:l,error:c,isLoading:d,refetch:m}=Ee(["get-all-post"],({pageParam:j=0})=>qe.getPost(j,5),{getNextPageParam:(j,v)=>j.data.last?void 0:v.length}),h=o.useRef(null),u=o.useCallback(j=>{a||(h.current&&h.current.disconnect(),h.current=new IntersectionObserver(v=>{v[0].isIntersecting&&r&&s()}),j&&h.current.observe(j))},[a,s,r]),p=n==null?void 0:n.pages.map(j=>j.data.content.map((v,C)=>j.data.content.length===C+1?e.jsx(mt,{ref:u,post:v,userAccount:t},v.id):e.jsx(mt,{post:v,userAccount:t},v.id))),g=()=>{m()};return l==="error"?e.jsxs("p",{className:"center",children:["Error: ",c.message]}):e.jsxs("div",{className:"flex flex-col items-center mt-4 gap-4 mb-6",children:[e.jsxs("div",{className:"flex gap-2 py-2 1200:w-[590px] w-[500px] 700-1100:w-[590px] max-500:w-[475px] justify-start relative overflow-hidden",children:[e.jsxs("div",{className:"",children:[e.jsx("div",{style:{backgroundImage:`url(${t.avatar})`},className:"h-[201px] w-[141px] bg-cover rounded-t-lg"}),e.jsxs("div",{className:"h-[49px] rounded-b-lg bg-white flex justify-center items-end",children:[e.jsx("div",{className:"h-10 w-10 mb-7 flex justify-center items-center absolute bg-white rounded-full",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-[#0866ff] flex justify-center items-center",children:e.jsx("svg",{viewBox:"0 0 20 20",width:"20px",height:"20px",fill:"white",children:e.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -350)",children:e.jsxs("g",{fillRule:"nonzero",children:[e.jsx("path",{d:"M95 201.5h13a1 1 0 1 0 0-2H95a1 1 0 1 0 0 2z",transform:"translate(354.5 159.5)"}),e.jsx("path",{d:"M102.5 207v-13a1 1 0 1 0-2 0v13a1 1 0 1 0 2 0z",transform:"translate(354.5 159.5)"})]})})})})}),e.jsx("span",{className:"font-semibold text-[13px] mb-2",children:"Tạo tin"})]})]}),e.jsx(Pe,{url:"https://s3-hcm-r1.longvan.net/2502-facebook/1696172660306-zelda_totk.png"}),e.jsx(Pe,{url:"https://s3-hcm-r1.longvan.net/2502-facebook/1696173262970-electric_trap.png"}),e.jsx(Pe,{url:"https://s3-hcm-r1.longvan.net/2502-facebook/1696214980072-wp8629994.png"})]}),e.jsx(Oa,{refetch:g}),p,(a||d)&&Array.from({length:2},(j,v)=>v).map((j,v)=>e.jsx("div",{className:"w-[590px] shadow-[0_0px_1px_1px_rgba(0,0,0,0.06)] bg-white rounded-lg p-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"rounded-full bg-[#f0f2f5] h-10 w-10"}),e.jsxs("div",{className:"flex-1 py-1 gap-2 flex flex-col",children:[e.jsx("div",{className:"h-[10px] bg-[#f0f2f5e3] rounded-full w-[90px]"}),e.jsx("div",{className:"h-[10px] bg-[#f0f2f5e3] rounded-full w-[110px]"})]})]}),e.jsx("div",{className:"h-[170px]"}),e.jsxs("div",{className:"grid grid-flow-col gap-1",style:{gridTemplateColumns:"repeat(3, 1fr)"},children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-[10px] bg-[#f0f2f5e3] rounded-full w-[70px]"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-[10px] bg-[#f0f2f5e3] rounded-full w-[70px]"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-[10px] bg-[#f0f2f5e3] rounded-full w-[70px]"})})]})]})},v))]})}function Ha(){return e.jsxs("div",{className:"3xl:w-[360px] 2xl:w-[340px] xl:w-[280px] 900-950:w-[260px] semi-lg:w-[280px] fixed flex flex-col h-[670px] overflow-x-hidden overflow-y-auto custom-scrollbar mt-4",children:[e.jsx("span",{className:"text-[17px] text-[#65676B] my-2 mx-4 font-semibold",children:"Cuộc trò chuyện nhóm"}),e.jsxs("button",{className:"h-[52px] group hover:bg-[#e4e6e9] mx-2 rounded-md flex items-center",children:[e.jsx("div",{className:"h-9 w-9 mx-3 rounded-full flex justify-center items-center bg-[#e4e6eb] group-hover:bg-[#d8dadf]",children:e.jsx("svg",{viewBox:"0 0 20 20",width:"20px",height:"20px",fill:"black",children:e.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -350)",children:e.jsxs("g",{fillRule:"nonzero",children:[e.jsx("path",{d:"M95 201.5h13a1 1 0 1 0 0-2H95a1 1 0 1 0 0 2z",transform:"translate(354.5 159.5)"}),e.jsx("path",{d:"M102.5 207v-13a1 1 0 1 0-2 0v13a1 1 0 1 0 2 0z",transform:"translate(354.5 159.5)"})]})})})}),e.jsx("span",{className:"text-[15px] text-[#050505] font-medium",children:"Tạo nhóm mới"})]})]})}function Ya(){return e.jsxs("div",{className:"flex bg-[#f2f4f7] justify-center 900-1100:justify-start 950-1100:px-20 900-950:px-12",children:[e.jsx("div",{className:"3xl:w-[360px] 2xl:w-[340px] xl:w-[280px] semi-lg:w-[280px]  semi-lg:block hidden absolute left-0",children:e.jsx(ma,{})}),e.jsx("div",{className:"950-1100:mr-10",children:e.jsx(Va,{})}),e.jsx("div",{className:"hidden semi-md:block 3xl:w-[360px] 2xl:w-[340px] xl:w-[280px] semi-lg:w-[280px] 900-950:w-[260px] semi-lg:absolute right-0",children:e.jsx(Ha,{})})]})}function qa(){return e.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-200 px-16 md:px-0",children:e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-gray-200 bg-white px-4 py-8 shadow-2xl md:px-8 lg:px-24",children:[e.jsx("p",{className:"text-6xl font-bold tracking-wider text-gray-300 md:text-7xl lg:text-9xl",children:"404"}),e.jsx("p",{className:"mt-4 text-2xl font-bold tracking-wider text-gray-500 md:text-3xl lg:text-5xl",children:"Page Not Found"}),e.jsx("p",{className:"mt-4 border-b-2 pb-4 text-center text-gray-500",children:"Sorry, the page you are looking for could not be found."}),e.jsxs(ie,{to:B.home,className:"mt-6 flex items-center space-x-2 rounded bg-blue-600 px-4 py-2 text-gray-100 transition duration-150 hover:bg-blue-700",title:"Return Home",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),e.jsx("span",{children:"Return Home"})]})]})})}function Qa(){let t,s=120,r=!1;const{email:a}=ke(),n=re(),l=te(),c=M(x=>x.rootReducer.tempAccountReducer.email),d=o.useRef(document.querySelector("confirm-code")),[m,h]=o.useState(!1),[u,p]=o.useState(""),[g,j]=o.useState(!1),[v,C]=o.useState(""),y=Q({mutationFn:x=>me.confirmAccount(x),onSuccess:()=>{l(Ls({isConfirmed:!0}))},onError:x=>{var b;if(ye(x)){const w=(b=x.response)==null?void 0:b.data;w&&C(w.message)}}}),N=Q({mutationFn:x=>me.resendConfirmCode(x),onError:x=>{var b;if(ye(x)){const w=(b=x.response)==null?void 0:b.data;w&&C(w.message)}}}),R=async()=>{await y.mutateAsync({email:a,code:u})},A=()=>{N.mutate(a),f(document.getElementById("resend"))};function f(x){r||(r=!0,j(!0),t=setInterval(function(){s--,s>0?x.textContent=`Gửi lại mã xác nhận (${Rs(s)})`:(clearInterval(t),r=!1,j(!1),x.textContent="Gửi lại mã xác nhận")},1e3))}return o.useEffect(()=>{f(document.getElementById("resend")),a!==btoa(c)&&n("/authenticate/"+btoa(c))},[]),o.useEffect(()=>{document.activeElement===d.current&&h(!0)}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(i.Card,{className:"mt-24 w-[600px]",children:[e.jsxs(i.CardBody,{children:[e.jsx(i.Typography,{variant:"h4",color:"blue-gray",className:"mb-1",children:"Nhập mã xác nhận"}),e.jsxs(i.Typography,{variant:"paragraph",color:"black",children:["Để xác nhận tài khoản, hãy nhập mã gồm 6 chữ số mà chúng tôi gửi đến: ",e.jsx("br",{}),e.jsx("b",{className:"font-bold",children:Bs(a)}),"."]}),e.jsx("button",{className:`mt-2 p-[2px] cursor-text rounded-[6px] w-full duration-100 ${m?"outline outline-blue-600":""} `,onClick:()=>{var x;h(!0),(x=d.current)==null||x.focus()},children:e.jsx("div",{className:"p-2 rounded border border-gray-400",children:e.jsx(i.Input,{inputRef:d,color:"blue",className:`border-none duration-300 ${m||u!==""?"mt-2":""}`,containerProps:{className:""},labelProps:{className:`after:border-none duration-300 focus:border-none before:border-none ${m||u!==""?"mt-2":""}`},label:"mã gồm 6 chữ số",size:"md",id:"confirm-code",value:u,onChange:x=>p(x.target.value),crossOrigin:void 0,onBlur:()=>h(!1),maxLength:6})})}),v?e.jsxs("div",{className:"ml-1 flex gap-2 text-red-700 items-center",children:[e.jsx(L,{color:"red",icon:gt}),v]}):"",e.jsx("button",{disabled:g,onClick:A,id:"resend",className:"text-[#1b74e4] text-sm mt-2 ml-1 font-[500] disabled:text-gray-600",children:"Gửi lại mã xác nhận"})]}),e.jsxs(i.CardFooter,{className:"pt-0 flex gap-2",children:[e.jsx("button",{type:"submit",color:"green",className:"bg-[#e4e6eb] font-semibold text-black py-[0.4rem] px-[0.3rem] rounded-[0.4rem] w-1/2 hover:bg-gradient-to-b hover:bg-[#d8dadf]",children:"Cập nhật thông tin liên hệ"}),e.jsx("button",{disabled:u.length!==6,type:"submit",color:"green",className:"bg-[#e4e6eb] enabled:bg-[#1b74e4] enabled:text-white font-semibold text-black py-[0.2rem] px-[0.3rem] rounded-[0.4rem] w-1/2 hover:bg-gradient-to-b hover:bg-[#d8dadf] disabled:opacity-40 disabled:hover:bg-[#e4e6eb] disabled:hover:cursor-not-allowed enabled:hover:bg-blue-900",onClick:R,children:"Tiếp tục"})]})]})})}function Ka(){const t="Wellcome to facebook",s=vt(),r=M(m=>m.rootReducer.tempAccountReducer),a=te(),{setIsAuthenticated:n}=o.useContext(se),l=re(),c=Q({mutationFn:m=>me.signIn(m)});ne({queryKey:["profile"],queryFn:()=>Se.getUserInfor(),enabled:c.isSuccess,onSuccess:m=>{a(et());const h=m.data;a(tt(h)),n(!0),l(B.home)},onError:m=>{console.log(m)}});const d=()=>{c.mutate({email:r.email,password:r.password},{onSuccess:()=>{s.invalidateQueries({queryKey:["profile"]})},onError:m=>{var h;if(ye(m)){const u=(h=m.response)==null?void 0:h.data;u&&u.errorKey==="EmailOrPasswordInValid"&&console.log(m)}}})};return e.jsx("div",{className:"flex justify-center",children:e.jsxs(i.Card,{className:"mt-24 w-[600px]",children:[e.jsxs(i.CardBody,{children:[e.jsxs("div",{className:"flex justify-center items-center gap-3",children:[e.jsx("img",{src:$e,alt:"icon",className:"w-10 h-10 ml-4 animate-slide-in-left"}),e.jsx("h1",{className:"overflow-hidden text-2xl font-bold leading-6 text-blue-500",children:t.match(/./gu).map((m,h)=>e.jsx("span",{className:"animate-text-reveal inline-block [animation-fill-mode:backwards]",style:{animationDelay:`${h*.05}s`},children:m===" "?" ":m},`${m}-${h}`))})]}),e.jsxs(i.Typography,{variant:"paragraph",color:"black",className:"mt-2",children:["Tài khoản ",e.jsx("b",{className:"font-bold",children:r.email})," của bạn đã xác nhận thành công. Bây giờ bạn có thể trải nghiệm mạng xã hội đầy thú vị"]})]}),e.jsx(i.CardFooter,{className:"pt-0 flex justify-center",children:e.jsx("button",{type:"submit",color:"green",onClick:d,className:"bg-[#1b74e4] text-white font-semibold py-[0.2rem] px-[0.3rem] rounded-[0.4rem] w-1/3 hover:bg-blue-900",children:"Tiếp tục"})})]})})}function Ga(){return e.jsx("div",{children:"Đây là Bạn bè"})}function Za(){return e.jsx("div",{children:"Đây là nhóm"})}const Xa="/assets/camera_light-737dfc4f.png",_a="data:image/png;base64,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",$a="/assets/facbook_icon_18-4303a038.png",en=()=>{const t=M(s=>s.rootReducer.userAccountReducer);return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"h-[406px] w-full flex justify-center",children:e.jsx("div",{className:"w-[1095px] h-full flex justify-end py-4 px-8 rounded-b-md bg-gradient-to-b from-[#F0F2F5] via-[#F0F2F5] to-[#a9aaab]",children:e.jsxs("div",{className:"w-fit flex flex-col justify-end items-end h-full gap-2",children:[e.jsxs("button",{className:"w-full font-semibold text-[15px] rounded-md text-white bg-[rgba(75,76,77,0.8)] px-3 py-[6px] flex items-center gap-2 hover:bg-[rgba(75,76,77,1)]",children:[e.jsx("img",{src:_a,className:"w-[15px] h-[15px]"}),e.jsx("span",{children:"Tạo với Avatar"})]}),e.jsxs("button",{className:" w-full font-semibold text-[15px] rounded-md text-white bg-[rgba(75,76,77,0.8)] px-3 py-[6px] flex items-center gap-2 hover:bg-[rgba(75,76,77,1)]",children:[e.jsx("img",{src:Xa,className:"w-[16px] h-[14px]"}),e.jsx("span",{children:"Thêm ảnh bìa"})]})]})})}),e.jsx("div",{children:e.jsxs("div",{className:"w-[176px] h-[176px] rounded-full bg-white absolute -mt-[75px] ml-[240px] flexbox-center",children:[e.jsx("img",{src:t.avatar,className:"w-[168px] h-[168px] rounded-full object-cover"}),e.jsx("div",{className:"w-9 h-9 rounded-full bg-primarygray absolute flexbox-center bottom-0 right-0 mb-3 mr-2 cursor-pointer hover:bg-[#d8dadf]",children:e.jsx("div",{style:{backgroundImage:`url(${$a})`},className:"bg-[length:26px_607px] bg-[1px_-229px] h-5 w-5"})})]})}),e.jsx("div",{className:"h-[117px] w-full flex justify-center",children:e.jsxs("div",{className:"w-[1031px] flex h-full items-center border-b border-gray-400/60 justify-between",children:[e.jsxs("div",{className:"flex flex-col justify-center ml-[185px]",children:[e.jsxs("span",{className:"text-textprimary text-[32px] font-bold",children:[t.firstName+" "+t.lastName," "]}),e.jsx("span",{className:"text-textgray text-[15px] font-semibold mb-4 cursor-pointer hover:underline",children:"420 bạn bè"})]}),e.jsxs("div",{className:"flex gap-2 ",children:[e.jsxs("button",{className:"text-white bg-[#0866FF] rounded-md py-[6px] px-3 text-[15px] font-semibold flex items-center hover:bg-blue-600",children:[e.jsx(L,{icon:Kt,className:"h-3 w-3 mr-2"}),"Thêm vào tin"]}),e.jsxs("button",{className:"bg-primarygray rounded-md py-[6px] px-3 text-[15px] font-semibold flex items-center hover:bg-[#d8dadf]",children:[e.jsx(L,{icon:Gt,className:"h-[14px] w-[14px] mr-1"}),"Chỉnh sửa trang cá nhân"]})]})]})})]})},tn=()=>{const[t,s]=o.useState("html"),r=[{label:"HTML",value:"html",desc:`It really matters and then like it really doesn't matter.
      What matters is the people who are sparked by it. And the people 
      who are like offended by it, it doesn't matter.`},{label:"React",value:"react",desc:`Because it's about motivating the doers. Because I'm here
      to follow my dreams and inspire other people to follow their dreams, too.`},{label:"Vue",value:"vue",desc:`We're not always in the position that we want to be at.
      We're constantly growing. We're constantly making mistakes. We're
      constantly trying to express ourselves and actualize our dreams.`},{label:"Angular",value:"angular",desc:`Because it's about motivating the doers. Because I'm here
      to follow my dreams and inspire other people to follow their dreams, too.`},{label:"Svelte",value:"svelte",desc:`We're not always in the position that we want to be at.
      We're constantly growing. We're constantly making mistakes. We're
      constantly trying to express ourselves and actualize our dreams.`}];return e.jsxs("div",{className:"bg-white",children:[e.jsx(en,{}),e.jsxs(i.Tabs,{value:t,children:[e.jsx(i.TabsHeader,{className:"rounded-none bg-transparent p-0",indicatorProps:{className:"bg-transparent border-b-2 border-[#0866ff] shadow-none rounded-none"},children:r.map(({label:a,value:n})=>e.jsx(i.Tab,{value:n,onClick:()=>s(n),className:t===n?"text-gray-900":"",children:a},n))}),e.jsx(i.TabsBody,{children:r.map(({value:a,desc:n})=>e.jsx(i.TabPanel,{value:a,children:n},a))})]})]})},sn="chat/list-chat-room",ht="chat/chat-room",an="chat/messages",we={getListChatRoom:(t,s=-1,r=0)=>I.get(`${sn}/${t}?page=${s}&size=${r}`),getChatRoom:(t,s)=>I.get(`${ht}?userId1=${t}&userId2=${s}`),getChatRoomById:(t,s)=>I.get(`${ht}/${s}/${t}`),getChatMessage:(t,s=-1,r=0)=>I.get(`${an}/${t}?page=${s}&size=${r}`)},je=o.forwardRef(({chatRoom:t,messageReceived:s},r)=>{const{roomId:a}=ke(),n=t.lastMessage.senderId===t.receiver.id?t.lastMessage.content:"Bạn: "+t.lastMessage.content,l=e.jsxs(ie,{to:`/messenger/${t.id}`,className:`h-[68px] w-full rounded-md text-left ${a===t.id.toString()?"bg-[#ebf5ff]":"bg-white"} hover:bg-[#f2f2f2] cursor-pointer flex items-center px-2 gap-2`,children:[e.jsx("img",{src:t.receiver.avatar,className:"h-[56px] w-[56px] rounded-full"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[15px] leading-5 font-medium",children:t.receiver.firstName+" "+t.receiver.lastName}),e.jsxs("span",{className:"text-[13px] leading-4 text-textgray flex",children:[e.jsx("span",{className:"line-clamp-1 max-w-[160px]",children:s?s.content:n}),e.jsxs("span",{children:["· ",Ps(t.lastMessage.createdAt)]})]})]})]});return r?e.jsx("div",{ref:r,children:l}):l}),nn=({messageReceived:t})=>{var q;const s=M(E=>E.rootReducer.userAccountReducer),{roomId:r}=ke(),[a,n]=o.useState(!1),[l,c]=o.useState(!1),[d,m]=o.useState(0),[h,u]=o.useState(""),[p,g]=o.useState(null),j=re(),{fetchNextPage:v,hasNextPage:C,isFetchingNextPage:y,data:N,status:R,error:A,isLoading:f,refetch:x}=Ee(["get-all-chatroom"],({pageParam:E=0})=>we.getListChatRoom(s.id,E,15),{getNextPageParam:(E,F)=>E.data.last?void 0:F.length}),b=ne({queryKey:[h],enabled:h!==""&&a,queryFn:()=>Se.searchUsersByName(h),onError:E=>console.log(E)}),w=(q=b.data)==null?void 0:q.data,S=ne({queryKey:[p],enabled:p!==null&&a,queryFn:()=>we.getChatRoom(s.id,p==null?void 0:p.id),onError:E=>console.log(E),onSuccess:E=>{j("/messenger/"+E.data.id,{replace:!0}),Y(),n(!1)}});o.useEffect(()=>{var O;const E=()=>{document.getElementById("chat-room-list").scrollTop>0?c(!0):c(!1)},F=document.getElementById("chat-room-list");return F==null||F.addEventListener("scroll",E),N&&N.pages&&N.pages[0].data.content.length!==0&&(p?(j("/messenger/"+((O=S.data)==null?void 0:O.data.id),{replace:!0}),g(null)):r?j("/messenger/"+r,{replace:!0}):j("/messenger/"+N.pages[0].data.content[0].id,{replace:!0})),()=>{F==null||F.removeEventListener("scroll",E)}},[N]),o.useEffect(()=>{const E=document.getElementById("messenger-client-container"),F=()=>{m((E==null?void 0:E.clientHeight)-165)};return window.addEventListener("resize",F),F(),()=>{window.removeEventListener("resize",F)}},[]),o.useEffect(()=>{u("")},[a]),o.useEffect(()=>{x()},[t]);const z=o.useRef(null),P=o.useCallback(E=>{y||(z.current&&z.current.disconnect(),z.current=new IntersectionObserver(F=>{F[0].isIntersecting&&C&&v()}),E&&z.current.observe(E))},[y,v,C]),J=N==null?void 0:N.pages.map(E=>E.data.content.map((F,O)=>{var K;if(t){const V=JSON.parse(t.body),le=r!==V.roomId.toString()&&V.senderId.toString()===((K=F.receiver.id)==null?void 0:K.toString());return E.data.content.length===O+1?e.jsx(je,{ref:P,chatRoom:F,messageReceived:le?V:void 0},F.id):e.jsx(je,{chatRoom:F,messageReceived:le?V:void 0},F.id)}else return E.data.content.length===O+1?e.jsx(je,{ref:P,chatRoom:F},F.id):e.jsx(je,{chatRoom:F},F.id)})),Y=()=>{x()},G=E=>{g(E)};return R==="error"?e.jsxs("p",{className:"center",children:["Error: ",A.message]}):e.jsxs("div",{className:"py-3 border-r h-full border-gray-300 w-full",children:[e.jsxs("div",{className:"px-4 flex justify-between items-center mb-3",children:[e.jsx("span",{className:"font-bold text-[24px] leading-7",children:"Đoạn chat"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ee,{children:e.jsx("svg",{viewBox:"0 0 20 20",width:"20",height:"20",fill:"currentColor",children:e.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:e.jsx("path",{d:"M458 408a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-12 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})})})}),e.jsx(ee,{children:e.jsx("svg",{viewBox:"0 0 12 13",width:"20",height:"20",fill:"currentColor",children:e.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:e.jsxs("g",{children:[e.jsx("path",{d:"M105.506 926.862a.644.644 0 0 1-.644.644h-6.724a.644.644 0 0 1-.644-.644v-6.724c0-.356.288-.644.644-.644h2.85c.065 0 .13-.027.176-.074l.994-.993a.25.25 0 0 0-.177-.427h-3.843A2.138 2.138 0 0 0 96 920.138v6.724c0 1.18.957 2.138 2.138 2.138h6.724a2.138 2.138 0 0 0 2.138-2.138v-3.843a.25.25 0 0 0-.427-.177l-1.067 1.067v2.953zm1.024-9.142a.748.748 0 0 0-1.06 0l-.589.588a.25.25 0 0 0 0 .354l1.457 1.457a.25.25 0 0 0 .354 0l.588-.589a.75.75 0 0 0 0-1.06l-.75-.75z",transform:"translate(354.5 156)"}),e.jsx("path",{d:"M99.22 923.97a.75.75 0 0 0-.22.53v.75c0 .414.336.75.75.75h.75a.75.75 0 0 0 .53-.22l4.248-4.247a.25.25 0 0 0 0-.354l-1.457-1.457a.25.25 0 0 0-.354 0l-4.247 4.248z",transform:"translate(354.5 156)"})]})})})})]})]}),e.jsx("div",{className:`${a?"pr-4 pl-1":"px-4"} w-full mb-2`,children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{children:e.jsx(i.IconButton,{variant:"text",onClick:()=>n(!1),className:`w-9 h-9 rounded-full ml-0 z-[999] ${a?"animate-slide-in-right-button":"animate-flip-out-hor-top-logo hidden"}`,children:e.jsx(L,{icon:ft,className:"w-[18px] h-[18px] text-gray-700 "})})}),e.jsx("div",{className:"flex flex-col gap-x-2 sm:flex-row sm:items-center w-full",children:e.jsxs("div",{className:"relative after:gap-2 md:w-full",children:[e.jsx(i.Input,{onFocus:()=>n(!0),type:"text",placeholder:"Tìm kiếm trên Messenger",containerProps:{className:"w-full h-9 rounded-full bg-[#f0f2f5]"},className:`text-black border-none z-[99] ${a?"animate-slide-left-search":"animate-slide-right-search"}  !border-t-blue-gray-300 pl-9 placeholder:text-gray-700/80 placeholder:text-[15px] focus:!border-blue-gray-300`,labelProps:{className:" before:content-none after:content-none"},crossOrigin:void 0,value:h,onChange:E=>u(E.target.value)}),e.jsx("div",{className:`!absolute left-3 top-[6px] ${a?"animate-slide-out-left-search":"animate-slide-in-left-search"}`,children:e.jsx(L,{className:"text-gray-700 w-[18px] h-[18px]",icon:Ue})}),h!==""&&e.jsx("button",{className:"absolute right-[4px] top-[2px]",onClick:()=>u(""),children:e.jsx(ee,{size:32,children:e.jsx("svg",{viewBox:"0 0 12 13",width:"16",height:"16",fill:"currentColor",children:e.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:e.jsxs("g",{fillRule:"nonzero",children:[e.jsx("path",{d:"m98.095 917.155 7.75 7.75a.75.75 0 0 0 1.06-1.06l-7.75-7.75a.75.75 0 0 0-1.06 1.06z",transform:"translate(353.5 159)"}),e.jsx("path",{d:"m105.845 916.095-7.75 7.75a.75.75 0 1 0 1.06 1.06l7.75-7.75a.75.75 0 0 0-1.06-1.06z",transform:"translate(353.5 159)"})]})})})})})]})})]})}),!a&&(N==null?void 0:N.pages[0].data.content.length)>0&&e.jsxs("div",{className:"px-4 flex gap-3 items-center h-9 mb-2 text-[15px] leading-5",children:[e.jsx("div",{className:"font-semibold text-[#0064d1] cursor-pointer rounded-full p-2 px-3 bg-[#ebf5ff]",children:"Hộp thư"}),e.jsx("div",{className:"font-semibold text-[#050505cb] rounded-full cursor-pointer p-2 px-3 hover:bg-[#f2f2f2]",children:"Cộng đồng"})]}),e.jsx("hr",{className:`${l?"":"hidden"} border-gray-300`}),e.jsxs("div",{style:{maxHeight:`${d}px`},id:"chat-room-list",className:`${a?"hidden":""} px-2 overflow-y-auto h-full`,children:[J,(N==null?void 0:N.pages[0].data.content.length)===0&&e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("span",{children:"Không tìm thấy tin nhắn."})}),(y||f)&&Array.from({length:2},(E,F)=>F).map((E,F)=>e.jsx("div",{className:"bg-white rounded-lg p-4",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"rounded-full bg-gray-300 h-[56px] w-[56px]"}),e.jsxs("div",{className:"flex-1 py-1 gap-2 flex flex-col",children:[e.jsx("div",{className:"h-[20px] bg-gray-300 rounded-full w-[110px]"}),e.jsx("div",{className:"h-[16px] bg-gray-300 rounded-full w-[170px]"})]})]})})},F))]}),e.jsxs("div",{style:{maxHeight:`${d+44}px`},id:"chat-room-list",className:`${a?"":"hidden"} px-2 overflow-y-auto`,children:[b.isLoading&&h!==""&&e.jsx("div",{children:"Loading..."}),h===""&&e.jsx("span",{className:"ml-9 text-gray-500",children:"Không có tìm kiếm nào gần đây"}),h!==""&&(w==null?void 0:w.length)===0&&e.jsx("span",{className:"ml-9 text-gray-500",children:"Không tìm thấy kết quả nào"}),h!==""&&(w==null?void 0:w.length)>0&&e.jsx("div",{children:w==null?void 0:w.map(E=>e.jsxs("div",{onClick:()=>G(E),className:"h-[48px] flex items-center w-full rounded-md cursor-pointer px-2 gap-2 hover:bg-[#f2f2f2]",children:[e.jsx("img",{src:E.avatar,className:"h-9 w-9 rounded-full"}),e.jsx("span",{className:"text-[15px] leading-5",children:E.firstName+" "+E.lastName})]},E.id))})]})]})},rn="/assets/no_message_icon-09d4477f.png",ut=o.forwardRef(({message:t,userAccount:s,chatRoom:r,nextMessage:a,previousMessage:n},l)=>{const c=t.senderId===s.id,d=(!a||(a==null?void 0:a.senderId)===s.id)&&!c;let m="";c?(a==null?void 0:a.senderId)!==s.id&&(n==null?void 0:n.senderId)!==s.id?m="rounded-full":(a==null?void 0:a.senderId)===s.id&&((n==null?void 0:n.senderId)!==s.id||!n)?m="rounded-l-full rounded-tr-[10000px] rounded-br-[2000px]":(a==null?void 0:a.senderId)===s.id&&a&&(n==null?void 0:n.senderId)===s.id?m="rounded-l-full rounded-r-[2000px]":((a==null?void 0:a.senderId)!==s.id||!a)&&(n==null?void 0:n.senderId)===s.id&&(m="rounded-l-full rounded-br-[10000px] rounded-tr-[2000px]"):((a==null?void 0:a.senderId)===s.id||!a)&&(n==null?void 0:n.senderId)===s.id?m="rounded-full":(a==null?void 0:a.senderId)!==s.id&&((n==null?void 0:n.senderId)===s.id||!n)?m="rounded-r-full rounded-tl-[10000px] rounded-bl-[2000px]":(a==null?void 0:a.senderId)!==s.id&&a&&(n==null?void 0:n.senderId)!==s.id?m="rounded-r-full rounded-l-[2000px]":((a==null?void 0:a.senderId)===s.id||!a)&&(n==null?void 0:n.senderId)!==s.id&&(m="rounded-r-full rounded-bl-[10000px] rounded-tl-[2000px]");const h=e.jsx("div",{className:"hidden group-hover:block",children:e.jsxs("div",{className:"flex cursor-pointer",children:[e.jsx(ee,{size:28,bgColor:"current",bgHoverColor:"#d8dadf",children:e.jsx("svg",{viewBox:"0 0 20 20",width:"16",height:"16",fill:"currentColor",color:"#65676b",children:e.jsx("g",{"fill-rule":"evenodd",transform:"translate(-446 -398)",children:e.jsx("path",{d:"M456 410a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0-12a2 2 0 1 1 0-4 2 2 0 0 1 0 4"})})})}),e.jsx(ee,{size:28,bgColor:"current",bgHoverColor:"#d8dadf",children:e.jsx("svg",{viewBox:"0 0 12 13",width:"16",height:"16",fill:"currentColor",color:"#65676b",children:e.jsx("g",{"fill-rule":"evenodd",transform:"translate(-450 -1073)",children:e.jsxs("g",{children:[e.jsx("path",{d:"M101 936.5c1.903 0 3.847.017 5.811 3.326.053.09.192.048.189-.057-.213-8.03-6-7.769-6-7.769v-2.75c0-.112-.17-.112-.25-.034l-4.712 4.978a.128.128 0 0 0 0 .182l4.712 4.879c.08.078.25.022.25-.091V936.5z",transform:"translate(354.5 145)"}),e.jsx("path",{"fill-rule":"nonzero",d:"M101.5 937.007c2.344.065 3.445.655 4.881 3.074.318.538 1.136.29 1.119-.326-.096-3.612-1.284-5.961-3.22-7.245a6.126 6.126 0 0 0-2.136-.888 6.042 6.042 0 0 0-.644-.1v-2.272c0-.673-.751-.733-1.1-.39l-4.725 4.99a.624.624 0 0 0 .011.881l4.704 4.87c.395.388 1.11.137 1.11-.437v-2.157zm-4.857-2.724 3.857-4.075v2.315l.527-.024c.207-.004.524.02.912.102a5.134 5.134 0 0 1 1.788.743c1.388.92 2.339 2.508 2.66 4.948-1.422-1.847-2.873-2.292-5.387-2.292h-.5v2.276l-3.857-3.993z",transform:"translate(354.5 145)"})]})})})}),e.jsx(ee,{size:28,bgColor:"current",bgHoverColor:"#d8dadf",children:e.jsxs("svg",{viewBox:"0 0 20 20",width:"16",height:"16",fill:"currentColor",color:"#65676b",children:[e.jsx("path",{d:"M6.062 11.548c.596 1.376 2.234 2.453 3.955 2.452 1.694 0 3.327-1.08 3.921-2.452a.75.75 0 1 0-1.376-.596c-.357.825-1.451 1.548-2.545 1.548-1.123 0-2.22-.72-2.579-1.548a.75.75 0 1 0-1.376.596z","fill-rule":"nonzero"}),e.jsx("ellipse",{cx:"13.6",cy:"6.8",rx:"1.2",ry:"1.2"}),e.jsx("ellipse",{cx:"6.4",cy:"6.8",rx:"1.2",ry:"1.2"}),e.jsx("ellipse",{stroke:"currentColor","stroke-width":"1.5",fill:"none",cx:"10",cy:"10",rx:"9",ry:"9"})]})})]})}),u=e.jsxs("div",{className:`flex items-center ${c?"justify-end":"justify-start"} px-4 mb-[2px] gap-2 items-end group`,children:[d?e.jsx("img",{src:r==null?void 0:r.receiver.avatar,className:" w-7 h-7 rounded-full"}):e.jsx("div",{className:" w-7 h-7 rounded-full"}),c&&h,e.jsx(i.Tooltip,{animate:{mount:{transition:{delay:.5}}},placement:"left",content:Ze(t.createdAt),className:"text-white text-[13px] bg-[rgba(0,0,0,0.8)]",children:e.jsx("div",{className:`${c?"bg-[#0084ff] text-white":"bg-[#f0f0f0]"} w-fit ${m} px-3 py-1`,children:e.jsx("span",{className:"leading-5 text-[15px]",children:t.content})})}),!c&&h]});return l?e.jsx("div",{ref:l,children:u}):u}),ln=({chatRoom:t,messageReceived:s})=>{const[r,a]=o.useState(0),n=M(A=>A.rootReducer.userAccountReducer),[l,c]=o.useState(!1),d=o.useRef(null),{fetchNextPage:m,hasNextPage:h,isFetchingNextPage:u,data:p,status:g,error:j,isLoading:v,refetch:C}=Ee(["get-chat-message",t.id],({pageParam:A=0})=>we.getChatMessage(t.id,A,35),{getNextPageParam:(A,f)=>A.data.last?void 0:f.length});o.useEffect(()=>{const A=document.getElementById("messenger-client-container"),f=()=>{a((A==null?void 0:A.clientHeight)-65-60)};return window.addEventListener("resize",f),f(),()=>{window.removeEventListener("resize",f)}},[]),o.useEffect(()=>{if(s){const A=JSON.parse(s.body);(t.receiver.id===A.senderId||A.senderId===n.id)&&C()}},[s]),o.useEffect(()=>{if(d.current&&p&&(p!=null&&p.pages[p.pages.length-1].data.last)&&p.pages[p.pages.length-1].data.content.length>0){const A=d.current,f=document.createElement("div"),x=e.jsxs("div",{className:"relative flex flex-col justify-center items-center gap-2 my-10",children:[e.jsxs("div",{className:"flex w-[60px] h-[60px] rounded-full",children:[e.jsx("img",{src:t.receiver.avatar,className:" w-full h-full rounded-full"}),e.jsx("div",{className:"w-5 h-5 absolute ml-10 mt-10 bg-green-600 rounded-full border-2 border-white"})]}),e.jsx("span",{className:"text-[17px] leading-5 font-semibold",children:t.receiver.firstName+" "+t.receiver.lastName}),e.jsx("span",{className:"text-[12px] leading-4 text-textgray",children:"Các bạn là bạn bè trên Facebook"})]});return Jt(f).render(x),A.appendChild(f),()=>f.remove()}},[p]);const y=o.useRef(null),N=o.useCallback(A=>{u||(y.current&&y.current.disconnect(),y.current=new IntersectionObserver(f=>{f[0].isIntersecting&&h&&(c(!0),setTimeout(()=>{m(),c(!1)},300))},{threshold:.05}),A&&y.current.observe(A))},[u,m,h]),R=p==null?void 0:p.pages.map(A=>A.data.content.map((f,x)=>A.data.content.length===x+1?e.jsx(ut,{ref:N,message:f,previousMessage:void 0,nextMessage:A.data.content[x-1],userAccount:n,chatRoom:t},f.id):e.jsx(ut,{message:f,userAccount:n,chatRoom:t,nextMessage:A.data.content[x-1],previousMessage:A.data.content[x+1]},f.id)));return g==="error"?e.jsxs("p",{className:"center",children:["Error: ",j.message]}):v?e.jsx("div",{style:{height:`${r}px`,maxHeight:`${r}px`},className:"flex justify-center items-center w-full",children:e.jsx("div",{className:"spinner-loader-circle w-[70px]",children:e.jsx("svg",{className:"spinner-circular",viewBox:"25 25 50 50",children:e.jsx("circle",{className:"spinner-path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"5",strokeMiterlimit:"10"})})})}):e.jsxs("div",{ref:d,className:"flex flex-col-reverse overflow-y-scroll",style:{height:`${r}px`,maxHeight:`${r}px`,overflowAnchor:"none"},children:[R,(u||l)&&e.jsx("div",{style:{height:`${r}px`,maxHeight:`${r}px`},className:"flex justify-center items-center w-full",children:e.jsx("div",{className:"spinner-loader-circle w-[30px]",children:e.jsx("svg",{className:"spinner-circular",viewBox:"25 25 50 50",children:e.jsx("circle",{className:"spinner-path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"5",strokeMiterlimit:"10"})})})}),e.jsxs("div",{style:{height:`${r}px`,maxHeight:`${r}px`,display:(p==null?void 0:p.pages[0].data.content.length)>0?"none":"flex"},className:"flex flex-col justify-center items-center gap-2",children:[e.jsxs("div",{className:"flex w-[60px] h-[60px] rounded-full",children:[e.jsx("img",{src:t.receiver.avatar,className:" w-full h-full rounded-full"}),e.jsx("div",{className:"w-5 h-5 absolute ml-10 mt-10 bg-green-600 rounded-full border-2 border-white"})]}),e.jsx("span",{className:"text-[17px] leading-5 font-semibold",children:t.receiver.firstName+" "+t.receiver.lastName}),e.jsx("span",{className:"text-[14px] leading-4 text-textgray",children:"Hãy bắt đầu đoạn chat nào!!!"})]})]})},We=(t,s)=>new Promise(r=>{const a=document.querySelector(t);a==null||a.classList.add(s);function n(l){l.animationName==="scale-out-center"&&(l.stopPropagation(),a==null||a.classList.remove(s),r("Animation ended"),a==null||a.classList.add("hidden"))}a==null||a.addEventListener("animationend",n,{once:!1})}),Me=(t,s)=>new Promise(r=>{const a=document.querySelector(t);setTimeout(()=>{a==null||a.classList.remove("hidden")},150),a==null||a.classList.add(s);function n(l){l.animationName==="scale-in-center"&&(l.stopPropagation(),a==null||a.classList.remove(s),r("Animation ended"))}a==null||a.addEventListener("animationend",n,{once:!1})}),on=({roomId:t})=>{const s="#0084ff",r=M(f=>f.rootReducer.userAccountReducer),{stompClient:a}=o.useContext(se),[n,l]=o.useState(""),[c,d]=o.useState(!1),[m,h]=o.useState(!1),u=o.useRef(null),[p,g]=o.useState(!1),j=()=>{c&&!m&&d(!1)},v=()=>{d(f=>!f),h(!0)},C=f=>{l(n+f.native)},y=()=>{l("👍"),N()},N=()=>{if(n&&a){const f={roomId:parseInt(t),senderId:r.id,content:n,status:"active",createdAt:new Date};a.publish({destination:"/app/chat",body:JSON.stringify(f)}),l("")}},R=f=>{f.key==="Enter"&&f.preventDefault(),f.key==="Enter"&&!f.shiftKey&&n.trim().length!==0&&N()};o.useEffect(()=>{const f=document.getElementById("message-text-area");n.length!==0&&!p&&n.trim()!==""&&(We("#media-gif","animate-[scale-out-center_0.1s_ease-in-out_both_0ms]"),We("#media-sticker","animate-[scale-out-center_0.1s_ease-in-out_both_50ms]"),We("#media-image","animate-[scale-out-center_0.1s_ease-in-out_both_100ms]"),g(!0),f.style.width="1073px"),n.length===0&&p&&(Me("#media-image","animate-[scale-in-center_0.1s_ease-in-out_both_0ms]"),Me("#media-sticker","animate-[scale-in-center_0.1s_ease-in-out_both_50ms]"),Me("#media-gif","animate-[scale-in-center_0.1s_ease-in-out_both_100ms]"),g(!1),f.style.width="973px")},[n]),o.useEffect(()=>{const f=document.getElementById("message-text-area");f.style.width="973px",u.current&&u.current.focus()},[t]);const A=e.jsx("button",{onMouseLeave:()=>h(!1),onClick:v,className:"hover:bg-[#f2f2f2] h-7 w-7 flex justify-center items-center rounded-full",children:e.jsx("svg",{height:"20px",viewBox:"0 0 38 38",width:"20px",children:e.jsx("g",{fill:"none",fillRule:"evenodd",children:e.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:e.jsx("g",{transform:"translate(709.000000, 314.000000)",children:e.jsx("g",{children:e.jsx("path",{d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:s})})})})})})});return e.jsxs("div",{className:"flex h-full px-1 justify-between items-center gap-[6px]",children:[e.jsx("div",{className:"flex items-center absolute",children:e.jsx("div",{role:"button",className:"hover:bg-[#f2f2f2] h-7 w-7 flex justify-center items-center rounded-full",children:e.jsx("svg",{height:"20px",viewBox:"0 0 24 24",width:"20px",children:e.jsxs("g",{fillRule:"evenodd",children:[e.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),e.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:s})]})})})}),e.jsxs("div",{className:"flex gap-[6px] py-3 h-full w-full items-center ",children:[e.jsxs("div",{id:"media-content-container",className:"flex gap-[6px] items-center absolute ml-[31px]",children:[e.jsx("div",{id:"media-image",role:"button",className:"hover:bg-[#f2f2f2] h-7 w-7 flex justify-center items-center rounded-full",children:e.jsx("svg",{height:"20px",viewBox:"0 -1 17 17",width:"20px",children:e.jsxs("g",{fill:"none",fillRule:"evenodd",children:[e.jsx("path",{d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:s}),e.jsx("circle",{cx:"8.5",cy:"4.5",fill:s,r:"1.5"}),e.jsx("path",{d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:s}),e.jsx("path",{d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:s,strokeLinecap:"round",strokeLinejoin:"round"})]})})}),e.jsx("div",{id:"media-sticker",role:"button",className:"hover:bg-[#f2f2f2] h-7 w-7 flex justify-center items-center rounded-full",children:e.jsx("svg",{height:"20px",viewBox:"0 0 17 16",width:"20px",x:"0px",y:"0px",children:e.jsxs("g",{fillRule:"evenodd",children:[e.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),e.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),e.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),e.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:s}),e.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:s,fillRule:"nonzero"})]})})}),e.jsx("div",{id:"media-gif",role:"button",className:"hover:bg-[#f2f2f2] h-7 w-7 flex justify-center items-center rounded-full",children:e.jsx("svg",{height:"20px",viewBox:"0 0 16 16",width:"20px",x:"0px",y:"0px",children:e.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:s,fillRule:"nonzero"})})})]}),e.jsx("div",{className:"flex justify-end w-full",children:e.jsxs("div",{id:"message-text-area",className:"h-auto bg-[#f0f2f5] flex items-center transition-all duration-[300ms] rounded-full",children:[e.jsx("textarea",{ref:u,onKeyDown:f=>R(f),value:n,onChange:f=>{l(f.target.value)},className:"w-full h-9 pt-[6.5px] px-3 overflow-clip text-[#050505] text-[15px] resize-none bg-[#f0f2f5] placeholder:text-[#050505] placeholder:opacity-60 active:outline-0 focus:outline-0 rounded-full",placeholder:"Aa"}),e.jsx("div",{children:A})]})})]}),n.trim()===""&&e.jsx("button",{className:"hover:bg-[#f2f2f2] h-9 w-9 flex justify-center items-center rounded-full",onClick:y,children:e.jsxs("svg",{height:"20",viewBox:"0 0 16 16",width:"20",children:[e.jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z",fill:s}),e.jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z",fill:s})]})}),n.trim()!==""&&e.jsx("button",{onClick:N,className:` ${n!==""?"":"hidden"} hover:bg-[#f2f2f2] h-9 w-9 flex justify-center items-center rounded-full`,children:e.jsxs("svg",{height:"20px",viewBox:"0 0 24 24",width:"20px",children:[e.jsx("title",{children:"Nhấn Enter để gửi"}),e.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:s})]})}),e.jsx("div",{className:`${c?"":"hidden"} absolute bottom-[70px] right-[50px] z-[99]`,children:e.jsx(Ge,{onClickOutside:()=>j(),theme:"light",locale:"vi",showReview:!0,set:"facebook",previewPosition:"none",onEmojiSelect:C})})]})},cn=({messageReceived:t})=>{var l;const{roomId:s}=ke(),r=M(c=>c.rootReducer.userAccountReducer),a=ne({queryKey:[s],enabled:!!s,queryFn:()=>we.getChatRoomById(s,r.id),onError:c=>console.log(c)}),n=(l=a.data)==null?void 0:l.data;return a.isLoading?e.jsx("div",{children:"Loading..."}):e.jsx("div",{className:"h-full",children:s?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"py-[6px] flex justify-between items-center px-[10px] border-b border-gray-300 shadow-sm",children:[e.jsxs(ie,{to:"/messenger",className:"h-[52px] px-2 w-fit rounded-md text-left hover:bg-[#f2f2f2] cursor-pointer flex items-center gap-2 ",children:[e.jsxs("div",{className:"flex w-10 h-10 rounded-full",children:[e.jsx("img",{src:n.receiver.avatar,className:" w-full h-full rounded-full"}),e.jsx("div",{className:"w-3 h-3 absolute ml-7 mt-7 bg-green-600 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[17px] leading-5 font-semibold",children:n.receiver.firstName+" "+n.receiver.lastName}),e.jsx("span",{className:"text-[13px] leading-4 text-textgray",children:"Đang hoạt động"})]})]}),e.jsxs("div",{className:"flex gap-1 justify-center items-center",children:[e.jsx("div",{"aria-label":"Bắt đầu gọi thoại",role:"button",className:"hover:bg-[#f2f2f2] h-9 w-9 flex justify-center items-center rounded-full",children:e.jsx("svg",{viewBox:"0 0 12 13",width:"20",height:"20",fill:"currentColor",color:"#0084ff",children:e.jsx("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:e.jsx("path",{d:"M109.492 925.682a1.154 1.154 0 0 0-.443-.81 10.642 10.642 0 0 0-1.158-.776l-.211-.125c-.487-.29-.872-.514-1.257-.511a3.618 3.618 0 0 0-.693.084c-.304.07-.6.302-.88.69a3.365 3.365 0 0 0-.297.494l.449.22-.507-.202-.13-.074a8.53 8.53 0 0 1-3.04-3.043l-.071-.124.019-.057v-.001c.168-.083.334-.183.492-.297.162-.117.552-.432.681-.842.063-.2.075-.407.086-.59l.007-.116c.029-.389-.197-.764-.482-1.237l-.153-.256c-.322-.55-.6-.933-.775-1.158a1.155 1.155 0 0 0-.811-.443c-.36-.031-1.066.01-1.748.608-1.018.896-1.326 2.25-.845 3.714a11.734 11.734 0 0 0 2.834 4.612 11.732 11.732 0 0 0 4.61 2.833c.455.149.897.222 1.32.222.94 0 1.777-.364 2.395-1.067.599-.681.639-1.387.608-1.748",transform:"translate(-450 -1073) translate(352.5 157)"})})})}),e.jsx("div",{"aria-label":"Bắt đầu gọi video",role:"button",className:"hover:bg-[#f2f2f2] h-9 w-9 flex justify-center items-center rounded-full",children:e.jsx("svg",{viewBox:"0 0 12 13",width:"20",height:"20",fill:"currentColor",color:"#0084ff",children:e.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:e.jsx("path",{d:"M461.583 1076.078a.732.732 0 0 0-.774.073l-.612.466a.498.498 0 0 0-.197.398v4.97c0 .157.072.304.197.398l.612.466a.736.736 0 0 0 .774.073.749.749 0 0 0 .417-.677v-5.49a.75.75 0 0 0-.417-.677m-4.562-1.557h-5.043A1.98 1.98 0 0 0 450 1076.5v6.021a1.98 1.98 0 0 0 1.978 1.979h5.043a1.98 1.98 0 0 0 1.979-1.979v-6.021a1.98 1.98 0 0 0-1.978-1.979"})})})}),e.jsx("div",{"aria-label":"Thông tin về cuộc trò chuyện",role:"button",className:"hover:bg-[#f2f2f2] h-9 w-9 flex justify-center items-center rounded-full",children:e.jsx("svg",{height:"24px",name:"icon",role:"presentation",viewBox:"0 0 36 36",width:"24px",fill:"currentColor",color:"#0084ff",children:e.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:e.jsx("path",{d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:"var(--mwp-header-button-color)",stroke:"var(--mwp-header-button-color)"})})})})]})]}),e.jsx(ln,{chatRoom:n,messageReceived:t}),e.jsx(on,{roomId:s})]}):e.jsxs("div",{className:"flex justify-center items-center flex-col h-full gap-4",children:[e.jsx("div",{className:"",children:e.jsx("i",{className:"",style:{backgroundImage:`url(${rn})`,backgroundPosition:"0px -182px",backgroundSize:"248px 386px",width:"244px",height:"180px",backgroundRepeat:"no-repeat",display:"inline-block"}})}),e.jsx("div",{className:"x9f619 x1n2onr6 x1ja2u2z x78zum5 xdt5ytf x2lah0s x193iq5w x6s0dn4 x1cnzs8",children:e.jsx("span",{className:"text-[20px] leading-5 font-bold text-textprimary",children:"Chưa chọn đoạn chat nào"})})]})})},dn=()=>{const{messageReceived:t}=o.useContext(se);return e.jsxs("div",{id:"messenger-client-container",className:"flex h-full text-textprimary",children:[e.jsxs(Ke,{children:[e.jsx("title",{children:"Messenger | Facebook"}),e.jsx("meta",{name:"description",content:"Facebook"})]}),e.jsx("div",{className:"sm:w-[360px]",children:e.jsx(nn,{messageReceived:t})}),e.jsx("div",{className:"flex-1 max-h-[100px]",children:e.jsx(cn,{messageReceived:t})})]})};function At(){const{isAuthenticated:t}=o.useContext(se);return t?e.jsx(he,{}):e.jsx(ve,{to:B.login})}function xn(){const{isAuthenticated:t}=o.useContext(se),s=M(r=>r.rootReducer.tempAccountReducer.email);return s?e.jsx(ve,{to:"/authenticate/"+btoa(s)}):t?e.jsx(ve,{to:B.home}):e.jsx(he,{})}function mn(){return M(s=>s.rootReducer.tempAccountReducer.email)===null?e.jsx(ve,{to:B.login}):e.jsx(he,{})}function hn(){const t=M(r=>r.rootReducer.tempAccountReducer.isConfirmed);return Vt([{path:"",element:e.jsx(xn,{}),children:[{path:B.login,element:e.jsx(da,{})}]},{path:"",element:e.jsx(mn,{}),children:[{path:"",element:e.jsx(_s,{}),children:[{path:B.confirmAccount,element:t!==!0?e.jsx(Qa,{}):e.jsx(Ka,{})}]}]},{path:"",element:e.jsx(At,{}),children:[{path:"",element:e.jsx(Gs,{}),children:[{path:B.home,element:e.jsx(Ya,{}),handle:{scrollMode:"pathname"}},{path:B.friend,element:e.jsx(Ga,{})},{path:B.group,element:e.jsx(Za,{})},{path:B.profile,element:e.jsx(tn,{})},{path:B.messenger,element:e.jsx(dn,{})}]}]},{path:"*",element:e.jsx(At,{}),children:[{path:"*",element:e.jsx(qa,{})}]}])}function un(){const t=hn(),s=M(d=>d.rootReducer.userAccountReducer),{reset:r,stompClient:a,isAuthenticated:n,setMessageReceived:l}=o.useContext(se);o.useEffect(()=>(De.addEventListener("clearLS",r),()=>{De.removeEventListener("clearLS",r)}),[r]),o.useEffect(()=>{if(n&&!a.connected){a.activate(),a.onConnect=()=>{a.subscribe(`/user/${s.id}/queue/messages`,c)};return}if(!n&&a.connected){a.deactivate(),console.log("disconnected");return}},[n]);function c(d){l(d)}return e.jsxs("div",{children:[e.jsx(Ht,{router:t}),e.jsx(Dt,{})]})}const An={email:null,password:null,isConfirmed:null},pn=(t=An,s)=>{switch(s.type){case"tempAccount/UPDATE":return{...t,email:s.payload.email,password:s.payload.password,isConfirmed:s.payload.isConfirmed};case"tempAccount/CLEAR":return{...t,email:null,password:null,isConfirmed:null};case"tempAccount/MARK_CONFIRM":return{...t,isConfirmed:s.payload.isConfirmed};default:return t}},fn={id:void 0,email:void 0,lastName:void 0,firstName:void 0,phone:void 0,birthday:void 0,gender:void 0,avatar:void 0,timeCreated:void 0,privacyDefault:void 0},gn=(t=fn,s)=>{switch(s.type){case"userAccount/SET":return{...t,...s.payload};case"userAccount/CLEAR":return{...t,id:void 0,email:void 0,lastName:void 0,firstName:void 0,phone:void 0,birthday:void 0,gender:void 0,avatar:void 0,timeCreated:void 0,privacyDefault:void 0};default:return t}},jn={accessToken:void 0,refreshToken:void 0},bn=(t=jn,s)=>{switch(s.type){case"token/SET_TOKEN":return{...t,...s.payload};case"token/SET_ACCESSTOKEN":return{...t,...s.payload};case"token/SET_REFRESHTOKEN":return{...t,...s.payload};case"token/CLEAR":return{...t,accessToken:void 0,refreshToken:void 0};default:return t}},vn={key:"root",storage:cs,transforms:[{in:t=>Xe(t),out:t=>_e(t)}]},Nn=xs({tempAccountReducer:pn,userAccountReducer:gn,tokenReducer:bn}),yn=ls(vn,Nn),It=ds({reducer:{rootReducer:yn},middleware:t=>t({serializableCheck:!1})}),wn=os(It),Cn=new ss({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:0}}}),kn={dialog:{styles:{base:{backdrop:{backgroundColor:"bg-[#f3f3f4]",backgroundOpacity:"bg-opacity-80",backdropFilter:""},container:{fontFamily:"ui-sans-serif"}},sizes:{xs:{width:"",minWidth:"",maxWidth:""},sm:{width:"w-full md:w-2/3 lg:w-2/4 2xl:w-1/3",minWidth:"min-w-[80%] md:min-w-[66.666667%] lg:min-w-[10%] 2xl:min-w-[10%]",maxWidth:"max-w-[80%] md:max-w-[66.666667%] lg:max-w-[33.3%] 2xl:max-w-[28%]"}}}},dialogFooter:{defaultProps:{className:""},styles:{base:{fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed",flexShrink:"shrink"}}},input:{styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[100px]"}}}},cardBody:{styles:{base:{p:"p-4"}}},menu:{styles:{base:{menu:{minWidth:"min-w-[50px]"}}}},select:{styles:{base:{container:{minWidth:"min-w-[50px]"}}}}};Ut.createRoot(document.getElementById("root")).render(e.jsx(Wt.StrictMode,{children:e.jsx(as,{client:Cn,children:e.jsx(Qt,{store:It,children:e.jsxs(is,{persistor:wn,children:[e.jsx(Us,{children:e.jsx($t,{children:e.jsx(i.ThemeProvider,{value:kn,children:e.jsx(un,{})})})}),e.jsx(ns,{initialIsOpen:!1})]})})})}));
