import{i as Se,t as Te,c as me}from"./lodash-es-da6d11e1.js";import{r as f}from"./react-d19e1eaf.js";import{i as w}from"./react-fast-compare-89ff7d29.js";import{w as je}from"./tiny-warning-c932d744.js";import"./hoist-non-react-statics-23d96a9a.js";var He=function(t){return Pe(t)&&!Ge(t)};function Pe(r){return!!r&&typeof r=="object"}function Ge(r){var t=Object.prototype.toString.call(r);return t==="[object RegExp]"||t==="[object Date]"||Ke(r)}var We=typeof Symbol=="function"&&Symbol.for,$e=We?Symbol.for("react.element"):60103;function Ke(r){return r.$$typeof===$e}function ze(r){return Array.isArray(r)?[]:{}}function W(r,t){return t.clone!==!1&&t.isMergeableObject(r)?j(ze(r),r,t):r}function Ye(r,t,n){return r.concat(t).map(function(i){return W(i,n)})}function qe(r,t,n){var i={};return n.isMergeableObject(r)&&Object.keys(r).forEach(function(a){i[a]=W(r[a],n)}),Object.keys(t).forEach(function(a){!n.isMergeableObject(t[a])||!r[a]?i[a]=W(t[a],n):i[a]=j(r[a],t[a],n)}),i}function j(r,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Ye,n.isMergeableObject=n.isMergeableObject||He;var i=Array.isArray(t),a=Array.isArray(r),c=i===a;return c?i?n.arrayMerge(r,t,n):qe(r,t,n):W(t,n)}j.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(i,a){return j(i,a,n)},{})};var re=j;function m(){return m=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},m.apply(this,arguments)}function be(r,t){if(r==null)return{};var n={},i=Object.keys(r),a,c;for(c=0;c<i.length;c++)a=i[c],!(t.indexOf(a)>=0)&&(n[a]=r[a]);return n}var $=f.createContext(void 0);$.displayName="FormikContext";$.Provider;$.Consumer;function Je(){var r=f.useContext($);return r||je(!1),r}var R=function(t){return typeof t=="function"},K=function(t){return t!==null&&typeof t=="object"},Qe=function(t){return String(Math.floor(Number(t)))===t},x=function(t){return Object.prototype.toString.call(t)==="[object String]"},ee=function(t){return K(t)&&R(t.then)};function T(r,t,n,i){i===void 0&&(i=0);for(var a=Te(t);r&&i<a.length;)r=r[a[i++]];return i!==a.length&&!r||r===void 0?n:r}function D(r,t,n){for(var i=me(r),a=i,c=0,v=Te(t);c<v.length-1;c++){var p=v[c],C=T(r,v.slice(0,c+1));if(C&&(K(C)||Array.isArray(C)))a=a[p]=me(C);else{var g=v[c+1];a=a[p]=Qe(g)&&Number(g)>=0?[]:{}}}return(c===0?r:a)[v[c]]===n?r:(n===void 0?delete a[v[c]]:a[v[c]]=n,c===0&&n===void 0&&delete i[v[c]],i)}function ge(r,t,n,i){n===void 0&&(n=new WeakMap),i===void 0&&(i={});for(var a=0,c=Object.keys(r);a<c.length;a++){var v=c[a],p=r[v];K(p)?n.get(p)||(n.set(p,!0),i[v]=Array.isArray(p)?[]:{},ge(p,t,n,i[v])):i[v]=t}return i}function Xe(r,t){switch(t.type){case"SET_VALUES":return m({},r,{values:t.payload});case"SET_TOUCHED":return m({},r,{touched:t.payload});case"SET_ERRORS":return w(r.errors,t.payload)?r:m({},r,{errors:t.payload});case"SET_STATUS":return m({},r,{status:t.payload});case"SET_ISSUBMITTING":return m({},r,{isSubmitting:t.payload});case"SET_ISVALIDATING":return m({},r,{isValidating:t.payload});case"SET_FIELD_VALUE":return m({},r,{values:D(r.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return m({},r,{touched:D(r.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return m({},r,{errors:D(r.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return m({},r,t.payload);case"SET_FORMIK_STATE":return t.payload(r);case"SUBMIT_ATTEMPT":return m({},r,{touched:ge(r.values,!0),isSubmitting:!0,submitCount:r.submitCount+1});case"SUBMIT_FAILURE":return m({},r,{isSubmitting:!1});case"SUBMIT_SUCCESS":return m({},r,{isSubmitting:!1});default:return r}}var L={},G={};function fr(r){var t=r.validateOnChange,n=t===void 0?!0:t,i=r.validateOnBlur,a=i===void 0?!0:i,c=r.validateOnMount,v=c===void 0?!1:c,p=r.isInitialValid,C=r.enableReinitialize,g=C===void 0?!1:C,ne=r.onSubmit,Ae=be(r,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),s=m({validateOnChange:n,validateOnBlur:a,validateOnMount:v,onSubmit:ne},Ae),A=f.useRef(s.initialValues),O=f.useRef(s.initialErrors||L),V=f.useRef(s.initialTouched||G),k=f.useRef(s.initialStatus),F=f.useRef(!1),_=f.useRef({});f.useEffect(function(){return F.current=!0,function(){F.current=!1}},[]);var Fe=f.useState(0),Ie=Fe[1],H=f.useRef({values:s.initialValues,errors:s.initialErrors||L,touched:s.initialTouched||G,status:s.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=H.current,y=f.useCallback(function(e){var u=H.current;H.current=Xe(u,e),u!==H.current&&Ie(function(l){return l+1})},[]),ie=f.useCallback(function(e,u){return new Promise(function(l,o){var d=s.validate(e,u);d==null?l(L):ee(d)?d.then(function(h){l(h||L)},function(h){o(h)}):l(d)})},[s.validate]),z=f.useCallback(function(e,u){var l=s.validationSchema,o=R(l)?l(u):l,d=u&&o.validateAt?o.validateAt(u,e):xe(e,o);return new Promise(function(h,S){d.then(function(){h(L)},function(M){M.name==="ValidationError"?h(Ze(M)):S(M)})})},[s.validationSchema]),ae=f.useCallback(function(e,u){return new Promise(function(l){return l(_.current[e].validate(u))})},[]),ue=f.useCallback(function(e){var u=Object.keys(_.current).filter(function(o){return R(_.current[o].validate)}),l=u.length>0?u.map(function(o){return ae(o,T(e,o))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(l).then(function(o){return o.reduce(function(d,h,S){return h==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||h&&(d=D(d,u[S],h)),d},{})})},[ae]),Re=f.useCallback(function(e){return Promise.all([ue(e),s.validationSchema?z(e):{},s.validate?ie(e):{}]).then(function(u){var l=u[0],o=u[1],d=u[2],h=re.all([l,o,d],{arrayMerge:er});return h})},[s.validate,s.validationSchema,ue,ie,z]),I=b(function(e){return e===void 0&&(e=E.values),y({type:"SET_ISVALIDATING",payload:!0}),Re(e).then(function(u){return F.current&&(y({type:"SET_ISVALIDATING",payload:!1}),y({type:"SET_ERRORS",payload:u})),u})});f.useEffect(function(){v&&F.current===!0&&w(A.current,s.initialValues)&&I(A.current)},[v,I]);var B=f.useCallback(function(e){var u=e&&e.values?e.values:A.current,l=e&&e.errors?e.errors:O.current?O.current:s.initialErrors||{},o=e&&e.touched?e.touched:V.current?V.current:s.initialTouched||{},d=e&&e.status?e.status:k.current?k.current:s.initialStatus;A.current=u,O.current=l,V.current=o,k.current=d;var h=function(){y({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:l,touched:o,status:d,values:u,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&typeof e.submitCount=="number"?e.submitCount:0}})};if(s.onReset){var S=s.onReset(E.values,Ee);ee(S)?S.then(h):h()}else h()},[s.initialErrors,s.initialStatus,s.initialTouched,s.onReset]);f.useEffect(function(){F.current===!0&&!w(A.current,s.initialValues)&&g&&(A.current=s.initialValues,B(),v&&I(A.current))},[g,s.initialValues,B,v,I]),f.useEffect(function(){g&&F.current===!0&&!w(O.current,s.initialErrors)&&(O.current=s.initialErrors||L,y({type:"SET_ERRORS",payload:s.initialErrors||L}))},[g,s.initialErrors]),f.useEffect(function(){g&&F.current===!0&&!w(V.current,s.initialTouched)&&(V.current=s.initialTouched||G,y({type:"SET_TOUCHED",payload:s.initialTouched||G}))},[g,s.initialTouched]),f.useEffect(function(){g&&F.current===!0&&!w(k.current,s.initialStatus)&&(k.current=s.initialStatus,y({type:"SET_STATUS",payload:s.initialStatus}))},[g,s.initialStatus,s.initialTouched]);var le=b(function(e){if(_.current[e]&&R(_.current[e].validate)){var u=T(E.values,e),l=_.current[e].validate(u);return ee(l)?(y({type:"SET_ISVALIDATING",payload:!0}),l.then(function(o){return o}).then(function(o){y({type:"SET_FIELD_ERROR",payload:{field:e,value:o}}),y({type:"SET_ISVALIDATING",payload:!1})})):(y({type:"SET_FIELD_ERROR",payload:{field:e,value:l}}),Promise.resolve(l))}else if(s.validationSchema)return y({type:"SET_ISVALIDATING",payload:!0}),z(E.values,e).then(function(o){return o}).then(function(o){y({type:"SET_FIELD_ERROR",payload:{field:e,value:T(o,e)}}),y({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Ce=f.useCallback(function(e,u){var l=u.validate;_.current[e]={validate:l}},[]),Me=f.useCallback(function(e){delete _.current[e]},[]),oe=b(function(e,u){y({type:"SET_TOUCHED",payload:e});var l=u===void 0?a:u;return l?I(E.values):Promise.resolve()}),ce=f.useCallback(function(e){y({type:"SET_ERRORS",payload:e})},[]),se=b(function(e,u){var l=R(e)?e(E.values):e;y({type:"SET_VALUES",payload:l});var o=u===void 0?n:u;return o?I(l):Promise.resolve()}),P=f.useCallback(function(e,u){y({type:"SET_FIELD_ERROR",payload:{field:e,value:u}})},[]),U=b(function(e,u,l){y({type:"SET_FIELD_VALUE",payload:{field:e,value:u}});var o=l===void 0?n:l;return o?I(D(E.values,e,u)):Promise.resolve()}),fe=f.useCallback(function(e,u){var l=u,o=e,d;if(!x(e)){e.persist&&e.persist();var h=e.target?e.target:e.currentTarget,S=h.type,M=h.name,X=h.id,Z=h.value,Ne=h.checked,ar=h.outerHTML,pe=h.options,Be=h.multiple;l=u||M||X,o=/number|range/.test(S)?(d=parseFloat(Z),isNaN(d)?"":d):/checkbox/.test(S)?tr(T(E.values,l),Ne,Z):pe&&Be?rr(pe):Z}l&&U(l,o)},[U,E.values]),Y=b(function(e){if(x(e))return function(u){return fe(u,e)};fe(e)}),N=b(function(e,u,l){u===void 0&&(u=!0),y({type:"SET_FIELD_TOUCHED",payload:{field:e,value:u}});var o=l===void 0?a:l;return o?I(E.values):Promise.resolve()}),de=f.useCallback(function(e,u){e.persist&&e.persist();var l=e.target,o=l.name,d=l.id,h=l.outerHTML,S=u||o||d;N(S,!0)},[N]),q=b(function(e){if(x(e))return function(u){return de(u,e)};de(e)}),ve=f.useCallback(function(e){R(e)?y({type:"SET_FORMIK_STATE",payload:e}):y({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),he=f.useCallback(function(e){y({type:"SET_STATUS",payload:e})},[]),ye=f.useCallback(function(e){y({type:"SET_ISSUBMITTING",payload:e})},[]),J=b(function(){return y({type:"SUBMIT_ATTEMPT"}),I().then(function(e){var u=e instanceof Error,l=!u&&Object.keys(e).length===0;if(l){var o;try{if(o=Oe(),o===void 0)return}catch(d){throw d}return Promise.resolve(o).then(function(d){return F.current&&y({type:"SUBMIT_SUCCESS"}),d}).catch(function(d){if(F.current)throw y({type:"SUBMIT_FAILURE"}),d})}else if(F.current&&(y({type:"SUBMIT_FAILURE"}),u))throw e})}),_e=b(function(e){e&&e.preventDefault&&R(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&R(e.stopPropagation)&&e.stopPropagation(),J().catch(function(u){console.warn("Warning: An unhandled error was caught from submitForm()",u)})}),Ee={resetForm:B,validateForm:I,validateField:le,setErrors:ce,setFieldError:P,setFieldTouched:N,setFieldValue:U,setStatus:he,setSubmitting:ye,setTouched:oe,setValues:se,setFormikState:ve,submitForm:J},Oe=b(function(){return ne(E.values,Ee)}),Ve=b(function(e){e&&e.preventDefault&&R(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&R(e.stopPropagation)&&e.stopPropagation(),B()}),Le=f.useCallback(function(e){return{value:T(E.values,e),error:T(E.errors,e),touched:!!T(E.touched,e),initialValue:T(A.current,e),initialTouched:!!T(V.current,e),initialError:T(O.current,e)}},[E.errors,E.touched,E.values]),we=f.useCallback(function(e){return{setValue:function(l,o){return U(e,l,o)},setTouched:function(l,o){return N(e,l,o)},setError:function(l){return P(e,l)}}},[U,N,P]),De=f.useCallback(function(e){var u=K(e),l=u?e.name:e,o=T(E.values,l),d={name:l,value:o,onChange:Y,onBlur:q};if(u){var h=e.type,S=e.value,M=e.as,X=e.multiple;h==="checkbox"?S===void 0?d.checked=!!o:(d.checked=!!(Array.isArray(o)&&~o.indexOf(S)),d.value=S):h==="radio"?(d.checked=o===S,d.value=S):M==="select"&&X&&(d.value=d.value||[],d.multiple=!0)}return d},[q,Y,E.values]),Q=f.useMemo(function(){return!w(A.current,E.values)},[A.current,E.values]),ke=f.useMemo(function(){return typeof p<"u"?Q?E.errors&&Object.keys(E.errors).length===0:p!==!1&&R(p)?p(s):p:E.errors&&Object.keys(E.errors).length===0},[p,Q,E.errors,s]),Ue=m({},E,{initialValues:A.current,initialErrors:O.current,initialTouched:V.current,initialStatus:k.current,handleBlur:q,handleChange:Y,handleReset:Ve,handleSubmit:_e,resetForm:B,setErrors:ce,setFormikState:ve,setFieldTouched:N,setFieldValue:U,setFieldError:P,setStatus:he,setSubmitting:ye,setTouched:oe,setValues:se,submitForm:J,validateForm:I,validateField:le,isValid:ke,dirty:Q,unregisterField:Me,registerField:Ce,getFieldProps:De,getFieldMeta:Le,getFieldHelpers:we,validateOnBlur:a,validateOnChange:n,validateOnMount:v});return Ue}function Ze(r){var t={};if(r.inner){if(r.inner.length===0)return D(t,r.path,r.message);for(var a=r.inner,n=Array.isArray(a),i=0,a=n?a:a[Symbol.iterator]();;){var c;if(n){if(i>=a.length)break;c=a[i++]}else{if(i=a.next(),i.done)break;c=i.value}var v=c;T(t,v.path)||(t=D(t,v.path,v.message))}}return t}function xe(r,t,n,i){n===void 0&&(n=!1);var a=te(r);return t[n?"validateSync":"validate"](a,{abortEarly:!1,context:i||a})}function te(r){var t=Array.isArray(r)?[]:{};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=String(n);Array.isArray(r[i])===!0?t[i]=r[i].map(function(a){return Array.isArray(a)===!0||Se(a)?te(a):a!==""?a:void 0}):Se(r[i])?t[i]=te(r[i]):t[i]=r[i]!==""?r[i]:void 0}return t}function er(r,t,n){var i=r.slice();return t.forEach(function(c,v){if(typeof i[v]>"u"){var p=n.clone!==!1,C=p&&n.isMergeableObject(c);i[v]=C?re(Array.isArray(c)?[]:{},c,n):c}else n.isMergeableObject(c)?i[v]=re(r[v],c,n):r.indexOf(c)===-1&&i.push(c)}),i}function rr(r){return Array.from(r).filter(function(t){return t.selected}).map(function(t){return t.value})}function tr(r,t,n){if(typeof r=="boolean")return!!t;var i=[],a=!1,c=-1;if(Array.isArray(r))i=r,c=r.indexOf(n),a=c>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!a?i.concat(n):a?i.slice(0,c).concat(i.slice(c+1)):i}var nr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?f.useLayoutEffect:f.useEffect;function b(r){var t=f.useRef(r);return nr(function(){t.current=r}),f.useCallback(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t.current.apply(void 0,i)},[])}var ir=f.forwardRef(function(r,t){var n=r.action,i=be(r,["action"]),a=n??"#",c=Je(),v=c.handleReset,p=c.handleSubmit;return f.createElement("form",m({onSubmit:p,ref:t,onReset:v,action:a},i))});ir.displayName="Form";export{fr as u};
